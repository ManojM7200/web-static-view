import{a as Dt,b as Xo,c as En,d as Fn,e as Rs,f as js,g as qs,h as Ws,i as Ks}from"./chunk-452LLASK.js";import{a as Yt,b as As}from"./chunk-E7ZBKBIV.js";import{$a as Qe,A as Ut,Ab as Us,B as Re,Bb as Hs,C as ve,Ca as _s,D as at,E as wn,Ea as bs,F as ss,G as Oe,Ga as Cs,H as Tn,Ha as vs,I as cs,Ia as Os,J as Pe,Ja as Ps,K as ls,Kb as Ys,L as jo,La as Ms,Lb as $s,M as qo,Ma as Yo,N as ds,Oa as xs,P as ps,Pa as ys,Q as Ce,Qa as Ss,R as gs,Ra as ws,S as ms,T as us,Ta as Ts,U as Wo,Ua as $o,V as Go,W as Ct,Wa as Ke,Xa as oo,Xb as Xs,Ya as Ko,Za as Ne,_ as ie,_a as Qo,a as es,aa as Xe,ab as ks,b as ts,ba as nt,bb as Es,ca as no,da as st,db as Le,eb as Is,fa as fs,fb as me,gb as Me,ib as $t,jb as In,k as ns,kb as Dn,l as bt,lb as Jo,ma as hs,mb as Ds,na as ct,nb as Fs,o as zo,ob as Vs,pa as B,pb as Ns,q as rt,qa as ge,r as os,ra as Ie,rb as Ls,s as Pr,sa as Uo,sb as Bs,t as is,ta as Ho,tb as zs,u as rs,ua as ee,v as ne,va as lt,w as R,wa as vt,x as Q,y as be,ya as Ht,z as as,za as kn,zb as Gs}from"./chunk-2T5CPM73.js";import{Ad as Bo,Ba as Ye,Ca as O,Cb as M,Cd as Za,Da as P,Ec as I,Fb as to,Fc as D,Gb as u,Gc as Ha,Hb as Lt,Ia as La,Ib as pe,Ic as de,Jb as fn,Kb as Gt,L as Ra,Lb as Ba,Ma as Ee,Mb as Fo,N as To,Pb as za,Qb as ja,R as ko,Rb as d,Sb as l,Tb as b,Ub as We,Vb as Ge,Wb as Ao,Wc as Ro,Xb as k,_b as x,a as H,aa as Eo,ac as C,b as J,bc as qa,cc as Wa,dc as Ze,ec as Ga,f as Da,g as Or,gb as Sn,gc as ft,ha as Na,hc as ht,i as Fa,ia as He,ic as _t,ja as Io,kb as p,lb as y,lc as le,mc as f,md as Ya,n as wo,na as Fe,nc as E,o as Aa,oc as V,od as $e,pc as Ua,qd as oe,rc as q,rd as K,sa as N,sc as W,sd as $a,t as Va,ta as Do,tc as G,td as Xa,uc as Vo,vd as Ka,wc as he,wd as No,xc as wt,xd as Lo,yc as ut,yd as Qa,zd as Ja}from"./chunk-P6FHP7DN.js";var io=[{name:"red",value:"#FF0000",id:1,selected:!0},{name:"blue",value:"#0000FF",id:2,selected:!1},{name:"green",value:"#008000",id:3,selected:!1},{name:"yellow",value:"#FFFF00",id:4,selected:!1},{name:"orange",value:"#FFA500",id:5,selected:!1},{name:"purple",value:"#800080",id:6,selected:!1},{name:"pink",value:"#FFC0CB",id:7,selected:!1},{name:"cyan",value:"#00FFFF",id:8,selected:!1},{name:"gray",value:"#808080",id:9,selected:!1},{name:"brown",value:"#A52A2A",id:10,selected:!1},{name:"lime",value:"#00FF00",id:11,selected:!1},{name:"teal",value:"#008080",id:12,selected:!1},{name:"maroon",value:"#800000",id:13,selected:!1},{name:"navy",value:"#000080",id:14,selected:!1},{name:"gold",value:"#FFD700",id:15,selected:!1}],Qs=[{name:"Rent",value:"Rent"},{name:"Maintenace",value:"Maintenace"},{name:"Salary",value:"Salary"},{name:"Supplier",value:"Supplier"},{name:"Distributer",value:"Distributer"},{name:"Marketing",value:"Marketing"},{name:"Finance",value:"Finance"},{name:"Food",value:"Food"},{name:"Entertainment",value:"Entertainment"},{name:"Others",value:"Others"}],Js=[{name:"Monthly",value:"monthly"},{name:"Quarterly",value:"quarterly"},{name:"Yearly",value:"yearly"},{name:"Custom",value:"custom"}],Zs=[{label:"User",value:"User"},{label:"Manager",value:"Manager"},{label:"Admin",value:"Admin"},{label:"Employee",value:"Employee"}],ec=[{label:"Available",value:"Available"},{label:"Unavailable",value:"Unavailable"}],Mr="Add",tc="Update",Xt=["order-summary","sales-overview","sales-summary","customer-summary"];var Je=class{constructor(t,e){this.http=t;this.authServ=e}getProviderDashboardData(t,e,n){let i=ie.DASHBOARD.LIST.replace("_DASHBOARD_DATA_TYPE_",t).replace("_PROVIDER_ID_",e.toString());if(n){let r=Object.entries(n).map(([a,s])=>`${encodeURIComponent(a)}=${encodeURIComponent(s)}`).join("&");i=i.endsWith("/")?i.slice(0,-1):i,i+=`?${r}`}return this.http.get(i)}getProviderDashboardDetail(t,e){let n=ie.DASHBOARD.LIST.replace("_DASHBOARD_DATA_TYPE_",t).replace("_PROVIDER_ID_",e.toString());return this.http.get(n)}};Or(Je,"\u0275fac",function(e){return new(e||Je)(Fe(ct),Fe(B))}),Or(Je,"\u0275prov",He({token:Je,factory:Je.\u0275fac,providedIn:"root"})),Je=Da([La({providedIn:"root"})],Je);function so(o){return o+.5|0}var Kt=(o,t,e)=>Math.max(Math.min(o,e),t);function ro(o){return Kt(so(o*2.55),0,255)}function Qt(o){return Kt(so(o*255),0,255)}function Bt(o){return Kt(so(o/2.55)/100,0,1)}function nc(o){return Kt(so(o*100),0,100)}var Ot={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yr=[..."0123456789ABCDEF"],Od=o=>yr[o&15],Pd=o=>yr[(o&240)>>4]+yr[o&15],ei=o=>(o&240)>>4===(o&15),Md=o=>ei(o.r)&&ei(o.g)&&ei(o.b)&&ei(o.a);function xd(o){var t=o.length,e;return o[0]==="#"&&(t===4||t===5?e={r:255&Ot[o[1]]*17,g:255&Ot[o[2]]*17,b:255&Ot[o[3]]*17,a:t===5?Ot[o[4]]*17:255}:(t===7||t===9)&&(e={r:Ot[o[1]]<<4|Ot[o[2]],g:Ot[o[3]]<<4|Ot[o[4]],b:Ot[o[5]]<<4|Ot[o[6]],a:t===9?Ot[o[7]]<<4|Ot[o[8]]:255})),e}var yd=(o,t)=>o<255?t(o):"";function Sd(o){var t=Md(o)?Od:Pd;return o?"#"+t(o.r)+t(o.g)+t(o.b)+yd(o.a,t):void 0}var wd=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ac(o,t,e){let n=t*Math.min(e,1-e),i=(r,a=(r+o/30)%12)=>e-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Td(o,t,e){let n=(i,r=(i+o/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function kd(o,t,e){let n=ac(o,1,.5),i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)n[i]*=1-t-e,n[i]+=t;return n}function Ed(o,t,e,n,i){return o===i?(t-e)/n+(t<e?6:0):t===i?(e-o)/n+2:(o-t)/n+4}function Sr(o){let e=o.r/255,n=o.g/255,i=o.b/255,r=Math.max(e,n,i),a=Math.min(e,n,i),s=(r+a)/2,c,g,m;return r!==a&&(m=r-a,g=s>.5?m/(2-r-a):m/(r+a),c=Ed(e,n,i,m,r),c=c*60+.5),[c|0,g||0,s]}function wr(o,t,e,n){return(Array.isArray(t)?o(t[0],t[1],t[2]):o(t,e,n)).map(Qt)}function Tr(o,t,e){return wr(ac,o,t,e)}function Id(o,t,e){return wr(kd,o,t,e)}function Dd(o,t,e){return wr(Td,o,t,e)}function sc(o){return(o%360+360)%360}function Fd(o){let t=wd.exec(o),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?ro(+t[5]):Qt(+t[5]));let i=sc(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?n=Id(i,r,a):t[1]==="hsv"?n=Dd(i,r,a):n=Tr(i,r,a),{r:n[0],g:n[1],b:n[2],a:e}}function Ad(o,t){var e=Sr(o);e[0]=sc(e[0]+t),e=Tr(e),o.r=e[0],o.g=e[1],o.b=e[2]}function Vd(o){if(!o)return;let t=Sr(o),e=t[0],n=nc(t[1]),i=nc(t[2]);return o.a<255?`hsla(${e}, ${n}%, ${i}%, ${Bt(o.a)})`:`hsl(${e}, ${n}%, ${i}%)`}var oc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ic={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Rd(){let o={},t=Object.keys(ic),e=Object.keys(oc),n,i,r,a,s;for(n=0;n<t.length;n++){for(a=s=t[n],i=0;i<e.length;i++)r=e[i],s=s.replace(r,oc[r]);r=parseInt(ic[a],16),o[s]=[r>>16&255,r>>8&255,r&255]}return o}var ti;function Nd(o){ti||(ti=Rd(),ti.transparent=[0,0,0,0]);let t=ti[o.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Ld=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Bd(o){let t=Ld.exec(o),e=255,n,i,r;if(t){if(t[7]!==n){let a=+t[7];e=t[8]?ro(a):Kt(a*255,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?ro(n):Kt(n,0,255)),i=255&(t[4]?ro(i):Kt(i,0,255)),r=255&(t[6]?ro(r):Kt(r,0,255)),{r:n,g:i,b:r,a:e}}}function zd(o){return o&&(o.a<255?`rgba(${o.r}, ${o.g}, ${o.b}, ${Bt(o.a)})`:`rgb(${o.r}, ${o.g}, ${o.b})`)}var xr=o=>o<=.0031308?o*12.92:Math.pow(o,1/2.4)*1.055-.055,Vn=o=>o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4);function jd(o,t,e){let n=Vn(Bt(o.r)),i=Vn(Bt(o.g)),r=Vn(Bt(o.b));return{r:Qt(xr(n+e*(Vn(Bt(t.r))-n))),g:Qt(xr(i+e*(Vn(Bt(t.g))-i))),b:Qt(xr(r+e*(Vn(Bt(t.b))-r))),a:o.a+e*(t.a-o.a)}}function ni(o,t,e){if(o){let n=Sr(o);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=Tr(n),o.r=n[0],o.g=n[1],o.b=n[2]}}function cc(o,t){return o&&Object.assign(t||{},o)}function rc(o){var t={r:0,g:0,b:0,a:255};return Array.isArray(o)?o.length>=3&&(t={r:o[0],g:o[1],b:o[2],a:255},o.length>3&&(t.a=Qt(o[3]))):(t=cc(o,{r:0,g:0,b:0,a:1}),t.a=Qt(t.a)),t}function qd(o){return o.charAt(0)==="r"?Bd(o):Fd(o)}var ao=class o{constructor(t){if(t instanceof o)return t;let e=typeof t,n;e==="object"?n=rc(t):e==="string"&&(n=xd(t)||Nd(t)||qd(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=cc(this._rgb);return t&&(t.a=Bt(t.a)),t}set rgb(t){this._rgb=rc(t)}rgbString(){return this._valid?zd(this._rgb):void 0}hexString(){return this._valid?Sd(this._rgb):void 0}hslString(){return this._valid?Vd(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,i=t.rgb,r,a=e===r?.5:e,s=2*a-1,c=n.a-i.a,g=((s*c===-1?s:(s+c)/(1+s*c))+1)/2;r=1-g,n.r=255&g*n.r+r*i.r+.5,n.g=255&g*n.g+r*i.g+.5,n.b=255&g*n.b+r*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=jd(this._rgb,t._rgb,e)),this}clone(){return new o(this.rgb)}alpha(t){return this._rgb.a=Qt(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=so(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ni(this._rgb,2,t),this}darken(t){return ni(this._rgb,2,-t),this}saturate(t){return ni(this._rgb,1,t),this}desaturate(t){return ni(this._rgb,1,-t),this}rotate(t){return Ad(this._rgb,t),this}};var Cc=(()=>{let o=0;return()=>o++})();function se(o){return o==null}function Ae(o){if(Array.isArray&&Array.isArray(o))return!0;let t=Object.prototype.toString.call(o);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ce(o){return o!==null&&Object.prototype.toString.call(o)==="[object Object]"}function Ue(o){return(typeof o=="number"||o instanceof Number)&&isFinite(+o)}function dt(o,t){return Ue(o)?o:t}function ae(o,t){return typeof o>"u"?t:o}var vc=(o,t)=>typeof o=="string"&&o.endsWith("%")?parseFloat(o)/100:+o/t,Fr=(o,t)=>typeof o=="string"&&o.endsWith("%")?parseFloat(o)/100*t:+o;function Ve(o,t,e){if(o&&typeof o.call=="function")return o.apply(e,t)}function et(o,t,e,n){let i,r,a;if(Ae(o))if(r=o.length,n)for(i=r-1;i>=0;i--)t.call(e,o[i],i);else for(i=0;i<r;i++)t.call(e,o[i],i);else if(ce(o))for(a=Object.keys(o),r=a.length,i=0;i<r;i++)t.call(e,o[a[i]],a[i])}function Ar(o,t){let e,n,i,r;if(!o||!t||o.length!==t.length)return!1;for(e=0,n=o.length;e<n;++e)if(i=o[e],r=t[e],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function ai(o){if(Ae(o))return o.map(ai);if(ce(o)){let t=Object.create(null),e=Object.keys(o),n=e.length,i=0;for(;i<n;++i)t[e[i]]=ai(o[e[i]]);return t}return o}function Oc(o){return["__proto__","prototype","constructor"].indexOf(o)===-1}function Wd(o,t,e,n){if(!Oc(o))return;let i=t[o],r=e[o];ce(i)&&ce(r)?Nn(i,r,n):t[o]=ai(r)}function Nn(o,t,e){let n=Ae(t)?t:[t],i=n.length;if(!ce(o))return o;e=e||{};let r=e.merger||Wd,a;for(let s=0;s<i;++s){if(a=n[s],!ce(a))continue;let c=Object.keys(a);for(let g=0,m=c.length;g<m;++g)r(c[g],o,a,e)}return o}function Bn(o,t){return Nn(o,t,{merger:Gd})}function Gd(o,t,e){if(!Oc(o))return;let n=t[o],i=e[o];ce(n)&&ce(i)?Bn(n,i):Object.prototype.hasOwnProperty.call(t,o)||(t[o]=ai(i))}var lc={"":o=>o,x:o=>o.x,y:o=>o.y};function Ud(o){let t=o.split("."),e=[],n="";for(let i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function Hd(o){let t=Ud(o);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function tn(o,t){return(lc[t]||(lc[t]=Hd(t)))(o)}function li(o){return o.charAt(0).toUpperCase()+o.slice(1)}var zn=o=>typeof o<"u",zt=o=>typeof o=="function",Vr=(o,t)=>{if(o.size!==t.size)return!1;for(let e of o)if(!t.has(e))return!1;return!0};function Pc(o){return o.type==="mouseup"||o.type==="click"||o.type==="contextmenu"}var ue=Math.PI,we=2*ue,Yd=we+ue,si=Number.POSITIVE_INFINITY,$d=ue/180,Be=ue/2,hn=ue/4,dc=ue*2/3,jt=Math.log10,Tt=Math.sign;function jn(o,t,e){return Math.abs(o-t)<e}function Rr(o){let t=Math.round(o);o=jn(o,t,o/1e3)?t:o;let e=Math.pow(10,Math.floor(jt(o))),n=o/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function Mc(o){let t=[],e=Math.sqrt(o),n;for(n=1;n<e;n++)o%n===0&&(t.push(n),t.push(o/n));return e===(e|0)&&t.push(e),t.sort((i,r)=>i-r).pop(),t}function Xd(o){return typeof o=="symbol"||typeof o=="object"&&o!==null&&!(Symbol.toPrimitive in o||"toString"in o||"valueOf"in o)}function qn(o){return!Xd(o)&&!isNaN(parseFloat(o))&&isFinite(o)}function xc(o,t){let e=Math.round(o);return e-t<=o&&e+t>=o}function Nr(o,t,e){let n,i,r;for(n=0,i=o.length;n<i;n++)r=o[n][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function kt(o){return o*(ue/180)}function di(o){return o*(180/ue)}function Lr(o){if(!Ue(o))return;let t=1,e=0;for(;Math.round(o*t)/t!==o;)t*=10,e++;return e}function Br(o,t){let e=t.x-o.x,n=t.y-o.y,i=Math.sqrt(e*e+n*n),r=Math.atan2(n,e);return r<-.5*ue&&(r+=we),{angle:r,distance:i}}function Ir(o,t){return Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2))}function Kd(o,t){return(o-t+Yd)%we-ue}function ot(o){return(o%we+we)%we}function Wn(o,t,e,n){let i=ot(o),r=ot(t),a=ot(e),s=ot(r-i),c=ot(a-i),g=ot(i-r),m=ot(i-a);return i===r||i===a||n&&r===a||s>c&&g<m}function it(o,t,e){return Math.max(t,Math.min(e,o))}function yc(o){return it(o,-32768,32767)}function po(o,t,e,n=1e-6){return o>=Math.min(t,e)-n&&o<=Math.max(t,e)+n}function pi(o,t,e){e=e||(a=>o[a]<t);let n=o.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,e(r)?i=r:n=r;return{lo:i,hi:n}}var Zt=(o,t,e,n)=>pi(o,e,n?i=>{let r=o[i][t];return r<e||r===e&&o[i+1][t]===e}:i=>o[i][t]<e),Sc=(o,t,e)=>pi(o,e,n=>o[n][t]>=e);function wc(o,t,e){let n=0,i=o.length;for(;n<i&&o[n]<t;)n++;for(;i>n&&o[i-1]>e;)i--;return n>0||i<o.length?o.slice(n,i):o}var Tc=["push","pop","shift","splice","unshift"];function kc(o,t){if(o._chartjs){o._chartjs.listeners.push(t);return}Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Tc.forEach(e=>{let n="_onData"+li(e),i=o[e];Object.defineProperty(o,e,{configurable:!0,enumerable:!1,value(...r){let a=i.apply(this,r);return o._chartjs.listeners.forEach(s=>{typeof s[n]=="function"&&s[n](...r)}),a}})})}function zr(o,t){let e=o._chartjs;if(!e)return;let n=e.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(Tc.forEach(r=>{delete o[r]}),delete o._chartjs)}function jr(o){let t=new Set(o);return t.size===o.length?o:Array.from(t)}var qr=function(){return typeof window>"u"?function(o){return o()}:window.requestAnimationFrame}();function Wr(o,t){let e=[],n=!1;return function(...i){e=i,n||(n=!0,qr.call(window,()=>{n=!1,o.apply(t,e)}))}}function Ec(o,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(o,t,n)):o.apply(this,n),t}}var Ic=o=>o==="start"?"left":o==="end"?"right":"center",Gr=(o,t,e)=>o==="start"?t:o==="end"?e:(t+e)/2;function Dc(o,t,e){let n=t.length,i=0,r=n;if(o._sorted){let{iScale:a,vScale:s,_parsed:c}=o,g=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null,m=a.axis,{min:h,max:_,minDefined:v,maxDefined:S}=a.getUserBounds();if(v){if(i=Math.min(Zt(c,m,h).lo,e?n:Zt(t,m,a.getPixelForValue(h)).lo),g){let T=c.slice(0,i+1).reverse().findIndex(w=>!se(w[s.axis]));i-=Math.max(0,T)}i=it(i,0,n-1)}if(S){let T=Math.max(Zt(c,a.axis,_,!0).hi+1,e?0:Zt(t,m,a.getPixelForValue(_),!0).hi+1);if(g){let w=c.slice(T-1).findIndex(F=>!se(F[s.axis]));T+=Math.max(0,w)}r=it(T,i,n)-i}else r=n-i}return{start:i,count:r}}function Fc(o){let{xScale:t,yScale:e,_scaleRanges:n}=o,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return o._scaleRanges=i,!0;let r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,i),r}var oi=o=>o===0||o===1,pc=(o,t,e)=>-(Math.pow(2,10*(o-=1))*Math.sin((o-t)*we/e)),gc=(o,t,e)=>Math.pow(2,-10*o)*Math.sin((o-t)*we/e)+1,Rn={linear:o=>o,easeInQuad:o=>o*o,easeOutQuad:o=>-o*(o-2),easeInOutQuad:o=>(o/=.5)<1?.5*o*o:-.5*(--o*(o-2)-1),easeInCubic:o=>o*o*o,easeOutCubic:o=>(o-=1)*o*o+1,easeInOutCubic:o=>(o/=.5)<1?.5*o*o*o:.5*((o-=2)*o*o+2),easeInQuart:o=>o*o*o*o,easeOutQuart:o=>-((o-=1)*o*o*o-1),easeInOutQuart:o=>(o/=.5)<1?.5*o*o*o*o:-.5*((o-=2)*o*o*o-2),easeInQuint:o=>o*o*o*o*o,easeOutQuint:o=>(o-=1)*o*o*o*o+1,easeInOutQuint:o=>(o/=.5)<1?.5*o*o*o*o*o:.5*((o-=2)*o*o*o*o+2),easeInSine:o=>-Math.cos(o*Be)+1,easeOutSine:o=>Math.sin(o*Be),easeInOutSine:o=>-.5*(Math.cos(ue*o)-1),easeInExpo:o=>o===0?0:Math.pow(2,10*(o-1)),easeOutExpo:o=>o===1?1:-Math.pow(2,-10*o)+1,easeInOutExpo:o=>oi(o)?o:o<.5?.5*Math.pow(2,10*(o*2-1)):.5*(-Math.pow(2,-10*(o*2-1))+2),easeInCirc:o=>o>=1?o:-(Math.sqrt(1-o*o)-1),easeOutCirc:o=>Math.sqrt(1-(o-=1)*o),easeInOutCirc:o=>(o/=.5)<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(o-=2)*o)+1),easeInElastic:o=>oi(o)?o:pc(o,.075,.3),easeOutElastic:o=>oi(o)?o:gc(o,.075,.3),easeInOutElastic(o){return oi(o)?o:o<.5?.5*pc(o*2,.1125,.45):.5+.5*gc(o*2-1,.1125,.45)},easeInBack(o){return o*o*((1.70158+1)*o-1.70158)},easeOutBack(o){return(o-=1)*o*((1.70158+1)*o+1.70158)+1},easeInOutBack(o){let t=1.70158;return(o/=.5)<1?.5*(o*o*(((t*=1.525)+1)*o-t)):.5*((o-=2)*o*(((t*=1.525)+1)*o+t)+2)},easeInBounce:o=>1-Rn.easeOutBounce(1-o),easeOutBounce(o){return o<1/2.75?7.5625*o*o:o<2/2.75?7.5625*(o-=1.5/2.75)*o+.75:o<2.5/2.75?7.5625*(o-=2.25/2.75)*o+.9375:7.5625*(o-=2.625/2.75)*o+.984375},easeInOutBounce:o=>o<.5?Rn.easeInBounce(o*2)*.5:Rn.easeOutBounce(o*2-1)*.5+.5};function Ur(o){if(o&&typeof o=="object"){let t=o.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Hr(o){return Ur(o)?o:new ao(o)}function kr(o){return Ur(o)?o:new ao(o).saturate(.5).darken(.1).hexString()}var Qd=["x","y","borderWidth","radius","tension"],Jd=["color","borderColor","backgroundColor"];function Zd(o){o.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),o.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),o.set("animations",{colors:{type:"color",properties:Jd},numbers:{type:"number",properties:Qd}}),o.describe("animations",{_fallback:"animation"}),o.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function ep(o){o.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var mc=new Map;function tp(o,t){t=t||{};let e=o+JSON.stringify(t),n=mc.get(e);return n||(n=new Intl.NumberFormat(o,t),mc.set(e,n)),n}function go(o,t,e){return tp(t,e).format(o)}var Ac={values(o){return Ae(o)?o:""+o},numeric(o,t,e){if(o===0)return"0";let n=this.chart.options.locale,i,r=o;if(e.length>1){let g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(i="scientific"),r=np(o,e)}let a=jt(Math.abs(r)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(c,this.options.ticks.format),go(o,n,c)},logarithmic(o,t,e){if(o===0)return"0";let n=e[t].significand||o/Math.pow(10,Math.floor(jt(o)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Ac.numeric.call(this,o,t,e):""}};function np(o,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&o!==Math.floor(o)&&(e=o-Math.floor(o)),e}var mo={formatters:Ac};function op(o){o.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),o.route("scale.ticks","color","","color"),o.route("scale.grid","color","","borderColor"),o.route("scale.border","color","","borderColor"),o.route("scale.title","color","","color"),o.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),o.describe("scales",{_fallback:"scale"}),o.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var nn=Object.create(null),gi=Object.create(null);function co(o,t){if(!t)return o;let e=t.split(".");for(let n=0,i=e.length;n<i;++n){let r=e[n];o=o[r]||(o[r]=Object.create(null))}return o}function Er(o,t,e){return typeof t=="string"?Nn(co(o,t),e):Nn(co(o,""),t)}var Dr=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>kr(i.backgroundColor),this.hoverBorderColor=(n,i)=>kr(i.borderColor),this.hoverColor=(n,i)=>kr(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Er(this,t,e)}get(t){return co(this,t)}describe(t,e){return Er(gi,t,e)}override(t,e){return Er(nn,t,e)}route(t,e,n,i){let r=co(this,t),a=co(this,n),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let c=this[s],g=a[i];return ce(c)?Object.assign({},g,c):ae(c,g)},set(c){this[s]=c}}})}apply(t){t.forEach(e=>e(this))}},ze=new Dr({_scriptable:o=>!o.startsWith("on"),_indexable:o=>o!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Zd,ep,op]);function ip(o){return!o||se(o.size)||se(o.family)?null:(o.style?o.style+" ":"")+(o.weight?o.weight+" ":"")+o.size+"px "+o.family}function lo(o,t,e,n,i){let r=t[i];return r||(r=t[i]=o.measureText(i).width,e.push(i)),r>n&&(n=r),n}function Vc(o,t,e,n){n=n||{};let i=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},r=n.garbageCollect=[],n.font=t),o.save(),o.font=t;let a=0,s=e.length,c,g,m,h,_;for(c=0;c<s;c++)if(h=e[c],h!=null&&!Ae(h))a=lo(o,i,r,a,h);else if(Ae(h))for(g=0,m=h.length;g<m;g++)_=h[g],_!=null&&!Ae(_)&&(a=lo(o,i,r,a,_));o.restore();let v=r.length/2;if(v>e.length){for(c=0;c<v;c++)delete i[r[c]];r.splice(0,v)}return a}function on(o,t,e){let n=o.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*n)/n+i}function Yr(o,t){!t&&!o||(t=t||o.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,o.width,o.height),t.restore())}function Rc(o,t,e,n){Nc(o,t,e,n,null)}function Nc(o,t,e,n,i){let r,a,s,c,g,m,h,_,v=t.pointStyle,S=t.rotation,T=t.radius,w=(S||0)*$d;if(v&&typeof v=="object"&&(r=v.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){o.save(),o.translate(e,n),o.rotate(w),o.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),o.restore();return}if(!(isNaN(T)||T<=0)){switch(o.beginPath(),v){default:i?o.ellipse(e,n,i/2,T,0,0,we):o.arc(e,n,T,0,we),o.closePath();break;case"triangle":m=i?i/2:T,o.moveTo(e+Math.sin(w)*m,n-Math.cos(w)*T),w+=dc,o.lineTo(e+Math.sin(w)*m,n-Math.cos(w)*T),w+=dc,o.lineTo(e+Math.sin(w)*m,n-Math.cos(w)*T),o.closePath();break;case"rectRounded":g=T*.516,c=T-g,a=Math.cos(w+hn)*c,h=Math.cos(w+hn)*(i?i/2-g:c),s=Math.sin(w+hn)*c,_=Math.sin(w+hn)*(i?i/2-g:c),o.arc(e-h,n-s,g,w-ue,w-Be),o.arc(e+_,n-a,g,w-Be,w),o.arc(e+h,n+s,g,w,w+Be),o.arc(e-_,n+a,g,w+Be,w+ue),o.closePath();break;case"rect":if(!S){c=Math.SQRT1_2*T,m=i?i/2:c,o.rect(e-m,n-c,2*m,2*c);break}w+=hn;case"rectRot":h=Math.cos(w)*(i?i/2:T),a=Math.cos(w)*T,s=Math.sin(w)*T,_=Math.sin(w)*(i?i/2:T),o.moveTo(e-h,n-s),o.lineTo(e+_,n-a),o.lineTo(e+h,n+s),o.lineTo(e-_,n+a),o.closePath();break;case"crossRot":w+=hn;case"cross":h=Math.cos(w)*(i?i/2:T),a=Math.cos(w)*T,s=Math.sin(w)*T,_=Math.sin(w)*(i?i/2:T),o.moveTo(e-h,n-s),o.lineTo(e+h,n+s),o.moveTo(e+_,n-a),o.lineTo(e-_,n+a);break;case"star":h=Math.cos(w)*(i?i/2:T),a=Math.cos(w)*T,s=Math.sin(w)*T,_=Math.sin(w)*(i?i/2:T),o.moveTo(e-h,n-s),o.lineTo(e+h,n+s),o.moveTo(e+_,n-a),o.lineTo(e-_,n+a),w+=hn,h=Math.cos(w)*(i?i/2:T),a=Math.cos(w)*T,s=Math.sin(w)*T,_=Math.sin(w)*(i?i/2:T),o.moveTo(e-h,n-s),o.lineTo(e+h,n+s),o.moveTo(e+_,n-a),o.lineTo(e-_,n+a);break;case"line":a=i?i/2:Math.cos(w)*T,s=Math.sin(w)*T,o.moveTo(e-a,n-s),o.lineTo(e+a,n+s);break;case"dash":o.moveTo(e,n),o.lineTo(e+Math.cos(w)*(i?i/2:T),n+Math.sin(w)*T);break;case!1:o.closePath();break}o.fill(),t.borderWidth>0&&o.stroke()}}function Ft(o,t,e){return e=e||.5,!t||o&&o.x>t.left-e&&o.x<t.right+e&&o.y>t.top-e&&o.y<t.bottom+e}function $r(o,t){o.save(),o.beginPath(),o.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),o.clip()}function Xr(o){o.restore()}function Lc(o,t,e,n,i){if(!t)return o.lineTo(e.x,e.y);if(i==="middle"){let r=(t.x+e.x)/2;o.lineTo(r,t.y),o.lineTo(r,e.y)}else i==="after"!=!!n?o.lineTo(t.x,e.y):o.lineTo(e.x,t.y);o.lineTo(e.x,e.y)}function Bc(o,t,e,n){if(!t)return o.lineTo(e.x,e.y);o.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function rp(o,t){t.translation&&o.translate(t.translation[0],t.translation[1]),se(t.rotation)||o.rotate(t.rotation),t.color&&(o.fillStyle=t.color),t.textAlign&&(o.textAlign=t.textAlign),t.textBaseline&&(o.textBaseline=t.textBaseline)}function ap(o,t,e,n,i){if(i.strikethrough||i.underline){let r=o.measureText(n),a=t-r.actualBoundingBoxLeft,s=t+r.actualBoundingBoxRight,c=e-r.actualBoundingBoxAscent,g=e+r.actualBoundingBoxDescent,m=i.strikethrough?(c+g)/2:g;o.strokeStyle=o.fillStyle,o.beginPath(),o.lineWidth=i.decorationWidth||2,o.moveTo(a,m),o.lineTo(s,m),o.stroke()}}function sp(o,t){let e=o.fillStyle;o.fillStyle=t.color,o.fillRect(t.left,t.top,t.width,t.height),o.fillStyle=e}function uo(o,t,e,n,i,r={}){let a=Ae(t)?t:[t],s=r.strokeWidth>0&&r.strokeColor!=="",c,g;for(o.save(),o.font=i.string,rp(o,r),c=0;c<a.length;++c)g=a[c],r.backdrop&&sp(o,r.backdrop),s&&(r.strokeColor&&(o.strokeStyle=r.strokeColor),se(r.strokeWidth)||(o.lineWidth=r.strokeWidth),o.strokeText(g,e,n,r.maxWidth)),o.fillText(g,e,n,r.maxWidth),ap(o,e,n,g,r),n+=Number(i.lineHeight);o.restore()}function Kr(o,t){let{x:e,y:n,w:i,h:r,radius:a}=t;o.arc(e+a.topLeft,n+a.topLeft,a.topLeft,1.5*ue,ue,!0),o.lineTo(e,n+r-a.bottomLeft),o.arc(e+a.bottomLeft,n+r-a.bottomLeft,a.bottomLeft,ue,Be,!0),o.lineTo(e+i-a.bottomRight,n+r),o.arc(e+i-a.bottomRight,n+r-a.bottomRight,a.bottomRight,Be,0,!0),o.lineTo(e+i,n+a.topRight),o.arc(e+i-a.topRight,n+a.topRight,a.topRight,0,-Be,!0),o.lineTo(e+a.topLeft,n)}var cp=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lp=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dp(o,t){let e=(""+o).match(cp);if(!e||e[1]==="normal")return t*1.2;switch(o=+e[2],e[3]){case"px":return o;case"%":o/=100;break}return t*o}var pp=o=>+o||0;function mi(o,t){let e={},n=ce(t),i=n?Object.keys(t):t,r=ce(o)?n?a=>ae(o[a],o[t[a]]):a=>o[a]:()=>o;for(let a of i)e[a]=pp(r(a));return e}function Qr(o){return mi(o,{top:"y",right:"x",bottom:"y",left:"x"})}function Jr(o){return mi(o,["topLeft","topRight","bottomLeft","bottomRight"])}function At(o){let t=Qr(o);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Cn(o,t){o=o||{},t=t||ze.font;let e=ae(o.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=ae(o.style,t.style);n&&!(""+n).match(lp)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let i={family:ae(o.family,t.family),lineHeight:dp(ae(o.lineHeight,t.lineHeight),e),size:e,style:n,weight:ae(o.weight,t.weight),string:""};return i.string=ip(i),i}function fo(o,t,e,n){let i=!0,r,a,s;for(r=0,a=o.length;r<a;++r)if(s=o[r],s!==void 0&&(t!==void 0&&typeof s=="function"&&(s=s(t),i=!1),e!==void 0&&Ae(s)&&(s=s[e%s.length],i=!1),s!==void 0))return n&&!i&&(n.cacheable=!1),s}function zc(o,t,e){let{min:n,max:i}=o,r=Fr(t,(i-n)/2),a=(s,c)=>e&&s===0?0:s+c;return{min:a(n,-Math.abs(r)),max:a(i,r)}}function rn(o,t){return Object.assign(Object.create(o),t)}function ui(o,t=[""],e,n,i=()=>o[0]){let r=e||o;typeof n>"u"&&(n=Wc("_fallback",o));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:o,_rootScopes:r,_fallback:n,_getTarget:i,override:s=>ui([s,...o],t,r,n)};return new Proxy(a,{deleteProperty(s,c){return delete s[c],delete s._keys,delete o[0][c],!0},get(s,c){return jc(s,c,()=>Cp(c,t,o,s))},getOwnPropertyDescriptor(s,c){return Reflect.getOwnPropertyDescriptor(s._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(o[0])},has(s,c){return fc(s).includes(c)},ownKeys(s){return fc(s)},set(s,c,g){let m=s._storage||(s._storage=i());return s[c]=m[c]=g,delete s._keys,!0}})}function bn(o,t,e,n){let i={_cacheable:!1,_proxy:o,_context:t,_subProxy:e,_stack:new Set,_descriptors:Zr(o,n),setContext:r=>bn(o,r,e,n),override:r=>bn(o.override(r),t,e,n)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete o[a],!0},get(r,a,s){return jc(r,a,()=>mp(r,a,s))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(o,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(o,a)},getPrototypeOf(){return Reflect.getPrototypeOf(o)},has(r,a){return Reflect.has(o,a)},ownKeys(){return Reflect.ownKeys(o)},set(r,a,s){return o[a]=s,delete r[a],!0}})}function Zr(o,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=o;return{allKeys:i,scriptable:e,indexable:n,isScriptable:zt(e)?e:()=>e,isIndexable:zt(n)?n:()=>n}}var gp=(o,t)=>o?o+li(t):t,ea=(o,t)=>ce(t)&&o!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function jc(o,t,e){if(Object.prototype.hasOwnProperty.call(o,t)||t==="constructor")return o[t];let n=e();return o[t]=n,n}function mp(o,t,e){let{_proxy:n,_context:i,_subProxy:r,_descriptors:a}=o,s=n[t];return zt(s)&&a.isScriptable(t)&&(s=up(t,s,o,e)),Ae(s)&&s.length&&(s=fp(t,s,o,a.isIndexable)),ea(t,s)&&(s=bn(s,i,r&&r[t],a)),s}function up(o,t,e,n){let{_proxy:i,_context:r,_subProxy:a,_stack:s}=e;if(s.has(o))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+o);s.add(o);let c=t(r,a||n);return s.delete(o),ea(o,c)&&(c=ta(i._scopes,i,o,c)),c}function fp(o,t,e,n){let{_proxy:i,_context:r,_subProxy:a,_descriptors:s}=e;if(typeof r.index<"u"&&n(o))return t[r.index%t.length];if(ce(t[0])){let c=t,g=i._scopes.filter(m=>m!==c);t=[];for(let m of c){let h=ta(g,i,o,m);t.push(bn(h,r,a&&a[o],s))}}return t}function qc(o,t,e){return zt(o)?o(t,e):o}var hp=(o,t)=>o===!0?t:typeof o=="string"?tn(t,o):void 0;function _p(o,t,e,n,i){for(let r of t){let a=hp(e,r);if(a){o.add(a);let s=qc(a._fallback,e,i);if(typeof s<"u"&&s!==e&&s!==n)return s}else if(a===!1&&typeof n<"u"&&e!==n)return null}return!1}function ta(o,t,e,n){let i=t._rootScopes,r=qc(t._fallback,e,n),a=[...o,...i],s=new Set;s.add(n);let c=uc(s,a,e,r||e,n);return c===null||typeof r<"u"&&r!==e&&(c=uc(s,a,r,c,n),c===null)?!1:ui(Array.from(s),[""],i,r,()=>bp(t,e,n))}function uc(o,t,e,n,i){for(;e;)e=_p(o,t,e,n,i);return e}function bp(o,t,e){let n=o._getTarget();t in n||(n[t]={});let i=n[t];return Ae(i)&&ce(e)?e:i||{}}function Cp(o,t,e,n){let i;for(let r of t)if(i=Wc(gp(r,o),e),typeof i<"u")return ea(o,i)?ta(e,n,o,i):i}function Wc(o,t){for(let e of t){if(!e)continue;let n=e[o];if(typeof n<"u")return n}}function fc(o){let t=o._keys;return t||(t=o._keys=vp(o._scopes)),t}function vp(o){let t=new Set;for(let e of o)for(let n of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}var Op=Number.EPSILON||1e-14,Ln=(o,t)=>t<o.length&&!o[t].skip&&o[t],Gc=o=>o==="x"?"y":"x";function Pp(o,t,e,n){let i=o.skip?t:o,r=t,a=e.skip?t:e,s=Ir(r,i),c=Ir(a,r),g=s/(s+c),m=c/(s+c);g=isNaN(g)?0:g,m=isNaN(m)?0:m;let h=n*g,_=n*m;return{previous:{x:r.x-h*(a.x-i.x),y:r.y-h*(a.y-i.y)},next:{x:r.x+_*(a.x-i.x),y:r.y+_*(a.y-i.y)}}}function Mp(o,t,e){let n=o.length,i,r,a,s,c,g=Ln(o,0);for(let m=0;m<n-1;++m)if(c=g,g=Ln(o,m+1),!(!c||!g)){if(jn(t[m],0,Op)){e[m]=e[m+1]=0;continue}i=e[m]/t[m],r=e[m+1]/t[m],s=Math.pow(i,2)+Math.pow(r,2),!(s<=9)&&(a=3/Math.sqrt(s),e[m]=i*a*t[m],e[m+1]=r*a*t[m])}}function xp(o,t,e="x"){let n=Gc(e),i=o.length,r,a,s,c=Ln(o,0);for(let g=0;g<i;++g){if(a=s,s=c,c=Ln(o,g+1),!s)continue;let m=s[e],h=s[n];a&&(r=(m-a[e])/3,s[`cp1${e}`]=m-r,s[`cp1${n}`]=h-r*t[g]),c&&(r=(c[e]-m)/3,s[`cp2${e}`]=m+r,s[`cp2${n}`]=h+r*t[g])}}function yp(o,t="x"){let e=Gc(t),n=o.length,i=Array(n).fill(0),r=Array(n),a,s,c,g=Ln(o,0);for(a=0;a<n;++a)if(s=c,c=g,g=Ln(o,a+1),!!c){if(g){let m=g[t]-c[t];i[a]=m!==0?(g[e]-c[e])/m:0}r[a]=s?g?Tt(i[a-1])!==Tt(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}Mp(o,i,r),xp(o,r,t)}function ii(o,t,e){return Math.max(Math.min(o,e),t)}function Sp(o,t){let e,n,i,r,a,s=Ft(o[0],t);for(e=0,n=o.length;e<n;++e)a=r,r=s,s=e<n-1&&Ft(o[e+1],t),r&&(i=o[e],a&&(i.cp1x=ii(i.cp1x,t.left,t.right),i.cp1y=ii(i.cp1y,t.top,t.bottom)),s&&(i.cp2x=ii(i.cp2x,t.left,t.right),i.cp2y=ii(i.cp2y,t.top,t.bottom)))}function Uc(o,t,e,n,i){let r,a,s,c;if(t.spanGaps&&(o=o.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")yp(o,i);else{let g=n?o[o.length-1]:o[0];for(r=0,a=o.length;r<a;++r)s=o[r],c=Pp(g,s,o[Math.min(r+1,a-(n?0:1))%a],t.tension),s.cp1x=c.previous.x,s.cp1y=c.previous.y,s.cp2x=c.next.x,s.cp2y=c.next.y,g=s}t.capBezierPoints&&Sp(o,e)}function fi(){return typeof window<"u"&&typeof document<"u"}function hi(o){let t=o.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ci(o,t,e){let n;return typeof o=="string"?(n=parseInt(o,10),o.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=o,n}var _i=o=>o.ownerDocument.defaultView.getComputedStyle(o,null);function wp(o,t){return _i(o).getPropertyValue(t)}var Tp=["top","right","bottom","left"];function _n(o,t,e){let n={};e=e?"-"+e:"";for(let i=0;i<4;i++){let r=Tp[i];n[r]=parseFloat(o[t+"-"+r+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var kp=(o,t,e)=>(o>0||t>0)&&(!e||!e.shadowRoot);function Ep(o,t){let e=o.touches,n=e&&e.length?e[0]:o,{offsetX:i,offsetY:r}=n,a=!1,s,c;if(kp(i,r,o.target))s=i,c=r;else{let g=t.getBoundingClientRect();s=n.clientX-g.left,c=n.clientY-g.top,a=!0}return{x:s,y:c,box:a}}function an(o,t){if("native"in o)return o;let{canvas:e,currentDevicePixelRatio:n}=t,i=_i(e),r=i.boxSizing==="border-box",a=_n(i,"padding"),s=_n(i,"border","width"),{x:c,y:g,box:m}=Ep(o,e),h=a.left+(m&&s.left),_=a.top+(m&&s.top),{width:v,height:S}=t;return r&&(v-=a.width+s.width,S-=a.height+s.height),{x:Math.round((c-h)/v*e.width/n),y:Math.round((g-_)/S*e.height/n)}}function Ip(o,t,e){let n,i;if(t===void 0||e===void 0){let r=o&&hi(o);if(!r)t=o.clientWidth,e=o.clientHeight;else{let a=r.getBoundingClientRect(),s=_i(r),c=_n(s,"border","width"),g=_n(s,"padding");t=a.width-g.width-c.width,e=a.height-g.height-c.height,n=ci(s.maxWidth,r,"clientWidth"),i=ci(s.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:n||si,maxHeight:i||si}}var en=o=>Math.round(o*10)/10;function Hc(o,t,e,n){let i=_i(o),r=_n(i,"margin"),a=ci(i.maxWidth,o,"clientWidth")||si,s=ci(i.maxHeight,o,"clientHeight")||si,c=Ip(o,t,e),{width:g,height:m}=c;if(i.boxSizing==="content-box"){let _=_n(i,"border","width"),v=_n(i,"padding");g-=v.width+_.width,m-=v.height+_.height}return g=Math.max(0,g-r.width),m=Math.max(0,n?g/n:m-r.height),g=en(Math.min(g,a,c.maxWidth)),m=en(Math.min(m,s,c.maxHeight)),g&&!m&&(m=en(g/2)),(t!==void 0||e!==void 0)&&n&&c.height&&m>c.height&&(m=c.height,g=en(Math.floor(m*n))),{width:g,height:m}}function na(o,t,e){let n=t||1,i=en(o.height*n),r=en(o.width*n);o.height=en(o.height),o.width=en(o.width);let a=o.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${o.height}px`,a.style.width=`${o.width}px`),o.currentDevicePixelRatio!==n||a.height!==i||a.width!==r?(o.currentDevicePixelRatio=n,a.height=i,a.width=r,o.ctx.setTransform(n,0,0,n,0,0),!0):!1}var Yc=function(){let o=!1;try{let t={get passive(){return o=!0,!1}};fi()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return o}();function oa(o,t){let e=wp(o,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Jt(o,t,e,n){return{x:o.x+e*(t.x-o.x),y:o.y+e*(t.y-o.y)}}function $c(o,t,e,n){return{x:o.x+e*(t.x-o.x),y:n==="middle"?e<.5?o.y:t.y:n==="after"?e<1?o.y:t.y:e>0?t.y:o.y}}function Xc(o,t,e,n){let i={x:o.cp2x,y:o.cp2y},r={x:t.cp1x,y:t.cp1y},a=Jt(o,i,e),s=Jt(i,r,e),c=Jt(r,t,e),g=Jt(a,s,e),m=Jt(s,c,e);return Jt(g,m,e)}function Kc(o){return o==="angle"?{between:Wn,compare:Kd,normalize:ot}:{between:po,compare:(t,e)=>t-e,normalize:t=>t}}function hc({start:o,end:t,count:e,loop:n,style:i}){return{start:o%e,end:t%e,loop:n&&(t-o+1)%e===0,style:i}}function Dp(o,t,e){let{property:n,start:i,end:r}=e,{between:a,normalize:s}=Kc(n),c=t.length,{start:g,end:m,loop:h}=o,_,v;if(h){for(g+=c,m+=c,_=0,v=c;_<v&&a(s(t[g%c][n]),i,r);++_)g--,m--;g%=c,m%=c}return m<g&&(m+=c),{start:g,end:m,loop:h,style:o.style}}function Qc(o,t,e){if(!e)return[o];let{property:n,start:i,end:r}=e,a=t.length,{compare:s,between:c,normalize:g}=Kc(n),{start:m,end:h,loop:_,style:v}=Dp(o,t,e),S=[],T=!1,w=null,F,A,z,U=()=>c(i,z,F)&&s(i,z)!==0,L=()=>s(r,F)===0||c(r,z,F),j=()=>T||U(),Z=()=>!T||L();for(let $=m,X=m;$<=h;++$)A=t[$%a],!A.skip&&(F=g(A[n]),F!==z&&(T=c(F,i,r),w===null&&j()&&(w=s(F,i)===0?$:X),w!==null&&Z()&&(S.push(hc({start:w,end:$,loop:_,count:a,style:v})),w=null),X=$,z=F));return w!==null&&S.push(hc({start:w,end:h,loop:_,count:a,style:v})),S}function Jc(o,t){let e=[],n=o.segments;for(let i=0;i<n.length;i++){let r=Qc(n[i],o.points,t);r.length&&e.push(...r)}return e}function Fp(o,t,e,n){let i=0,r=t-1;if(e&&!n)for(;i<t&&!o[i].skip;)i++;for(;i<t&&o[i].skip;)i++;for(i%=t,e&&(r+=i);r>i&&o[r%t].skip;)r--;return r%=t,{start:i,end:r}}function Ap(o,t,e,n){let i=o.length,r=[],a=t,s=o[t],c;for(c=t+1;c<=e;++c){let g=o[c%i];g.skip||g.stop?s.skip||(n=!1,r.push({start:t%i,end:(c-1)%i,loop:n}),t=a=g.stop?c:null):(a=c,s.skip&&(t=c)),s=g}return a!==null&&r.push({start:t%i,end:a%i,loop:n}),r}function Zc(o,t){let e=o.points,n=o.options.spanGaps,i=e.length;if(!i)return[];let r=!!o._loop,{start:a,end:s}=Fp(e,i,r,n);if(n===!0)return _c(o,[{start:a,end:s,loop:r}],e,t);let c=s<a?s+i:s,g=!!o._fullLoop&&a===0&&s===i-1;return _c(o,Ap(e,a,c,g),e,t)}function _c(o,t,e,n){return!n||!n.setContext||!e?t:Vp(o,t,e,n)}function Vp(o,t,e,n){let i=o._chart.getContext(),r=bc(o.options),{_datasetIndex:a,options:{spanGaps:s}}=o,c=e.length,g=[],m=r,h=t[0].start,_=h;function v(S,T,w,F){let A=s?-1:1;if(S!==T){for(S+=c;e[S%c].skip;)S-=A;for(;e[T%c].skip;)T+=A;S%c!==T%c&&(g.push({start:S%c,end:T%c,loop:w,style:F}),m=F,h=T%c)}}for(let S of t){h=s?h:S.start;let T=e[h%c],w;for(_=h+1;_<=S.end;_++){let F=e[_%c];w=bc(n.setContext(rn(i,{type:"segment",p0:T,p1:F,p0DataIndex:(_-1)%c,p1DataIndex:_%c,datasetIndex:a}))),Rp(w,m)&&v(h,_-1,S.loop,m),T=F,m=w}h<_-1&&v(h,_-1,S.loop,m)}return g}function bc(o){return{backgroundColor:o.backgroundColor,borderCapStyle:o.borderCapStyle,borderDash:o.borderDash,borderDashOffset:o.borderDashOffset,borderJoinStyle:o.borderJoinStyle,borderWidth:o.borderWidth,borderColor:o.borderColor}}function Rp(o,t){if(!t)return!1;let e=[],n=function(i,r){return Ur(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(o,n)!==JSON.stringify(t,n)}function ri(o,t,e){return o.options.clip?o[e]:t[e]}function Np(o,t){let{xScale:e,yScale:n}=o;return e&&n?{left:ri(e,t,"left"),right:ri(e,t,"right"),top:ri(n,t,"top"),bottom:ri(n,t,"bottom")}:t}function el(o,t){let e=t._clip;if(e.disabled)return!1;let n=Np(t,o.chartArea);return{left:e.left===!1?0:n.left-(e.left===!0?0:e.left),right:e.right===!1?o.width:n.right+(e.right===!0?0:e.right),top:e.top===!1?0:n.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?o.height:n.bottom+(e.bottom===!0?0:e.bottom)}}var ma=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){let r=e.listeners[i],a=e.duration;r.forEach(s=>s({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(n-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=qr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;let r=n.items,a=r.length-1,s=!1,c;for(;a>=0;--a)c=r[a],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),s=!0):(r[a]=r[r.length-1],r.pop());s&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},qt=new ma,tl="transparent",Lp={boolean(o,t,e){return e>.5?t:o},color(o,t,e){let n=Hr(o||tl),i=n.valid&&Hr(t||tl);return i&&i.valid?i.mix(n,e).hexString():t},number(o,t,e){return o+(t-o)*e}},ua=class{constructor(t,e,n,i){let r=e[n];i=fo([t.to,i,r,t.from]);let a=fo([t.from,r,i]);this._active=!0,this._fn=t.fn||Lp[t.type||typeof a],this._easing=Rn[t.easing]||Rn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let i=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=fo([t.to,e,i,t.from]),this._from=fo([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,i=this._prop,r=this._from,a=this._loop,s=this._to,c;if(this._active=r!==s&&(a||e<n),!this._active){this._target[i]=s,this._notify(!0);return}if(e<0){this._target[i]=r;return}c=e/n%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,s,c)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}},fa=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ce(t))return;let e=Object.keys(ze.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{let r=t[i];if(!ce(r))return;let a={};for(let s of e)a[s]=r[s];(Ae(r.properties)&&r.properties||[i]).forEach(s=>{(s===i||!n.has(s))&&n.set(s,a)})})}_animateOptions(t,e){let n=e.options,i=zp(t,n);if(!i)return[];let r=this._createAnimations(i,n);return n.$shared&&Bp(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){let n=this._properties,i=[],r=t.$animations||(t.$animations={}),a=Object.keys(e),s=Date.now(),c;for(c=a.length-1;c>=0;--c){let g=a[c];if(g.charAt(0)==="$")continue;if(g==="options"){i.push(...this._animateOptions(t,e));continue}let m=e[g],h=r[g],_=n.get(g);if(h)if(_&&h.active()){h.update(_,m,s);continue}else h.cancel();if(!_||!_.duration){t[g]=m;continue}r[g]=h=new ua(_,t,g,m),i.push(h)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return qt.add(this._chart,n),!0}};function Bp(o,t){let e=[],n=Object.keys(t);for(let i=0;i<n.length;i++){let r=o[n[i]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function zp(o,t){if(!t)return;let e=o.options;if(!e){o.options=t;return}return e.$shared&&(o.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function nl(o,t){let e=o&&o.options||{},n=e.reverse,i=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:n?r:i,end:n?i:r}}function jp(o,t,e){if(e===!1)return!1;let n=nl(o,e),i=nl(t,e);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function qp(o){let t,e,n,i;return ce(o)?(t=o.top,e=o.right,n=o.bottom,i=o.left):t=e=n=i=o,{top:t,right:e,bottom:n,left:i,disabled:o===!1}}function Gl(o,t){let e=[],n=o._getSortedDatasetMetas(t),i,r;for(i=0,r=n.length;i<r;++i)e.push(n[i].index);return e}function ol(o,t,e,n={}){let i=o.keys,r=n.mode==="single",a,s,c,g;if(t===null)return;let m=!1;for(a=0,s=i.length;a<s;++a){if(c=+i[a],c===e){if(m=!0,n.all)continue;break}g=o.values[c],Ue(g)&&(r||t===0||Tt(t)===Tt(g))&&(t+=g)}return!m&&!n.all?0:t}function Wp(o,t){let{iScale:e,vScale:n}=t,i=e.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",a=Object.keys(o),s=new Array(a.length),c,g,m;for(c=0,g=a.length;c<g;++c)m=a[c],s[c]={[i]:m,[r]:o[m]};return s}function ia(o,t){let e=o&&o.options.stacked;return e||e===void 0&&t.stack!==void 0}function Gp(o,t,e){return`${o.id}.${t.id}.${e.stack||e.type}`}function Up(o){let{min:t,max:e,minDefined:n,maxDefined:i}=o.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function Hp(o,t,e){let n=o[t]||(o[t]={});return n[e]||(n[e]={})}function il(o,t,e,n){for(let i of t.getMatchingVisibleMetas(n).reverse()){let r=o[i.index];if(e&&r>0||!e&&r<0)return i.index}return null}function rl(o,t){let{chart:e,_cachedMeta:n}=o,i=e._stacks||(e._stacks={}),{iScale:r,vScale:a,index:s}=n,c=r.axis,g=a.axis,m=Gp(r,a,n),h=t.length,_;for(let v=0;v<h;++v){let S=t[v],{[c]:T,[g]:w}=S,F=S._stacks||(S._stacks={});_=F[g]=Hp(i,m,T),_[s]=w,_._top=il(_,a,!0,n.type),_._bottom=il(_,a,!1,n.type);let A=_._visualValues||(_._visualValues={});A[s]=w}}function ra(o,t){let e=o.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Yp(o,t){return rn(o,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function $p(o,t,e){return rn(o,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ho(o,t){let e=o.controller.index,n=o.vScale&&o.vScale.axis;if(n){t=t||o._parsed;for(let i of t){let r=i._stacks;if(!r||r[n]===void 0||r[n][e]===void 0)return;delete r[n][e],r[n]._visualValues!==void 0&&r[n]._visualValues[e]!==void 0&&delete r[n]._visualValues[e]}}}var aa=o=>o==="reset"||o==="none",al=(o,t)=>t?o:Object.assign({},o),Xp=(o,t,e)=>o&&!t.hidden&&t._stacked&&{keys:Gl(e,!0),values:null},Ei=(()=>{class o{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ia(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ho(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(_,v,S,T)=>_==="x"?v:_==="r"?T:S,a=n.xAxisID=ae(i.xAxisID,ra(e,"x")),s=n.yAxisID=ae(i.yAxisID,ra(e,"y")),c=n.rAxisID=ae(i.rAxisID,ra(e,"r")),g=n.indexAxis,m=n.iAxisID=r(g,a,s,c),h=n.vAxisID=r(g,s,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&zr(this._data,this),e._stacked&&ho(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(ce(n)){let r=this._cachedMeta;this._data=Wp(n,r)}else if(i!==n){if(i){zr(i,this);let r=this._cachedMeta;ho(r),r._parsed=[]}n&&Object.isExtensible(n)&&kc(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,i=this.getDataset(),r=!1;this._dataCheck();let a=n._stacked;n._stacked=ia(n.vScale,n),n.stack!==i.stack&&(r=!0,ho(n),n.stack=i.stack),this._resyncElements(e),(r||a!==n._stacked)&&(rl(this,n._parsed),n._stacked=ia(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:s}=i,c=a.axis,g=e===0&&n===r.length?!0:i._sorted,m=e>0&&i._parsed[e-1],h,_,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{Ae(r[e])?v=this.parseArrayData(i,r,e,n):ce(r[e])?v=this.parseObjectData(i,r,e,n):v=this.parsePrimitiveData(i,r,e,n);let S=()=>_[c]===null||m&&_[c]<m[c];for(h=0;h<n;++h)i._parsed[h+e]=_=v[h],g&&(S()&&(g=!1),m=_);i._sorted=g}s&&rl(this,v)}parsePrimitiveData(e,n,i,r){let{iScale:a,vScale:s}=e,c=a.axis,g=s.axis,m=a.getLabels(),h=a===s,_=new Array(r),v,S,T;for(v=0,S=r;v<S;++v)T=v+i,_[v]={[c]:h||a.parse(m[T],T),[g]:s.parse(n[T],T)};return _}parseArrayData(e,n,i,r){let{xScale:a,yScale:s}=e,c=new Array(r),g,m,h,_;for(g=0,m=r;g<m;++g)h=g+i,_=n[h],c[g]={x:a.parse(_[0],h),y:s.parse(_[1],h)};return c}parseObjectData(e,n,i,r){let{xScale:a,yScale:s}=e,{xAxisKey:c="x",yAxisKey:g="y"}=this._parsing,m=new Array(r),h,_,v,S;for(h=0,_=r;h<_;++h)v=h+i,S=n[v],m[h]={x:a.parse(tn(S,c),v),y:s.parse(tn(S,g),v)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){let r=this.chart,a=this._cachedMeta,s=n[e.axis],c={keys:Gl(r,!0),values:n._stacks[e.axis]._visualValues};return ol(c,s,a.index,{mode:i})}updateRangeFromParsed(e,n,i,r){let a=i[n.axis],s=a===null?NaN:a,c=r&&i._stacks[n.axis];r&&c&&(r.values=c,s=ol(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,n){let i=this._cachedMeta,r=i._parsed,a=i._sorted&&e===i.iScale,s=r.length,c=this._getOtherScale(e),g=Xp(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:_}=Up(c),v,S;function T(){S=r[v];let w=S[c.axis];return!Ue(S[e.axis])||h>w||_<w}for(v=0;v<s&&!(!T()&&(this.updateRangeFromParsed(m,e,S,g),a));++v);if(a){for(v=s-1;v>=0;--v)if(!T()){this.updateRangeFromParsed(m,e,S,g);break}}return m}getAllParsedValues(e){let n=this._cachedMeta._parsed,i=[],r,a,s;for(r=0,a=n.length;r<a;++r)s=n[r][e.axis],Ue(s)&&i.push(s);return i}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,i=n.iScale,r=n.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=qp(ae(this.options.clip,jp(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],a=n.chartArea,s=[],c=this._drawStart||0,g=this._drawCount||r.length-c,m=this.options.drawActiveElementsOnTop,h;for(i.dataset&&i.dataset.draw(e,a,c,g),h=c;h<c+g;++h){let _=r[h];_.hidden||(_.active&&m?s.push(_):_.draw(e,a))}for(h=0;h<s.length;++h)s[h].draw(e,a)}getStyle(e,n){let i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){let r=this.getDataset(),a;if(e>=0&&e<this._cachedMeta.data.length){let s=this._cachedMeta.data[e];a=s.$context||(s.$context=$p(this.getContext(),e,s)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=Yp(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){let r=n==="active",a=this._cachedDataOpts,s=e+"-"+n,c=a[s],g=this.enableOptionSharing&&zn(i);if(c)return al(c,g);let m=this.chart.config,h=m.datasetElementScopeKeys(this._type,e),_=r?[`${e}Hover`,"hover",e,""]:[e,""],v=m.getOptionScopes(this.getDataset(),h),S=Object.keys(ze.elements[e]),T=()=>this.getContext(i,r,n),w=m.resolveNamedOptions(v,S,T,_);return w.$shared&&(w.$shared=g,a[s]=Object.freeze(al(w,g))),w}_resolveAnimations(e,n,i){let r=this.chart,a=this._cachedDataOpts,s=`animation-${n}`,c=a[s];if(c)return c;let g;if(r.options.animation!==!1){let h=this.chart.config,_=h.datasetAnimationScopeKeys(this._type,n),v=h.getOptionScopes(this.getDataset(),_);g=h.createResolver(v,this.getContext(e,i,n))}let m=new fa(r,g&&g.animations);return g&&g._cacheable&&(a[s]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||aa(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,a=this.getSharedOptions(i),s=this.includeOptions(n,a)||a!==r;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:s}}updateElement(e,n,i,r){aa(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!aa(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;let a=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,i=this._cachedMeta.data;for(let[c,g,m]of this._syncList)this[c](g,m);this._syncList=[];let r=i.length,a=n.length,s=Math.min(a,r);s&&this.parse(0,s),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,n,i=!0){let r=this._cachedMeta,a=r.data,s=e+n,c,g=m=>{for(m.length+=n,c=m.length-1;c>=s;c--)m[c]=m[c-n]};for(g(a),c=e;c<s;++c)a[c]=new this.dataElementType;this._parsing&&g(r._parsed),this.parse(e,n),i&&this.updateElements(a,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){let i=this._cachedMeta;if(this._parsing){let r=i._parsed.splice(e,n);i._stacked&&ho(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return o})();function Kp(o,t){if(!o._cache.$bar){let e=o.getMatchingVisibleMetas(t),n=[];for(let i=0,r=e.length;i<r;i++)n=n.concat(e[i].controller.getAllParsedValues(o));o._cache.$bar=jr(n.sort((i,r)=>i-r))}return o._cache.$bar}function Qp(o){let t=o.iScale,e=Kp(t,o.type),n=t._length,i,r,a,s,c=()=>{a===32767||a===-32768||(zn(s)&&(n=Math.min(n,Math.abs(a-s)||n)),s=a)};for(i=0,r=e.length;i<r;++i)a=t.getPixelForValue(e[i]),c();for(s=void 0,i=0,r=t.ticks.length;i<r;++i)a=t.getPixelForTick(i),c();return n}function Jp(o,t,e,n){let i=e.barThickness,r,a;return se(i)?(r=t.min*e.categoryPercentage,a=e.barPercentage):(r=i*n,a=1),{chunk:r/n,ratio:a,start:t.pixels[o]-r/2}}function Zp(o,t,e,n){let i=t.pixels,r=i[o],a=o>0?i[o-1]:null,s=o<i.length-1?i[o+1]:null,c=e.categoryPercentage;a===null&&(a=r-(s===null?t.end-t.start:s-r)),s===null&&(s=r+r-a);let g=r-(r-Math.min(a,s))/2*c;return{chunk:Math.abs(s-a)/2*c/n,ratio:e.barPercentage,start:g}}function eg(o,t,e,n){let i=e.parse(o[0],n),r=e.parse(o[1],n),a=Math.min(i,r),s=Math.max(i,r),c=a,g=s;Math.abs(a)>Math.abs(s)&&(c=s,g=a),t[e.axis]=g,t._custom={barStart:c,barEnd:g,start:i,end:r,min:a,max:s}}function Ul(o,t,e,n){return Ae(o)?eg(o,t,e,n):t[e.axis]=e.parse(o,n),t}function sl(o,t,e,n){let i=o.iScale,r=o.vScale,a=i.getLabels(),s=i===r,c=[],g,m,h,_;for(g=e,m=e+n;g<m;++g)_=t[g],h={},h[i.axis]=s||i.parse(a[g],g),c.push(Ul(_,h,r,g));return c}function sa(o){return o&&o.barStart!==void 0&&o.barEnd!==void 0}function tg(o,t,e){return o!==0?Tt(o):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function ng(o){let t,e,n,i,r;return o.horizontal?(t=o.base>o.x,e="left",n="right"):(t=o.base<o.y,e="bottom",n="top"),t?(i="end",r="start"):(i="start",r="end"),{start:e,end:n,reverse:t,top:i,bottom:r}}function og(o,t,e,n){let i=t.borderSkipped,r={};if(!i){o.borderSkipped=r;return}if(i===!0){o.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:a,end:s,reverse:c,top:g,bottom:m}=ng(o);i==="middle"&&e&&(o.enableBorderRadius=!0,(e._top||0)===n?i=g:(e._bottom||0)===n?i=m:(r[cl(m,a,s,c)]=!0,i=g)),r[cl(i,a,s,c)]=!0,o.borderSkipped=r}function cl(o,t,e,n){return n?(o=ig(o,t,e),o=ll(o,e,t)):o=ll(o,t,e),o}function ig(o,t,e){return o===t?e:o===e?t:o}function ll(o,t,e){return o==="start"?t:o==="end"?e:o}function rg(o,{inflateAmount:t},e){o.inflateAmount=t==="auto"?e===1?.33:0:t}var Hl=(()=>{class o extends Ei{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,r){return sl(e,n,i,r)}parseArrayData(e,n,i,r){return sl(e,n,i,r)}parseObjectData(e,n,i,r){let{iScale:a,vScale:s}=e,{xAxisKey:c="x",yAxisKey:g="y"}=this._parsing,m=a.axis==="x"?c:g,h=s.axis==="x"?c:g,_=[],v,S,T,w;for(v=i,S=i+r;v<S;++v)w=n[v],T={},T[a.axis]=a.parse(tn(w,m),v),_.push(Ul(tn(w,h),T,s,v));return _}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);let a=i._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let n=this._cachedMeta,{iScale:i,vScale:r}=n,a=this.getParsed(e),s=a._custom,c=sa(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){let a=r==="reset",{index:s,_cachedMeta:{vScale:c}}=this,g=c.getBasePixel(),m=c.isHorizontal(),h=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(n,r);for(let S=n;S<n+i;S++){let T=this.getParsed(S),w=a||se(T[c.axis])?{base:g,head:g}:this._calculateBarValuePixels(S),F=this._calculateBarIndexPixels(S,h),A=(T._stacks||{})[c.axis],z={horizontal:m,base:w.base,enableBorderRadius:!A||sa(T._custom)||s===A._top||s===A._bottom,x:m?w.head:F.center,y:m?F.center:w.head,height:m?F.size:Math.abs(w.size),width:m?Math.abs(w.size):F.size};v&&(z.options=_||this.resolveDataElementOptions(S,e[S].active?"active":r));let U=z.options||e[S].options;og(z,U,A,s),rg(z,U,h.ratio),this.updateElement(e[S],S,z,r)}}_getStacks(e,n){let{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),a=i.options.stacked,s=[],c=this._cachedMeta.controller.getParsed(n),g=c&&c[i.axis],m=h=>{let _=h._parsed.find(S=>S[i.axis]===g),v=_&&_[h.vScale.axis];if(se(v)||isNaN(v))return!0};for(let h of r)if(!(n!==void 0&&m(h))&&((a===!1||s.indexOf(h.stack)===-1||a===void 0&&h.stack===void 0)&&s.push(h.stack),h.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){let e={},n=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)e[ae(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){let r=this._getStacks(e,i),a=n!==void 0?r.indexOf(n):-1;return a===-1?r.length-1:a}_getRuler(){let e=this.options,n=this._cachedMeta,i=n.iScale,r=[],a,s;for(a=0,s=n.data.length;a<s;++a)r.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));let c=e.barThickness;return{min:c||Qp(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:a,minBarLength:s}}=this,c=a||0,g=this.getParsed(e),m=g._custom,h=sa(m),_=g[n.axis],v=0,S=i?this.applyStack(n,g,i):_,T,w;S!==_&&(v=S-_,S=_),h&&(_=m.barStart,S=m.barEnd-m.barStart,_!==0&&Tt(_)!==Tt(m.barEnd)&&(v=0),v+=_);let F=!se(a)&&!h?a:v,A=n.getPixelForValue(F);if(this.chart.getDataVisibility(e)?T=n.getPixelForValue(v+S):T=A,w=T-A,Math.abs(w)<s){w=tg(w,n,c)*s,_===c&&(A-=w/2);let z=n.getPixelForDecimal(0),U=n.getPixelForDecimal(1),L=Math.min(z,U),j=Math.max(z,U);A=Math.max(Math.min(A,j),L),T=A+w,i&&!h&&(g._stacks[n.axis]._visualValues[r]=n.getValueForPixel(T)-n.getValueForPixel(A))}if(A===n.getPixelForValue(c)){let z=Tt(w)*n.getLineWidthForValue(c)/2;A+=z,w-=z}return{size:w,base:A,head:T,center:T+w/2}}_calculateBarIndexPixels(e,n){let i=n.scale,r=this.options,a=r.skipNull,s=ae(r.maxBarThickness,1/0),c,g,m=this._getAxisCount();if(n.grouped){let h=a?this._getStackCount(e):n.stackCount,_=r.barThickness==="flex"?Zp(e,n,r,h*m):Jp(e,n,r,h*m),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(ae(v,this.getFirstScaleIdForIndexAxis())),T=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+S;c=_.start+_.chunk*T+_.chunk/2,g=Math.min(s,_.chunk*_.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),g=Math.min(s,n.min*n.ratio);return{base:c-g/2,head:c+g/2,center:c,size:g}}draw(){let e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length,a=0;for(;a<r;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}return o})();function ag(o,t,e){let n=1,i=1,r=0,a=0;if(t<we){let s=o,c=s+t,g=Math.cos(s),m=Math.sin(s),h=Math.cos(c),_=Math.sin(c),v=(z,U,L)=>Wn(z,s,c,!0)?1:Math.max(U,U*e,L,L*e),S=(z,U,L)=>Wn(z,s,c,!0)?-1:Math.min(U,U*e,L,L*e),T=v(0,g,h),w=v(Be,m,_),F=S(ue,g,h),A=S(ue+Be,m,_);n=(T-F)/2,i=(w-A)/2,r=-(T+F)/2,a=-(w+A)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:a}}var Ii=(()=>{class o extends Ei{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data,{labels:{pointStyle:i,textAlign:r,color:a,useBorderRadius:s,borderRadius:c}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((g,m)=>{let _=e.getDatasetMeta(0).controller.getStyle(m);return{text:g,fillStyle:_.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(m),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:r,pointStyle:i,borderRadius:s&&(c||_.borderRadius),index:m}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){let i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=g=>+i[g];if(ce(i[e])){let{key:g="value"}=this._parsing;a=m=>+tn(i[m],g)}let s,c;for(s=e,c=e+n;s<c;++s)r._parsed[s]=a(s)}}_getRotation(){return kt(this.options.rotation-90)}_getCircumference(){return kt(this.options.circumference)}_getRotationExtents(){let e=we,n=-we;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),s=r._getCircumference();e=Math.min(e,a),n=Math.max(n,a+s)}return{rotation:e,circumference:n-e}}update(e){let n=this.chart,{chartArea:i}=n,r=this._cachedMeta,a=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-s)/2,0),g=Math.min(vc(this.options.cutout,c),1),m=this._getRingWeight(this.index),{circumference:h,rotation:_}=this._getRotationExtents(),{ratioX:v,ratioY:S,offsetX:T,offsetY:w}=ag(_,h,g),F=(i.width-s)/v,A=(i.height-s)/S,z=Math.max(Math.min(F,A)/2,0),U=Fr(this.options.radius,z),L=Math.max(U*g,0),j=(U-L)/this._getVisibleDatasetWeightTotal();this.offsetX=T*U,this.offsetY=w*U,r.total=this.calculateTotal(),this.outerRadius=U-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*m,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){let i=this.options,r=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/we)}updateElements(e,n,i,r){let a=r==="reset",s=this.chart,c=s.chartArea,m=s.options.animation,h=(c.left+c.right)/2,_=(c.top+c.bottom)/2,v=a&&m.animateScale,S=v?0:this.innerRadius,T=v?0:this.outerRadius,{sharedOptions:w,includeOptions:F}=this._getSharedOptions(n,r),A=this._getRotation(),z;for(z=0;z<n;++z)A+=this._circumference(z,a);for(z=n;z<n+i;++z){let U=this._circumference(z,a),L=e[z],j={x:h+this.offsetX,y:_+this.offsetY,startAngle:A,endAngle:A+U,circumference:U,outerRadius:T,innerRadius:S};F&&(j.options=w||this.resolveDataElementOptions(z,L.active?"active":r)),A+=U,this.updateElement(L,z,j,r)}}calculateTotal(){let e=this._cachedMeta,n=e.data,i=0,r;for(r=0;r<n.length;r++){let a=e._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){let n=this._cachedMeta.total;return n>0&&!isNaN(e)?we*(Math.abs(e)/n):0}getLabelAndValue(e){let n=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=go(n._parsed[e],i.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let n=0,i=this.chart,r,a,s,c,g;if(!e){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){s=i.getDatasetMeta(r),e=s.data,c=s.controller;break}}if(!e)return 0;for(r=0,a=e.length;r<a;++r)g=c.resolveDataElementOptions(r),g.borderAlign!=="inner"&&(n=Math.max(n,g.borderWidth||0,g.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){let a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(ae(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return o})(),Yl=(()=>{class o extends Ei{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let n=this._cachedMeta,{dataset:i,data:r=[],_dataset:a}=n,s=this.chart._animationsDisabled,{start:c,count:g}=Dc(n,r,s);this._drawStart=c,this._drawCount=g,Fc(n)&&(c=0,g=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=r;let m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:m},e),this.updateElements(r,c,g,e)}updateElements(e,n,i,r){let a=r==="reset",{iScale:s,vScale:c,_stacked:g,_dataset:m}=this._cachedMeta,{sharedOptions:h,includeOptions:_}=this._getSharedOptions(n,r),v=s.axis,S=c.axis,{spanGaps:T,segment:w}=this.options,F=qn(T)?T:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||a||r==="none",z=n+i,U=e.length,L=n>0&&this.getParsed(n-1);for(let j=0;j<U;++j){let Z=e[j],$=A?Z:{};if(j<n||j>=z){$.skip=!0;continue}let X=this.getParsed(j),fe=se(X[S]),Te=$[v]=s.getPixelForValue(X[v],j),Se=$[S]=a||fe?c.getBasePixel():c.getPixelForValue(g?this.applyStack(c,X,g):X[S],j);$.skip=isNaN(Te)||isNaN(Se)||fe,$.stop=j>0&&Math.abs(X[v]-L[v])>F,w&&($.parsed=X,$.raw=m.data[j]),_&&($.options=h||this.resolveDataElementOptions(j,Z.active?"active":r)),A||this.updateElement(Z,j,$,r),L=X}}getMaxOverflow(){let e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;let a=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,a,s)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return o})();function vn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var ha=class o{static override(t){Object.assign(o.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return vn()}parse(){return vn()}format(){return vn()}add(){return vn()}diff(){return vn()}startOf(){return vn()}endOf(){return vn()}},sg={_date:ha};function cg(o,t,e,n){let{controller:i,data:r,_sorted:a}=o,s=i._cachedMeta.iScale,c=o.dataset&&o.dataset.options?o.dataset.options.spanGaps:null;if(s&&t===s.axis&&t!=="r"&&a&&r.length){let g=s._reversePixels?Sc:Zt;if(n){if(i._sharedOptions){let m=r[0],h=typeof m.getRange=="function"&&m.getRange(t);if(h){let _=g(r,t,e-h),v=g(r,t,e+h);return{lo:_.lo,hi:v.hi}}}}else{let m=g(r,t,e);if(c){let{vScale:h}=i._cachedMeta,{_parsed:_}=o,v=_.slice(0,m.lo+1).reverse().findIndex(T=>!se(T[h.axis]));m.lo-=Math.max(0,v);let S=_.slice(m.hi).findIndex(T=>!se(T[h.axis]));m.hi+=Math.max(0,S)}return m}}return{lo:0,hi:r.length-1}}function xo(o,t,e,n,i){let r=o.getSortedVisibleDatasetMetas(),a=e[t];for(let s=0,c=r.length;s<c;++s){let{index:g,data:m}=r[s],{lo:h,hi:_}=cg(r[s],t,a,i);for(let v=h;v<=_;++v){let S=m[v];S.skip||n(S,g,v)}}}function lg(o){let t=o.indexOf("x")!==-1,e=o.indexOf("y")!==-1;return function(n,i){let r=t?Math.abs(n.x-i.x):0,a=e?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function ca(o,t,e,n,i){let r=[];return!i&&!o.isPointInArea(t)||xo(o,e,t,function(s,c,g){!i&&!Ft(s,o.chartArea,0)||s.inRange(t.x,t.y,n)&&r.push({element:s,datasetIndex:c,index:g})},!0),r}function dg(o,t,e,n){let i=[];function r(a,s,c){let{startAngle:g,endAngle:m}=a.getProps(["startAngle","endAngle"],n),{angle:h}=Br(a,{x:t.x,y:t.y});Wn(h,g,m)&&i.push({element:a,datasetIndex:s,index:c})}return xo(o,e,t,r),i}function pg(o,t,e,n,i,r){let a=[],s=lg(e),c=Number.POSITIVE_INFINITY;function g(m,h,_){let v=m.inRange(t.x,t.y,i);if(n&&!v)return;let S=m.getCenterPoint(i);if(!(!!r||o.isPointInArea(S))&&!v)return;let w=s(t,S);w<c?(a=[{element:m,datasetIndex:h,index:_}],c=w):w===c&&a.push({element:m,datasetIndex:h,index:_})}return xo(o,e,t,g),a}function la(o,t,e,n,i,r){return!r&&!o.isPointInArea(t)?[]:e==="r"&&!n?dg(o,t,e,i):pg(o,t,e,n,i,r)}function dl(o,t,e,n,i){let r=[],a=e==="x"?"inXRange":"inYRange",s=!1;return xo(o,e,t,(c,g,m)=>{c[a]&&c[a](t[e],i)&&(r.push({element:c,datasetIndex:g,index:m}),s=s||c.inRange(t.x,t.y,i))}),n&&!s?[]:r}var gg={evaluateInteractionItems:xo,modes:{index(o,t,e,n){let i=an(t,o),r=e.axis||"x",a=e.includeInvisible||!1,s=e.intersect?ca(o,i,r,n,a):la(o,i,r,!1,n,a),c=[];return s.length?(o.getSortedVisibleDatasetMetas().forEach(g=>{let m=s[0].index,h=g.data[m];h&&!h.skip&&c.push({element:h,datasetIndex:g.index,index:m})}),c):[]},dataset(o,t,e,n){let i=an(t,o),r=e.axis||"xy",a=e.includeInvisible||!1,s=e.intersect?ca(o,i,r,n,a):la(o,i,r,!1,n,a);if(s.length>0){let c=s[0].datasetIndex,g=o.getDatasetMeta(c).data;s=[];for(let m=0;m<g.length;++m)s.push({element:g[m],datasetIndex:c,index:m})}return s},point(o,t,e,n){let i=an(t,o),r=e.axis||"xy",a=e.includeInvisible||!1;return ca(o,i,r,n,a)},nearest(o,t,e,n){let i=an(t,o),r=e.axis||"xy",a=e.includeInvisible||!1;return la(o,i,r,e.intersect,n,a)},x(o,t,e,n){let i=an(t,o);return dl(o,i,"x",e.intersect,n)},y(o,t,e,n){let i=an(t,o);return dl(o,i,"y",e.intersect,n)}}},$l=["left","top","right","bottom"];function _o(o,t){return o.filter(e=>e.pos===t)}function pl(o,t){return o.filter(e=>$l.indexOf(e.pos)===-1&&e.box.axis===t)}function bo(o,t){return o.sort((e,n)=>{let i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function mg(o){let t=[],e,n,i,r,a,s;for(e=0,n=(o||[]).length;e<n;++e)i=o[e],{position:r,options:{stack:a,stackWeight:s=1}}=i,t.push({index:e,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:s});return t}function ug(o){let t={};for(let e of o){let{stack:n,pos:i,stackWeight:r}=e;if(!n||!$l.includes(i))continue;let a=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function fg(o,t){let e=ug(o),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t,r,a,s;for(r=0,a=o.length;r<a;++r){s=o[r];let{fullSize:c}=s.box,g=e[s.stack],m=g&&s.stackWeight/g.weight;s.horizontal?(s.width=m?m*n:c&&t.availableWidth,s.height=i):(s.width=n,s.height=m?m*i:c&&t.availableHeight)}return e}function hg(o){let t=mg(o),e=bo(t.filter(g=>g.box.fullSize),!0),n=bo(_o(t,"left"),!0),i=bo(_o(t,"right")),r=bo(_o(t,"top"),!0),a=bo(_o(t,"bottom")),s=pl(t,"x"),c=pl(t,"y");return{fullSize:e,leftAndTop:n.concat(r),rightAndBottom:i.concat(c).concat(a).concat(s),chartArea:_o(t,"chartArea"),vertical:n.concat(i).concat(c),horizontal:r.concat(a).concat(s)}}function gl(o,t,e,n){return Math.max(o[e],t[e])+Math.max(o[n],t[n])}function Xl(o,t){o.top=Math.max(o.top,t.top),o.left=Math.max(o.left,t.left),o.bottom=Math.max(o.bottom,t.bottom),o.right=Math.max(o.right,t.right)}function _g(o,t,e,n){let{pos:i,box:r}=e,a=o.maxPadding;if(!ce(i)){e.size&&(o[i]-=e.size);let h=n[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?r.height:r.width),e.size=h.size/h.count,o[i]+=e.size}r.getPadding&&Xl(a,r.getPadding());let s=Math.max(0,t.outerWidth-gl(a,o,"left","right")),c=Math.max(0,t.outerHeight-gl(a,o,"top","bottom")),g=s!==o.w,m=c!==o.h;return o.w=s,o.h=c,e.horizontal?{same:g,other:m}:{same:m,other:g}}function bg(o){let t=o.maxPadding;function e(n){let i=Math.max(t[n]-o[n],0);return o[n]+=i,i}o.y+=e("top"),o.x+=e("left"),e("right"),e("bottom")}function Cg(o,t){let e=t.maxPadding;function n(i){let r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(t[a],e[a])}),r}return n(o?["left","right"]:["top","bottom"])}function Oo(o,t,e,n){let i=[],r,a,s,c,g,m;for(r=0,a=o.length,g=0;r<a;++r){s=o[r],c=s.box,c.update(s.width||t.w,s.height||t.h,Cg(s.horizontal,t));let{same:h,other:_}=_g(t,e,s,n);g|=h&&i.length,m=m||_,c.fullSize||i.push(s)}return g&&Oo(i,t,e,n)||m}function bi(o,t,e,n,i){o.top=e,o.left=t,o.right=t+n,o.bottom=e+i,o.width=n,o.height=i}function ml(o,t,e,n){let i=e.padding,{x:r,y:a}=t;for(let s of o){let c=s.box,g=n[s.stack]||{count:1,placed:0,weight:1},m=s.stackWeight/g.weight||1;if(s.horizontal){let h=t.w*m,_=g.size||c.height;zn(g.start)&&(a=g.start),c.fullSize?bi(c,i.left,a,e.outerWidth-i.right-i.left,_):bi(c,t.left+g.placed,a,h,_),g.start=a,g.placed+=h,a=c.bottom}else{let h=t.h*m,_=g.size||c.width;zn(g.start)&&(r=g.start),c.fullSize?bi(c,r,i.top,_,e.outerHeight-i.bottom-i.top):bi(c,r,t.top+g.placed,_,h),g.start=r,g.placed+=h,r=c.right}}t.x=r,t.y=a}var Ci={addBox(o,t){o.boxes||(o.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},o.boxes.push(t)},removeBox(o,t){let e=o.boxes?o.boxes.indexOf(t):-1;e!==-1&&o.boxes.splice(e,1)},configure(o,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(o,t,e,n){if(!o)return;let i=At(o.options.layout.padding),r=Math.max(t-i.width,0),a=Math.max(e-i.height,0),s=hg(o.boxes),c=s.vertical,g=s.horizontal;et(o.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});let m=c.reduce((T,w)=>w.box.options&&w.box.options.display===!1?T:T+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/m,hBoxMaxHeight:a/2}),_=Object.assign({},i);Xl(_,At(n));let v=Object.assign({maxPadding:_,w:r,h:a,x:i.left,y:i.top},i),S=fg(c.concat(g),h);Oo(s.fullSize,v,h,S),Oo(c,v,h,S),Oo(g,v,h,S)&&Oo(c,v,h,S),bg(v),ml(s.leftAndTop,v,h,S),v.x+=v.w,v.y+=v.h,ml(s.rightAndBottom,v,h,S),o.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},et(s.chartArea,T=>{let w=T.box;Object.assign(w,o.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}},yi=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}},_a=class extends yi{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Mi="$chartjs",vg={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ul=o=>o===null||o==="";function Og(o,t){let e=o.style,n=o.getAttribute("height"),i=o.getAttribute("width");if(o[Mi]={initial:{height:n,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ul(i)){let r=oa(o,"width");r!==void 0&&(o.width=r)}if(ul(n))if(o.style.height==="")o.height=o.width/(t||2);else{let r=oa(o,"height");r!==void 0&&(o.height=r)}return o}var Kl=Yc?{passive:!0}:!1;function Pg(o,t,e){o&&o.addEventListener(t,e,Kl)}function Mg(o,t,e){o&&o.canvas&&o.canvas.removeEventListener(t,e,Kl)}function xg(o,t){let e=vg[o.type]||o.type,{x:n,y:i}=an(o,t);return{type:e,chart:t,native:o,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Si(o,t){for(let e of o)if(e===t||e.contains(t))return!0}function yg(o,t,e){let n=o.canvas,i=new MutationObserver(r=>{let a=!1;for(let s of r)a=a||Si(s.addedNodes,n),a=a&&!Si(s.removedNodes,n);a&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function Sg(o,t,e){let n=o.canvas,i=new MutationObserver(r=>{let a=!1;for(let s of r)a=a||Si(s.removedNodes,n),a=a&&!Si(s.addedNodes,n);a&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}var Po=new Map,fl=0;function Ql(){let o=window.devicePixelRatio;o!==fl&&(fl=o,Po.forEach((t,e)=>{e.currentDevicePixelRatio!==o&&t()}))}function wg(o,t){Po.size||window.addEventListener("resize",Ql),Po.set(o,t)}function Tg(o){Po.delete(o),Po.size||window.removeEventListener("resize",Ql)}function kg(o,t,e){let n=o.canvas,i=n&&hi(n);if(!i)return;let r=Wr((s,c)=>{let g=i.clientWidth;e(s,c),g<i.clientWidth&&e()},window),a=new ResizeObserver(s=>{let c=s[0],g=c.contentRect.width,m=c.contentRect.height;g===0&&m===0||r(g,m)});return a.observe(i),wg(o,r),a}function da(o,t,e){e&&e.disconnect(),t==="resize"&&Tg(o)}function Eg(o,t,e){let n=o.canvas,i=Wr(r=>{o.ctx!==null&&e(xg(r,o))},o);return Pg(n,t,i),i}var ba=class extends yi{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Og(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[Mi])return!1;let n=e[Mi].initial;["height","width"].forEach(r=>{let a=n[r];se(a)?e.removeAttribute(r):e.setAttribute(r,a)});let i=n.style||{};return Object.keys(i).forEach(r=>{e.style[r]=i[r]}),e.width=e.width,delete e[Mi],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let i=t.$proxies||(t.$proxies={}),a={attach:yg,detach:Sg,resize:kg}[e]||Eg;i[e]=a(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:da,detach:da,resize:da}[e]||Mg)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Hc(t,e,n,i)}isAttached(t){let e=t&&hi(t);return!!(e&&e.isConnected)}};function Ig(o){return!fi()||typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas?_a:ba}var cn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return qn(this.x)&&qn(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let i={};return t.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}};function Dg(o,t){let e=o.options.ticks,n=Fg(o),i=Math.min(e.maxTicksLimit||n,n),r=e.major.enabled?Vg(t):[],a=r.length,s=r[0],c=r[a-1],g=[];if(a>i)return Rg(t,g,r,a/i),g;let m=Ag(r,t,i);if(a>0){let h,_,v=a>1?Math.round((c-s)/(a-1)):null;for(vi(t,g,m,se(v)?0:s-v,s),h=0,_=a-1;h<_;h++)vi(t,g,m,r[h],r[h+1]);return vi(t,g,m,c,se(v)?t.length:c+v),g}return vi(t,g,m),g}function Fg(o){let t=o.options.offset,e=o._tickSize(),n=o._length/e+(t?0:1),i=o._maxLength/e;return Math.floor(Math.min(n,i))}function Ag(o,t,e){let n=Ng(o),i=t.length/e;if(!n)return Math.max(i,1);let r=Mc(n);for(let a=0,s=r.length-1;a<s;a++){let c=r[a];if(c>i)return c}return Math.max(i,1)}function Vg(o){let t=[],e,n;for(e=0,n=o.length;e<n;e++)o[e].major&&t.push(e);return t}function Rg(o,t,e,n){let i=0,r=e[0],a;for(n=Math.ceil(n),a=0;a<o.length;a++)a===r&&(t.push(o[a]),i++,r=e[i*n])}function vi(o,t,e,n,i){let r=ae(n,0),a=Math.min(ae(i,o.length),o.length),s=0,c,g,m;for(e=Math.ceil(e),i&&(c=i-n,e=c/Math.floor(c/e)),m=r;m<0;)s++,m=Math.round(r+s*e);for(g=Math.max(r,0);g<a;g++)g===m&&(t.push(o[g]),s++,m=Math.round(r+s*e))}function Ng(o){let t=o.length,e,n;if(t<2)return!1;for(n=o[0],e=1;e<t;++e)if(o[e]-o[e-1]!==n)return!1;return n}var Lg=o=>o==="left"?"right":o==="right"?"left":o,hl=(o,t,e)=>t==="top"||t==="left"?o[t]+e:o[t]-e,_l=(o,t)=>Math.min(t||o,o);function bl(o,t){let e=[],n=o.length/t,i=o.length,r=0;for(;r<i;r+=n)e.push(o[Math.floor(r)]);return e}function Bg(o,t,e){let n=o.ticks.length,i=Math.min(t,n-1),r=o._startPixel,a=o._endPixel,s=1e-6,c=o.getPixelForTick(i),g;if(!(e&&(n===1?g=Math.max(c-r,a-c):t===0?g=(o.getPixelForTick(1)-c)/2:g=(c-o.getPixelForTick(i-1))/2,c+=i<t?g:-g,c<r-s||c>a+s)))return c}function zg(o,t){et(o,e=>{let n=e.gc,i=n.length/2,r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}})}function Co(o){return o.drawTicks?o.tickLength:0}function Cl(o,t){if(!o.display)return 0;let e=Cn(o.font,t),n=At(o.padding);return(Ae(o.text)?o.text.length:1)*e.lineHeight+n.height}function jg(o,t){return rn(o,{scale:t,type:"scale"})}function qg(o,t,e){return rn(o,{tick:e,index:t,type:"tick"})}function Wg(o,t,e){let n=Ic(o);return(e&&t!=="right"||!e&&t==="right")&&(n=Lg(n)),n}function Gg(o,t,e,n){let{top:i,left:r,bottom:a,right:s,chart:c}=o,{chartArea:g,scales:m}=c,h=0,_,v,S,T=a-i,w=s-r;if(o.isHorizontal()){if(v=Gr(n,r,s),ce(e)){let F=Object.keys(e)[0],A=e[F];S=m[F].getPixelForValue(A)+T-t}else e==="center"?S=(g.bottom+g.top)/2+T-t:S=hl(o,e,t);_=s-r}else{if(ce(e)){let F=Object.keys(e)[0],A=e[F];v=m[F].getPixelForValue(A)-w+t}else e==="center"?v=(g.left+g.right)/2-w+t:v=hl(o,e,t);S=Gr(n,a,i),h=e==="left"?-Be:Be}return{titleX:v,titleY:S,maxWidth:_,rotation:h}}var Pn=class o extends cn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=dt(t,Number.POSITIVE_INFINITY),e=dt(e,Number.NEGATIVE_INFINITY),n=dt(n,Number.POSITIVE_INFINITY),i=dt(i,Number.NEGATIVE_INFINITY),{min:dt(t,n),max:dt(e,i),minDefined:Ue(t),maxDefined:Ue(e)}}getMinMax(t){let{min:e,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:e,max:n};let s=this.getMatchingVisibleMetas();for(let c=0,g=s.length;c<g;++c)a=s[c].controller.getMinMax(this,t),i||(e=Math.min(e,a.min)),r||(n=Math.max(n,a.max));return e=r&&e>n?n:e,n=i&&e>n?e:n,{min:dt(e,dt(n,e)),max:dt(n,dt(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ve(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:i,grace:r,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zc(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=s<this.ticks.length;this._convertTicksToLabels(c?bl(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Dg(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ve(this.options.afterUpdate,[this])}beforeSetDimensions(){Ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ve(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ve(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=Ve(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){Ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=_l(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation,a=i,s,c,g;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}let m=this._getLabelSizes(),h=m.widest.width,_=m.highest.height,v=it(this.chart.width-h,0,this.maxWidth);s=t.offset?this.maxWidth/n:v/(n-1),h+6>s&&(s=v/(n-(t.offset?.5:1)),c=this.maxHeight-Co(t.grid)-e.padding-Cl(t.title,this.chart.options.font),g=Math.sqrt(h*h+_*_),a=di(Math.min(Math.asin(it((m.highest.height+6)/s,-1,1)),Math.asin(it(c/g,-1,1))-Math.asin(it(_/g,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ve(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let c=Cl(i,e.options.font);if(s?(t.width=this.maxWidth,t.height=Co(r)+c):(t.height=this.maxHeight,t.width=Co(r)+c),n.display&&this.ticks.length){let{first:g,last:m,widest:h,highest:_}=this._getLabelSizes(),v=n.padding*2,S=kt(this.labelRotation),T=Math.cos(S),w=Math.sin(S);if(s){let F=n.mirror?0:w*h.width+T*_.height;t.height=Math.min(this.maxHeight,t.height+F+v)}else{let F=n.mirror?0:T*h.width+w*_.height;t.width=Math.min(this.maxWidth,t.width+F+v)}this._calculatePadding(g,m,w,T)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){let{ticks:{align:r,padding:a},position:s}=this.options,c=this.labelRotation!==0,g=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let m=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),_=0,v=0;c?g?(_=i*t.width,v=n*e.height):(_=n*t.height,v=i*e.width):r==="start"?v=e.width:r==="end"?_=t.width:r!=="inner"&&(_=t.width/2,v=e.width/2),this.paddingLeft=Math.max((_-m+a)*this.width/(this.width-m),0),this.paddingRight=Math.max((v-h+a)*this.width/(this.width-h),0)}else{let m=e.height/2,h=t.height/2;r==="start"?(m=0,h=t.height):r==="end"&&(m=e.height,h=0),this.paddingTop=m+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ve(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)se(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=bl(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:i,_longestTextCache:r}=this,a=[],s=[],c=Math.floor(e/_l(e,n)),g=0,m=0,h,_,v,S,T,w,F,A,z,U,L;for(h=0;h<e;h+=c){if(S=t[h].label,T=this._resolveTickFontOptions(h),i.font=w=T.string,F=r[w]=r[w]||{data:{},gc:[]},A=T.lineHeight,z=U=0,!se(S)&&!Ae(S))z=lo(i,F.data,F.gc,z,S),U=A;else if(Ae(S))for(_=0,v=S.length;_<v;++_)L=S[_],!se(L)&&!Ae(L)&&(z=lo(i,F.data,F.gc,z,L),U+=A);a.push(z),s.push(U),g=Math.max(z,g),m=Math.max(U,m)}zg(r,e);let j=a.indexOf(g),Z=s.indexOf(m),$=X=>({width:a[X]||0,height:s[X]||0});return{first:$(0),last:$(e-1),widest:$(j),highest:$(Z),widths:a,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return yc(this._alignToPixels?on(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=qg(this.getContext(),t,n))}return this.$context||(this.$context=jg(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=kt(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,s=r?r.widest.width+a:0,c=r?r.highest.height+a:0;return this.isHorizontal()?c*n>s*i?s/n:c/i:c*i<s*n?c/n:s/i}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,i=this.options,{grid:r,position:a,border:s}=i,c=r.offset,g=this.isHorizontal(),h=this.ticks.length+(c?1:0),_=Co(r),v=[],S=s.setContext(this.getContext()),T=S.display?S.width:0,w=T/2,F=function(ke){return on(n,ke,T)},A,z,U,L,j,Z,$,X,fe,Te,Se,mt;if(a==="top")A=F(this.bottom),Z=this.bottom-_,X=A-w,Te=F(t.top)+w,mt=t.bottom;else if(a==="bottom")A=F(this.top),Te=t.top,mt=F(t.bottom)-w,Z=A+w,X=this.top+_;else if(a==="left")A=F(this.right),j=this.right-_,$=A-w,fe=F(t.left)+w,Se=t.right;else if(a==="right")A=F(this.left),fe=t.left,Se=F(t.right)-w,j=A+w,$=this.left+_;else if(e==="x"){if(a==="center")A=F((t.top+t.bottom)/2+.5);else if(ce(a)){let ke=Object.keys(a)[0],je=a[ke];A=F(this.chart.scales[ke].getPixelForValue(je))}Te=t.top,mt=t.bottom,Z=A+w,X=Z+_}else if(e==="y"){if(a==="center")A=F((t.left+t.right)/2);else if(ce(a)){let ke=Object.keys(a)[0],je=a[ke];A=F(this.chart.scales[ke].getPixelForValue(je))}j=A-w,$=j-_,fe=t.left,Se=t.right}let yt=ae(i.ticks.maxTicksLimit,h),_e=Math.max(1,Math.ceil(h/yt));for(z=0;z<h;z+=_e){let ke=this.getContext(z),je=r.setContext(ke),St=s.setContext(ke),tt=je.lineWidth,xn=je.color,So=St.dash||[],yn=St.dashOffset,Zn=je.tickWidth,mn=je.tickColor,eo=je.tickBorderDash||[],un=je.tickBorderDashOffset;U=Bg(this,z,c),U!==void 0&&(L=on(n,U,tt),g?j=$=fe=Se=L:Z=X=Te=mt=L,v.push({tx1:j,ty1:Z,tx2:$,ty2:X,x1:fe,y1:Te,x2:Se,y2:mt,width:tt,color:xn,borderDash:So,borderDashOffset:yn,tickWidth:Zn,tickColor:mn,tickBorderDash:eo,tickBorderDashOffset:un}))}return this._ticksLength=h,this._borderValue=A,v}_computeLabelItems(t){let e=this.axis,n=this.options,{position:i,ticks:r}=n,a=this.isHorizontal(),s=this.ticks,{align:c,crossAlign:g,padding:m,mirror:h}=r,_=Co(n.grid),v=_+m,S=h?-m:v,T=-kt(this.labelRotation),w=[],F,A,z,U,L,j,Z,$,X,fe,Te,Se,mt="middle";if(i==="top")j=this.bottom-S,Z=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+S,Z=this._getXAxisLabelAlignment();else if(i==="left"){let _e=this._getYAxisLabelAlignment(_);Z=_e.textAlign,L=_e.x}else if(i==="right"){let _e=this._getYAxisLabelAlignment(_);Z=_e.textAlign,L=_e.x}else if(e==="x"){if(i==="center")j=(t.top+t.bottom)/2+v;else if(ce(i)){let _e=Object.keys(i)[0],ke=i[_e];j=this.chart.scales[_e].getPixelForValue(ke)+v}Z=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")L=(t.left+t.right)/2-v;else if(ce(i)){let _e=Object.keys(i)[0],ke=i[_e];L=this.chart.scales[_e].getPixelForValue(ke)}Z=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(c==="start"?mt="top":c==="end"&&(mt="bottom"));let yt=this._getLabelSizes();for(F=0,A=s.length;F<A;++F){z=s[F],U=z.label;let _e=r.setContext(this.getContext(F));$=this.getPixelForTick(F)+r.labelOffset,X=this._resolveTickFontOptions(F),fe=X.lineHeight,Te=Ae(U)?U.length:1;let ke=Te/2,je=_e.color,St=_e.textStrokeColor,tt=_e.textStrokeWidth,xn=Z;a?(L=$,Z==="inner"&&(F===A-1?xn=this.options.reverse?"left":"right":F===0?xn=this.options.reverse?"right":"left":xn="center"),i==="top"?g==="near"||T!==0?Se=-Te*fe+fe/2:g==="center"?Se=-yt.highest.height/2-ke*fe+fe:Se=-yt.highest.height+fe/2:g==="near"||T!==0?Se=fe/2:g==="center"?Se=yt.highest.height/2-ke*fe:Se=yt.highest.height-Te*fe,h&&(Se*=-1),T!==0&&!_e.showLabelBackdrop&&(L+=fe/2*Math.sin(T))):(j=$,Se=(1-Te)*fe/2);let So;if(_e.showLabelBackdrop){let yn=At(_e.backdropPadding),Zn=yt.heights[F],mn=yt.widths[F],eo=Se-yn.top,un=0-yn.left;switch(mt){case"middle":eo-=Zn/2;break;case"bottom":eo-=Zn;break}switch(Z){case"center":un-=mn/2;break;case"right":un-=mn;break;case"inner":F===A-1?un-=mn:F>0&&(un-=mn/2);break}So={left:un,top:eo,width:mn+yn.width,height:Zn+yn.height,color:_e.backdropColor}}w.push({label:U,font:X,textOffset:Se,options:{rotation:T,color:je,strokeColor:St,strokeWidth:tt,textAlign:xn,textBaseline:mt,translation:[L,j],backdrop:So}})}return w}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-kt(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),s=t+r,c=a.widest.width,g,m;return e==="left"?i?(m=this.right+r,n==="near"?g="left":n==="center"?(g="center",m+=c/2):(g="right",m+=c)):(m=this.right-s,n==="near"?g="right":n==="center"?(g="center",m-=c/2):(g="left",m=this.left)):e==="right"?i?(m=this.left+r,n==="near"?g="right":n==="center"?(g="center",m-=c/2):(g="left",m-=c)):(m=this.left+s,n==="near"?g="left":n==="center"?(g="center",m+=c/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,a),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let i=this.ticks.findIndex(r=>r.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,a,s=(c,g,m)=>{!m.width||!m.color||(n.save(),n.lineWidth=m.width,n.strokeStyle=m.color,n.setLineDash(m.borderDash||[]),n.lineDashOffset=m.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(g.x,g.y),n.stroke(),n.restore())};if(e.display)for(r=0,a=i.length;r<a;++r){let c=i[r];e.drawOnChartArea&&s({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&s({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;let s=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,g,m,h,_;this.isHorizontal()?(g=on(t,this.left,a)-a/2,m=on(t,this.right,s)+s/2,h=_=c):(h=on(t,this.top,a)-a/2,_=on(t,this.bottom,s)+s/2,g=m=c),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(g,h),e.lineTo(m,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,i=this._computeLabelArea();i&&$r(n,i);let r=this.getLabelItems(t);for(let a of r){let s=a.options,c=a.font,g=a.label,m=a.textOffset;uo(n,g,0,m,c,s)}i&&Xr(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;let r=Cn(n.font),a=At(n.padding),s=n.align,c=r.lineHeight/2;e==="bottom"||e==="center"||ce(e)?(c+=a.bottom,Ae(n.text)&&(c+=r.lineHeight*(n.text.length-1))):c+=a.top;let{titleX:g,titleY:m,maxWidth:h,rotation:_}=Gg(this,c,e,s);uo(t,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:_,textAlign:Wg(s,e,i),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=ae(t.grid&&t.grid.z,-1),i=ae(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==o.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[],r,a;for(r=0,a=e.length;r<a;++r){let s=e[r];s[n]===this.id&&(!t||s.type===t)&&i.push(s)}return i}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return Cn(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Un=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;Yg(e)&&(n=this.register(e));let i=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,Ug(t,a,n),this.override&&ze.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in ze[i]&&(delete ze[i][n],this.override&&delete nn[n])}};function Ug(o,t,e){let n=Nn(Object.create(null),[e?ze.get(e):{},ze.get(t),o.defaults]);ze.set(t,n),o.defaultRoutes&&Hg(t,o.defaultRoutes),o.descriptors&&ze.describe(t,o.descriptors)}function Hg(o,t){Object.keys(t).forEach(e=>{let n=e.split("."),i=n.pop(),r=[o].concat(n).join("."),a=t[e].split("."),s=a.pop(),c=a.join(".");ze.route(r,i,c,s)})}function Yg(o){return"id"in o&&"defaults"in o}var Ca=class{constructor(){this.controllers=new Un(Ei,"datasets",!0),this.elements=new Un(cn,"elements"),this.plugins=new Un(Object,"plugins"),this.scales=new Un(Pn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(i=>{let r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):et(i,a=>{let s=n||this._getRegistryForType(a);this._exec(t,s,a)})})}_exec(t,e,n){let i=li(t);Ve(n["before"+i],[],n),e[t](n),Ve(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}},Vt=new Ca,va=class{constructor(){this._init=void 0}notify(t,e,n,i){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;let r=i?this._descriptors(t).filter(i):this._descriptors(t),a=this._notify(r,t,e,n);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),a}_notify(t,e,n,i){i=i||{};for(let r of t){let a=r.plugin,s=a[n],c=[e,i,r.options];if(Ve(s,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,i=ae(n.options&&n.options.plugins,{}),r=$g(n);return i===!1&&!e?[]:Kg(t,r,i,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,i=(r,a)=>r.filter(s=>!a.some(c=>s.plugin.id===c.plugin.id));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}};function $g(o){let t={},e=[],n=Object.keys(Vt.plugins.items);for(let r=0;r<n.length;r++)e.push(Vt.getPlugin(n[r]));let i=o.plugins||[];for(let r=0;r<i.length;r++){let a=i[r];e.indexOf(a)===-1&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function Xg(o,t){return!t&&o===!1?null:o===!0?{}:o}function Kg(o,{plugins:t,localIds:e},n,i){let r=[],a=o.getContext();for(let s of t){let c=s.id,g=Xg(n[c],i);g!==null&&r.push({plugin:s,options:Qg(o.config,{plugin:s,local:e[c]},g,a)})}return r}function Qg(o,{plugin:t,local:e},n,i){let r=o.pluginScopeKeys(t),a=o.getOptionScopes(n,r);return e&&t.defaults&&a.push(t.defaults),o.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Oa(o,t){let e=ze.datasets[o]||{};return((t.datasets||{})[o]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Jg(o,t){let e=o;return o==="_index_"?e=t:o==="_value_"&&(e=t==="x"?"y":"x"),e}function Zg(o,t){return o===t?"_index_":"_value_"}function vl(o){if(o==="x"||o==="y"||o==="r")return o}function em(o){if(o==="top"||o==="bottom")return"x";if(o==="left"||o==="right")return"y"}function Pa(o,...t){if(vl(o))return o;for(let e of t){let n=e.axis||em(e.position)||o.length>1&&vl(o[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${o}' axis. Please provide 'axis' or 'position' option.`)}function Ol(o,t,e){if(e[t+"AxisID"]===o)return{axis:t}}function tm(o,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===o||n.yAxisID===o);if(e.length)return Ol(o,"x",e[0])||Ol(o,"y",e[0])}return{}}function nm(o,t){let e=nn[o.type]||{scales:{}},n=t.scales||{},i=Oa(o.type,t),r=Object.create(null);return Object.keys(n).forEach(a=>{let s=n[a];if(!ce(s))return console.error(`Invalid scale configuration for scale: ${a}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);let c=Pa(a,s,tm(a,o),ze.scales[s.type]),g=Zg(c,i),m=e.scales||{};r[a]=Bn(Object.create(null),[{axis:c},s,m[c],m[g]])}),o.data.datasets.forEach(a=>{let s=a.type||o.type,c=a.indexAxis||Oa(s,t),m=(nn[s]||{}).scales||{};Object.keys(m).forEach(h=>{let _=Jg(h,c),v=a[_+"AxisID"]||_;r[v]=r[v]||Object.create(null),Bn(r[v],[{axis:_},n[v],m[h]])})}),Object.keys(r).forEach(a=>{let s=r[a];Bn(s,[ze.scales[s.type],ze.scale])}),r}function Jl(o){let t=o.options||(o.options={});t.plugins=ae(t.plugins,{}),t.scales=nm(o,t)}function Zl(o){return o=o||{},o.datasets=o.datasets||[],o.labels=o.labels||[],o}function om(o){return o=o||{},o.data=Zl(o.data),Jl(o),o}var Pl=new Map,ed=new Set;function Oi(o,t){let e=Pl.get(o);return e||(e=t(),Pl.set(o,e),ed.add(e)),e}var vo=(o,t,e)=>{let n=tn(t,e);n!==void 0&&o.add(n)},Ma=class{constructor(t){this._config=om(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Zl(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Jl(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Oi(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Oi(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Oi(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return Oi(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,i=n.get(t);return(!i||e)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){let{options:i,type:r}=this,a=this._cachedScopes(t,n),s=a.get(e);if(s)return s;let c=new Set;e.forEach(m=>{t&&(c.add(t),m.forEach(h=>vo(c,t,h))),m.forEach(h=>vo(c,i,h)),m.forEach(h=>vo(c,nn[r]||{},h)),m.forEach(h=>vo(c,ze,h)),m.forEach(h=>vo(c,gi,h))});let g=Array.from(c);return g.length===0&&g.push(Object.create(null)),ed.has(e)&&a.set(e,g),g}chartOptionScopes(){let{options:t,type:e}=this;return[t,nn[e]||{},ze.datasets[e]||{},{type:e},ze,gi]}resolveNamedOptions(t,e,n,i=[""]){let r={$shared:!0},{resolver:a,subPrefixes:s}=Ml(this._resolverCache,t,i),c=a;if(rm(a,e)){r.$shared=!1,n=zt(n)?n():n;let g=this.createResolver(t,n,s);c=bn(a,n,g)}for(let g of e)r[g]=c[g];return r}createResolver(t,e,n=[""],i){let{resolver:r}=Ml(this._resolverCache,t,n);return ce(e)?bn(r,e,void 0,i):r}};function Ml(o,t,e){let n=o.get(t);n||(n=new Map,o.set(t,n));let i=e.join(),r=n.get(i);return r||(r={resolver:ui(t,e),subPrefixes:e.filter(s=>!s.toLowerCase().includes("hover"))},n.set(i,r)),r}var im=o=>ce(o)&&Object.getOwnPropertyNames(o).some(t=>zt(o[t]));function rm(o,t){let{isScriptable:e,isIndexable:n}=Zr(o);for(let i of t){let r=e(i),a=n(i),s=(a||r)&&o[i];if(r&&(zt(s)||im(s))||a&&Ae(s))return!0}return!1}var am="4.5.1",sm=["top","bottom","left","right","chartArea"];function xl(o,t){return o==="top"||o==="bottom"||sm.indexOf(o)===-1&&t==="x"}function yl(o,t){return function(e,n){return e[o]===n[o]?e[t]-n[t]:e[o]-n[o]}}function Sl(o){let t=o.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ve(e&&e.onComplete,[o],t)}function cm(o){let t=o.chart,e=t.options.animation;Ve(e&&e.onProgress,[o],t)}function td(o){return fi()&&typeof o=="string"?o=document.getElementById(o):o&&o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas),o}var xi={},wl=o=>{let t=td(o);return Object.values(xi).filter(e=>e.canvas===t).pop()};function lm(o,t,e){let n=Object.keys(o);for(let i of n){let r=+i;if(r>=t){let a=o[i];delete o[i],(e>0||r>t)&&(o[r+e]=a)}}}function dm(o,t,e,n){return!e||o.type==="mouseout"?null:n?t:o}var Pt=(()=>{class o{static defaults=ze;static instances=xi;static overrides=nn;static registry=Vt;static version=am;static getChart=wl;static register(...e){Vt.add(...e),Tl()}static unregister(...e){Vt.remove(...e),Tl()}constructor(e,n){let i=this.config=new Ma(n),r=td(e),a=wl(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Ig(r)),this.platform.updateConfig(i);let c=this.platform.acquireContext(r,s.aspectRatio),g=c&&c.canvas,m=g&&g.height,h=g&&g.width;if(this.id=Cc(),this.ctx=c,this.canvas=g,this.width=h,this.height=m,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new va,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ec(_=>this.update(_),s.resizeDelay||0),this._dataChanges=[],xi[this.id]=this,!c||!g){console.error("Failed to create chart: can't acquire context from the given item");return}qt.listen(this,"complete",Sl),qt.listen(this,"progress",cm),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:a}=this;return se(e)?n&&a?a:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Vt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():na(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Yr(this.canvas,this.ctx),this}stop(){return qt.stop(this),this}resize(e,n){qt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,na(this,c,!0)&&(this.notifyPlugins("resize",{size:s}),Ve(i.onResize,[this,s],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};et(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){let e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((s,c)=>(s[c]=!1,s),{}),a=[];n&&(a=a.concat(Object.keys(n).map(s=>{let c=n[s],g=Pa(s,c),m=g==="r",h=g==="x";return{options:c,dposition:m?"chartArea":h?"bottom":"left",dtype:m?"radialLinear":h?"category":"linear"}}))),et(a,s=>{let c=s.options,g=c.id,m=Pa(g,c),h=ae(c.type,s.dtype);(c.position===void 0||xl(c.position,m)!==xl(s.dposition))&&(c.position=s.dposition),r[g]=!0;let _=null;if(g in i&&i[g].type===h)_=i[g];else{let v=Vt.getScale(h);_=new v({id:g,type:h,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(c,e)}),et(r,(s,c)=>{s||delete i[c]}),et(i,s=>{Ci.configure(this,s,s.options),Ci.addBox(this,s)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,a)=>r.index-a.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(yl("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){let a=n[i],s=this.getDatasetMeta(i),c=a.type||this.config.type;if(s.type&&s.type!==c&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=c,s.indexAxis=a.indexAxis||Oa(c,this.options),s.order=a.order||0,s.index=i,s.label=""+a.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{let g=Vt.getController(c),{datasetElementType:m,dataElementType:h}=ze.datasets[c];Object.assign(g,{dataElementType:Vt.getElement(h),datasetElementType:m&&Vt.getElement(m)}),s.controller=new g(this,i),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){et(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let m=0,h=this.data.datasets.length;m<h;m++){let{controller:_}=this.getDatasetMeta(m),v=!r&&a.indexOf(_)===-1;_.buildOrUpdateElements(v),s=Math.max(+_.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),r||et(a,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yl("z","_idx"));let{_active:c,_lastEvent:g}=this;g?this._eventHandler(g,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){et(this.scales,e=>{Ci.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Vr(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:i,start:r,count:a}of n){let s=i==="_removeElements"?-a:a;lm(e,r,s)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,i=a=>new Set(e.filter(s=>s[0]===a).map((s,c)=>c+","+s.splice(1).join(","))),r=i(0);for(let a=1;a<n;a++)if(!Vr(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ci.update(this,this.width,this.height,e);let n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],et(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,zt(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qt.has(this)?this.attached&&!qt.running(this)&&qt.start(this):(this.draw(),Sl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,i=[],r,a;for(r=0,a=n.length;r<a;++r){let s=n[r];(!e||s.visible)&&i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=el(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&$r(n,r),e.controller.draw(),r&&Xr(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ft(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){let a=gg.modes[n];return typeof a=="function"?a(this,e,i,r):[]}getDatasetMeta(e){let n=this.data.datasets[e],i=this._metasets,r=i.filter(a=>a&&a._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=rn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){let i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){let r=i?"show":"hide",a=this.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,r);zn(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),s.update(a,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),qt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Yr(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete xi[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,i=(a,s)=>{n.addEventListener(this,a,s),e[a]=s},r=(a,s,c)=>{a.offsetX=s,a.offsetY=c,this._eventHandler(a)};et(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,i=(g,m)=>{n.addEventListener(this,g,m),e[g]=m},r=(g,m)=>{e[g]&&(n.removeEventListener(this,g,m),delete e[g])},a=(g,m)=>{this.canvas&&this.resize(g,m)},s,c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",s)};s=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():s()}unbindEvents(){et(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},et(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){let r=i?"set":"remove",a,s,c,g;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),c=0,g=e.length;c<g;++c){s=e[c];let m=s&&this.getDatasetMeta(s.datasetIndex).controller;m&&m[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],i=e.map(({datasetIndex:a,index:s})=>{let c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[s],index:s}});!Ar(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){let r=this.options.hover,a=(g,m)=>g.filter(h=>!m.some(_=>h.datasetIndex===_.datasetIndex&&h.index===_.index)),s=a(n,e),c=i?e:a(e,n);s.length&&this.updateHoverStyle(s,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,n){let i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;let a=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(e,n,i){let{_active:r=[],options:a}=this,s=n,c=this._getActiveElements(e,r,i,s),g=Pc(e),m=dm(e,this._lastEvent,i,g);i&&(this._lastEvent=null,Ve(a.onHover,[e,c,this],this),g&&Ve(a.onClick,[e,c,this],this));let h=!Ar(c,r);return(h||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=m,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;let a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}}return o})();function Tl(){return et(Pt.instances,o=>o._plugins.invalidate())}function pm(o,t,e){let{startAngle:n,x:i,y:r,outerRadius:a,innerRadius:s,options:c}=t,{borderWidth:g,borderJoinStyle:m}=c,h=Math.min(g/a,ot(n-e));if(o.beginPath(),o.arc(i,r,a-g/2,n+h/2,e-h/2),s>0){let _=Math.min(g/s,ot(n-e));o.arc(i,r,s+g/2,e-_/2,n+_/2,!0)}else{let _=Math.min(g/2,a*ot(n-e));if(m==="round")o.arc(i,r,_,e-ue/2,n+ue/2,!0);else if(m==="bevel"){let v=2*_*_,S=-v*Math.cos(e+ue/2)+i,T=-v*Math.sin(e+ue/2)+r,w=v*Math.cos(n+ue/2)+i,F=v*Math.sin(n+ue/2)+r;o.lineTo(S,T),o.lineTo(w,F)}}o.closePath(),o.moveTo(0,0),o.rect(0,0,o.canvas.width,o.canvas.height),o.clip("evenodd")}function gm(o,t,e){let{startAngle:n,pixelMargin:i,x:r,y:a,outerRadius:s,innerRadius:c}=t,g=i/s;o.beginPath(),o.arc(r,a,s,n-g,e+g),c>i?(g=i/c,o.arc(r,a,c,e+g,n-g,!0)):o.arc(r,a,i,e+Be,n-Be),o.closePath(),o.clip()}function mm(o){return mi(o,["outerStart","outerEnd","innerStart","innerEnd"])}function um(o,t,e,n){let i=mm(o.options.borderRadius),r=(e-t)/2,a=Math.min(r,n*t/2),s=c=>{let g=(e-Math.min(r,c))*n/2;return it(c,0,Math.min(r,g))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:it(i.innerStart,0,a),innerEnd:it(i.innerEnd,0,a)}}function Gn(o,t,e,n){return{x:e+o*Math.cos(t),y:n+o*Math.sin(t)}}function wi(o,t,e,n,i,r){let{x:a,y:s,startAngle:c,pixelMargin:g,innerRadius:m}=t,h=Math.max(t.outerRadius+n+e-g,0),_=m>0?m+n+e+g:0,v=0,S=i-c;if(n){let _e=m>0?m-n:0,ke=h>0?h-n:0,je=(_e+ke)/2,St=je!==0?S*je/(je+n):S;v=(S-St)/2}let T=Math.max(.001,S*h-e/ue)/h,w=(S-T)/2,F=c+w+v,A=i-w-v,{outerStart:z,outerEnd:U,innerStart:L,innerEnd:j}=um(t,_,h,A-F),Z=h-z,$=h-U,X=F+z/Z,fe=A-U/$,Te=_+L,Se=_+j,mt=F+L/Te,yt=A-j/Se;if(o.beginPath(),r){let _e=(X+fe)/2;if(o.arc(a,s,h,X,_e),o.arc(a,s,h,_e,fe),U>0){let tt=Gn($,fe,a,s);o.arc(tt.x,tt.y,U,fe,A+Be)}let ke=Gn(Se,A,a,s);if(o.lineTo(ke.x,ke.y),j>0){let tt=Gn(Se,yt,a,s);o.arc(tt.x,tt.y,j,A+Be,yt+Math.PI)}let je=(A-j/_+(F+L/_))/2;if(o.arc(a,s,_,A-j/_,je,!0),o.arc(a,s,_,je,F+L/_,!0),L>0){let tt=Gn(Te,mt,a,s);o.arc(tt.x,tt.y,L,mt+Math.PI,F-Be)}let St=Gn(Z,F,a,s);if(o.lineTo(St.x,St.y),z>0){let tt=Gn(Z,X,a,s);o.arc(tt.x,tt.y,z,F-Be,X)}}else{o.moveTo(a,s);let _e=Math.cos(X)*h+a,ke=Math.sin(X)*h+s;o.lineTo(_e,ke);let je=Math.cos(fe)*h+a,St=Math.sin(fe)*h+s;o.lineTo(je,St)}o.closePath()}function fm(o,t,e,n,i){let{fullCircles:r,startAngle:a,circumference:s}=t,c=t.endAngle;if(r){wi(o,t,e,n,c,i);for(let g=0;g<r;++g)o.fill();isNaN(s)||(c=a+(s%we||we))}return wi(o,t,e,n,c,i),o.fill(),c}function hm(o,t,e,n,i){let{fullCircles:r,startAngle:a,circumference:s,options:c}=t,{borderWidth:g,borderJoinStyle:m,borderDash:h,borderDashOffset:_,borderRadius:v}=c,S=c.borderAlign==="inner";if(!g)return;o.setLineDash(h||[]),o.lineDashOffset=_,S?(o.lineWidth=g*2,o.lineJoin=m||"round"):(o.lineWidth=g,o.lineJoin=m||"bevel");let T=t.endAngle;if(r){wi(o,t,e,n,T,i);for(let w=0;w<r;++w)o.stroke();isNaN(s)||(T=a+(s%we||we))}S&&gm(o,t,T),c.selfJoin&&T-a>=ue&&v===0&&m!=="miter"&&pm(o,t,T),r||(wi(o,t,e,n,T,i),o.stroke())}var Hn=class extends cn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let i=this.getProps(["x","y"],n),{angle:r,distance:a}=Br(i,{x:t,y:e}),{startAngle:s,endAngle:c,innerRadius:g,outerRadius:m,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),_=(this.options.spacing+this.options.borderWidth)/2,v=ae(h,c-s),S=Wn(r,s,c)&&s!==c,T=v>=we||S,w=po(a,g+_,m+_);return T&&w}getCenterPoint(t){let{x:e,y:n,startAngle:i,endAngle:r,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:g}=this.options,m=(i+r)/2,h=(a+s+g+c)/2;return{x:e+Math.cos(m)*h,y:n+Math.sin(m)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>we?Math.floor(n/we):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*i,Math.sin(s)*i);let c=1-Math.sin(Math.min(ue,n||0)),g=i*c;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,fm(t,this,g,r,a),hm(t,this,g,r,a),t.restore()}};function nd(o,t,e=t){o.lineCap=ae(e.borderCapStyle,t.borderCapStyle),o.setLineDash(ae(e.borderDash,t.borderDash)),o.lineDashOffset=ae(e.borderDashOffset,t.borderDashOffset),o.lineJoin=ae(e.borderJoinStyle,t.borderJoinStyle),o.lineWidth=ae(e.borderWidth,t.borderWidth),o.strokeStyle=ae(e.borderColor,t.borderColor)}function _m(o,t,e){o.lineTo(e.x,e.y)}function bm(o){return o.stepped?Lc:o.tension||o.cubicInterpolationMode==="monotone"?Bc:_m}function od(o,t,e={}){let n=o.length,{start:i=0,end:r=n-1}=e,{start:a,end:s}=t,c=Math.max(i,a),g=Math.min(r,s),m=i<a&&r<a||i>s&&r>s;return{count:n,start:c,loop:t.loop,ilen:g<c&&!m?n+g-c:g-c}}function Cm(o,t,e,n){let{points:i,options:r}=t,{count:a,start:s,loop:c,ilen:g}=od(i,e,n),m=bm(r),{move:h=!0,reverse:_}=n||{},v,S,T;for(v=0;v<=g;++v)S=i[(s+(_?g-v:v))%a],!S.skip&&(h?(o.moveTo(S.x,S.y),h=!1):m(o,T,S,_,r.stepped),T=S);return c&&(S=i[(s+(_?g:0))%a],m(o,T,S,_,r.stepped)),!!c}function vm(o,t,e,n){let i=t.points,{count:r,start:a,ilen:s}=od(i,e,n),{move:c=!0,reverse:g}=n||{},m=0,h=0,_,v,S,T,w,F,A=U=>(a+(g?s-U:U))%r,z=()=>{T!==w&&(o.lineTo(m,w),o.lineTo(m,T),o.lineTo(m,F))};for(c&&(v=i[A(0)],o.moveTo(v.x,v.y)),_=0;_<=s;++_){if(v=i[A(_)],v.skip)continue;let U=v.x,L=v.y,j=U|0;j===S?(L<T?T=L:L>w&&(w=L),m=(h*m+U)/++h):(z(),o.lineTo(U,L),S=j,h=0,T=w=L),F=L}z()}function xa(o){let t=o.options,e=t.borderDash&&t.borderDash.length;return!o._decimated&&!o._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?vm:Cm}function Om(o){return o.stepped?$c:o.tension||o.cubicInterpolationMode==="monotone"?Xc:Jt}function Pm(o,t,e,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,n)&&i.closePath()),nd(o,t.options),o.stroke(i)}function Mm(o,t,e,n){let{segments:i,options:r}=t,a=xa(t);for(let s of i)nd(o,r,s.style),o.beginPath(),a(o,t,s,{start:e,end:e+n-1})&&o.closePath(),o.stroke()}var xm=typeof Path2D=="function";function ym(o,t,e,n){xm&&!t.options.segment?Pm(o,t,e,n):Mm(o,t,e,n)}var id=(()=>{class o extends cn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let r=i.spanGaps?this._loop:this._fullLoop;Uc(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Zc(this,this.options.segment))}first(){let e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){let e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){let i=this.options,r=e[n],a=this.points,s=Jc(this,{property:n,start:r,end:r});if(!s.length)return;let c=[],g=Om(i),m,h;for(m=0,h=s.length;m<h;++m){let{start:_,end:v}=s[m],S=a[_],T=a[v];if(S===T){c.push(S);continue}let w=Math.abs((r-S[n])/(T[n]-S[n])),F=g(S,T,w,i.stepped);F[n]=e[n],c.push(F)}return c.length===1?c[0]:c}pathSegment(e,n,i){return xa(this)(e,this,n,i)}path(e,n,i){let r=this.segments,a=xa(this),s=this._loop;n=n||0,i=i||this.points.length-n;for(let c of r)s&=a(e,this,c,{start:n,end:n+i-1});return!!s}draw(e,n,i,r){let a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),ym(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return o})();function kl(o,t,e,n){let i=o.options,{[e]:r}=o.getProps([e],n);return Math.abs(t-r)<i.radius+i.hitRadius}var rd=(()=>{class o extends cn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){let r=this.options,{x:a,y:s}=this.getProps(["x","y"],i);return Math.pow(e-a,2)+Math.pow(n-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return kl(this,e,"x",n)}inYRange(e,n){return kl(this,e,"y",n)}getCenterPoint(e){let{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);let i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){let i=this.options;this.skip||i.radius<.1||!Ft(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Rc(e,i,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return o})();function ad(o,t){let{x:e,y:n,base:i,width:r,height:a}=o.getProps(["x","y","base","width","height"],t),s,c,g,m,h;return o.horizontal?(h=a/2,s=Math.min(e,i),c=Math.max(e,i),g=n-h,m=n+h):(h=r/2,s=e-h,c=e+h,g=Math.min(n,i),m=Math.max(n,i)),{left:s,top:g,right:c,bottom:m}}function sn(o,t,e,n){return o?0:it(t,e,n)}function Sm(o,t,e){let n=o.options.borderWidth,i=o.borderSkipped,r=Qr(n);return{t:sn(i.top,r.top,0,e),r:sn(i.right,r.right,0,t),b:sn(i.bottom,r.bottom,0,e),l:sn(i.left,r.left,0,t)}}function wm(o,t,e){let{enableBorderRadius:n}=o.getProps(["enableBorderRadius"]),i=o.options.borderRadius,r=Jr(i),a=Math.min(t,e),s=o.borderSkipped,c=n||ce(i);return{topLeft:sn(!c||s.top||s.left,r.topLeft,0,a),topRight:sn(!c||s.top||s.right,r.topRight,0,a),bottomLeft:sn(!c||s.bottom||s.left,r.bottomLeft,0,a),bottomRight:sn(!c||s.bottom||s.right,r.bottomRight,0,a)}}function Tm(o){let t=ad(o),e=t.right-t.left,n=t.bottom-t.top,i=Sm(o,e/2,n/2),r=wm(o,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function pa(o,t,e,n){let i=t===null,r=e===null,s=o&&!(i&&r)&&ad(o,n);return s&&(i||po(t,s.left,s.right))&&(r||po(e,s.top,s.bottom))}function km(o){return o.topLeft||o.topRight||o.bottomLeft||o.bottomRight}function Em(o,t){o.rect(t.x,t.y,t.w,t.h)}function ga(o,t,e={}){let n=o.x!==e.x?-t:0,i=o.y!==e.y?-t:0,r=(o.x+o.w!==e.x+e.w?t:0)-n,a=(o.y+o.h!==e.y+e.h?t:0)-i;return{x:o.x+n,y:o.y+i,w:o.w+r,h:o.h+a,radius:o.radius}}var Ti=class extends cn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:a}=Tm(this),s=km(a.radius)?Kr:Em;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),s(t,ga(a,e,r)),t.clip(),s(t,ga(r,-e,a)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),s(t,ga(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return pa(this,t,e,n)}inXRange(t,e){return pa(this,t,null,e)}inYRange(t,e){return pa(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}};var Im=(o,t,e,n)=>(typeof t=="string"?(e=o.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Dm(o,t,e,n){let i=o.indexOf(t);if(i===-1)return Im(o,t,e,n);let r=o.lastIndexOf(t);return i!==r?e:i}var Fm=(o,t)=>o===null?null:it(Math.round(o),0,t);function El(o){let t=this.getLabels();return o>=0&&o<t.length?t[o]:o}var sd=(()=>{class o extends Pn{static id="category";static defaults={ticks:{callback:El}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let n=this._addedLabels;if(n.length){let i=this.getLabels();for(let{index:r,label:a}of n)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(se(e))return null;let i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Dm(i,e,ae(n,e),this._addedLabels),Fm(n,i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){let e=this.min,n=this.max,i=this.options.offset,r=[],a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let s=e;s<=n;s++)r.push({value:s});return r}getLabelForValue(e){return El.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return o})();function Am(o,t){let e=[],{bounds:i,step:r,min:a,max:s,precision:c,count:g,maxTicks:m,maxDigits:h,includeBounds:_}=o,v=r||1,S=m-1,{min:T,max:w}=t,F=!se(a),A=!se(s),z=!se(g),U=(w-T)/(h+1),L=Rr((w-T)/S/v)*v,j,Z,$,X;if(L<1e-14&&!F&&!A)return[{value:T},{value:w}];X=Math.ceil(w/L)-Math.floor(T/L),X>S&&(L=Rr(X*L/S/v)*v),se(c)||(j=Math.pow(10,c),L=Math.ceil(L*j)/j),i==="ticks"?(Z=Math.floor(T/L)*L,$=Math.ceil(w/L)*L):(Z=T,$=w),F&&A&&r&&xc((s-a)/r,L/1e3)?(X=Math.round(Math.min((s-a)/L,m)),L=(s-a)/X,Z=a,$=s):z?(Z=F?a:Z,$=A?s:$,X=g-1,L=($-Z)/X):(X=($-Z)/L,jn(X,Math.round(X),L/1e3)?X=Math.round(X):X=Math.ceil(X));let fe=Math.max(Lr(L),Lr(Z));j=Math.pow(10,se(c)?fe:c),Z=Math.round(Z*j)/j,$=Math.round($*j)/j;let Te=0;for(F&&(_&&Z!==a?(e.push({value:a}),Z<a&&Te++,jn(Math.round((Z+Te*L)*j)/j,a,Il(a,U,o))&&Te++):Z<a&&Te++);Te<X;++Te){let Se=Math.round((Z+Te*L)*j)/j;if(A&&Se>s)break;e.push({value:Se})}return A&&_&&$!==s?e.length&&jn(e[e.length-1].value,s,Il(s,U,o))?e[e.length-1].value=s:e.push({value:s}):(!A||$===s)&&e.push({value:$}),e}function Il(o,t,{horizontal:e,minRotation:n}){let i=kt(n),r=(e?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+o).length;return Math.min(t/r,a)}var Yn=class extends Pn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:i,max:r}=this,a=c=>i=e?i:c,s=c=>r=n?r:c;if(t){let c=Tt(i),g=Tt(r);c<0&&g<0?s(0):c>0&&g>0&&a(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);s(r+c),t||a(i-c)}this.min=i,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,a=Am(i,r);return t.bounds==="ticks"&&Nr(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return go(t,this.chart.options.locale,this.options.ticks.format)}},ki=class extends Yn{static id="linear";static defaults={ticks:{callback:mo.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ue(t)?t:0,this.max=Ue(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=kt(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Mo=o=>Math.floor(jt(o)),On=(o,t)=>Math.pow(10,Mo(o)+t);function Dl(o){return o/Math.pow(10,Mo(o))===1}function Fl(o,t,e){let n=Math.pow(10,e),i=Math.floor(o/n);return Math.ceil(t/n)-i}function Vm(o,t){let e=t-o,n=Mo(e);for(;Fl(o,t,n)>10;)n++;for(;Fl(o,t,n)<10;)n--;return Math.min(n,Mo(o))}function Rm(o,{min:t,max:e}){t=dt(o.min,t);let n=[],i=Mo(t),r=Vm(t,e),a=r<0?Math.pow(10,Math.abs(r)):1,s=Math.pow(10,r),c=i>r?Math.pow(10,i):0,g=Math.round((t-c)*a)/a,m=Math.floor((t-c)/s/10)*s*10,h=Math.floor((g-m)/Math.pow(10,r)),_=dt(o.min,Math.round((c+m+h*Math.pow(10,r))*a)/a);for(;_<e;)n.push({value:_,major:Dl(_),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,a=r>=0?1:a),_=Math.round((c+m+h*Math.pow(10,r))*a)/a;let v=dt(o.max,_);return n.push({value:v,major:Dl(v),significand:h}),n}var Al=class extends Pn{static id="logarithmic";static defaults={ticks:{callback:mo.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Yn.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return Ue(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ue(t)?Math.max(0,t):null,this.max=Ue(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ue(this._userMin)&&(this.min=t===On(this.min,0)?On(this.min,-1):On(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,i=this.max,r=s=>n=t?n:s,a=s=>i=e?i:s;n===i&&(n<=0?(r(1),a(10)):(r(On(n,-1)),a(On(i,1)))),n<=0&&r(On(i,-1)),i<=0&&a(On(n,1)),this.min=n,this.max=i}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=Rm(e,this);return t.bounds==="ticks"&&Nr(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":go(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=jt(t),this._valueRange=jt(this.max)-jt(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(jt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function ya(o){let t=o.ticks;if(t.display&&o.display){let e=At(t.backdropPadding);return ae(t.font&&t.font.size,ze.font.size)+e.height}return 0}function Nm(o,t,e){return e=Ae(e)?e:[e],{w:Vc(o,t.string,e),h:e.length*t.lineHeight}}function Vl(o,t,e,n,i){return o===n||o===i?{start:t-e/2,end:t+e/2}:o<n||o>i?{start:t-e,end:t}:{start:t,end:t+e}}function Lm(o){let t={l:o.left+o._padding.left,r:o.right-o._padding.right,t:o.top+o._padding.top,b:o.bottom-o._padding.bottom},e=Object.assign({},t),n=[],i=[],r=o._pointLabels.length,a=o.options.pointLabels,s=a.centerPointLabels?ue/r:0;for(let c=0;c<r;c++){let g=a.setContext(o.getPointLabelContext(c));i[c]=g.padding;let m=o.getPointPosition(c,o.drawingArea+i[c],s),h=Cn(g.font),_=Nm(o.ctx,h,o._pointLabels[c]);n[c]=_;let v=ot(o.getIndexAngle(c)+s),S=Math.round(di(v)),T=Vl(S,m.x,_.w,0,180),w=Vl(S,m.y,_.h,90,270);Bm(e,t,v,T,w)}o.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),o._pointLabelItems=qm(o,n,i)}function Bm(o,t,e,n,i){let r=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e)),s=0,c=0;n.start<t.l?(s=(t.l-n.start)/r,o.l=Math.min(o.l,t.l-s)):n.end>t.r&&(s=(n.end-t.r)/r,o.r=Math.max(o.r,t.r+s)),i.start<t.t?(c=(t.t-i.start)/a,o.t=Math.min(o.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/a,o.b=Math.max(o.b,t.b+c))}function zm(o,t,e){let n=o.drawingArea,{extra:i,additionalAngle:r,padding:a,size:s}=e,c=o.getPointPosition(t,n+i+a,r),g=Math.round(di(ot(c.angle+Be))),m=Um(c.y,s.h,g),h=Wm(g),_=Gm(c.x,s.w,h);return{visible:!0,x:c.x,y:m,textAlign:h,left:_,top:m,right:_+s.w,bottom:m+s.h}}function jm(o,t){if(!t)return!0;let{left:e,top:n,right:i,bottom:r}=o;return!(Ft({x:e,y:n},t)||Ft({x:e,y:r},t)||Ft({x:i,y:n},t)||Ft({x:i,y:r},t))}function qm(o,t,e){let n=[],i=o._pointLabels.length,r=o.options,{centerPointLabels:a,display:s}=r.pointLabels,c={extra:ya(r)/2,additionalAngle:a?ue/i:0},g;for(let m=0;m<i;m++){c.padding=e[m],c.size=t[m];let h=zm(o,m,c);n.push(h),s==="auto"&&(h.visible=jm(h,g),h.visible&&(g=h))}return n}function Wm(o){return o===0||o===180?"center":o<180?"left":"right"}function Gm(o,t,e){return e==="right"?o-=t:e==="center"&&(o-=t/2),o}function Um(o,t,e){return e===90||e===270?o-=t/2:(e>270||e<90)&&(o-=t),o}function Hm(o,t,e){let{left:n,top:i,right:r,bottom:a}=e,{backdropColor:s}=t;if(!se(s)){let c=Jr(t.borderRadius),g=At(t.backdropPadding);o.fillStyle=s;let m=n-g.left,h=i-g.top,_=r-n+g.width,v=a-i+g.height;Object.values(c).some(S=>S!==0)?(o.beginPath(),Kr(o,{x:m,y:h,w:_,h:v,radius:c}),o.fill()):o.fillRect(m,h,_,v)}}function Ym(o,t){let{ctx:e,options:{pointLabels:n}}=o;for(let i=t-1;i>=0;i--){let r=o._pointLabelItems[i];if(!r.visible)continue;let a=n.setContext(o.getPointLabelContext(i));Hm(e,a,r);let s=Cn(a.font),{x:c,y:g,textAlign:m}=r;uo(e,o._pointLabels[i],c,g+s.lineHeight/2,s,{color:a.color,textAlign:m,textBaseline:"middle"})}}function cd(o,t,e,n){let{ctx:i}=o;if(e)i.arc(o.xCenter,o.yCenter,t,0,we);else{let r=o.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=o.getPointPosition(a,t),i.lineTo(r.x,r.y)}}function $m(o,t,e,n,i){let r=o.ctx,a=t.circular,{color:s,lineWidth:c}=t;!a&&!n||!s||!c||e<0||(r.save(),r.strokeStyle=s,r.lineWidth=c,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),cd(o,e,a,n),r.closePath(),r.stroke(),r.restore())}function Xm(o,t,e){return rn(o,{label:e,index:t,type:"pointLabel"})}var Rl=class extends Yn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=At(ya(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Ue(t)&&!isNaN(t)?t:0,this.max=Ue(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ya(this.options))}generateTickLabels(t){Yn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let i=Ve(this.options.pointLabels.callback,[e,n],this);return i||i===0?i:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?Lm(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){let e=we/(this._pointLabels.length||1),n=this.options.startAngle||0;return ot(t*e+kt(n))}getDistanceFromCenterForValue(t){if(se(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(se(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return Xm(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let i=this.getIndexAngle(t)-Be+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),cd(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,a=this._pointLabels.length,s,c,g;if(e.pointLabels.display&&Ym(this,a),i.display&&this.ticks.forEach((m,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(m.value);let _=this.getContext(h),v=i.setContext(_),S=r.setContext(_);$m(this,v,c,a,S)}}),n.display){for(t.save(),s=a-1;s>=0;s--){let m=n.setContext(this.getPointLabelContext(s)),{color:h,lineWidth:_}=m;!_||!h||(t.lineWidth=_,t.strokeStyle=h,t.setLineDash(m.borderDash),t.lineDashOffset=m.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),g=this.getPointPosition(s,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(g.x,g.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let i=this.getIndexAngle(0),r,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((s,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;let g=n.setContext(this.getContext(c)),m=Cn(g.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),g.showLabelBackdrop){t.font=m.string,a=t.measureText(s.label).width,t.fillStyle=g.backdropColor;let h=At(g.backdropPadding);t.fillRect(-a/2-h.left,-r-m.size/2-h.top,a+h.width,m.size+h.height)}uo(t,s.label,0,-r,m,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),t.restore()}drawTitle(){}},Di={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pt=Object.keys(Di);function Nl(o,t){return o-t}function Ll(o,t){if(se(t))return null;let e=o._adapter,{parser:n,round:i,isoWeekday:r}=o._parseOpts,a=t;return typeof n=="function"&&(a=n(a)),Ue(a)||(a=typeof n=="string"?e.parse(a,n):e.parse(a)),a===null?null:(i&&(a=i==="week"&&(qn(r)||r===!0)?e.startOf(a,"isoWeek",r):e.startOf(a,i)),+a)}function Bl(o,t,e,n){let i=pt.length;for(let r=pt.indexOf(o);r<i-1;++r){let a=Di[pt[r]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(s*a.size))<=n)return pt[r]}return pt[i-1]}function Km(o,t,e,n,i){for(let r=pt.length-1;r>=pt.indexOf(e);r--){let a=pt[r];if(Di[a].common&&o._adapter.diff(i,n,a)>=t-1)return a}return pt[e?pt.indexOf(e):0]}function Qm(o){for(let t=pt.indexOf(o)+1,e=pt.length;t<e;++t)if(Di[pt[t]].common)return pt[t]}function zl(o,t,e){if(!e)o[t]=!0;else if(e.length){let{lo:n,hi:i}=pi(e,t),r=e[n]>=t?e[n]:e[i];o[r]=!0}}function Jm(o,t,e,n){let i=o._adapter,r=+i.startOf(t[0].value,n),a=t[t.length-1].value,s,c;for(s=r;s<=a;s=+i.add(s,1,n))c=e[s],c>=0&&(t[c].major=!0);return t}function jl(o,t,e){let n=[],i={},r=t.length,a,s;for(a=0;a<r;++a)s=t[a],i[s]=a,n.push({value:s,major:!1});return r===0||!e?n:Jm(o,n,i,e)}var ql=(()=>{class o extends Pn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let i=e.time||(e.time={}),r=this._adapter=new sg._date(e.adapters.date);r.init(n),Bn(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Ll(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,i=e.time.unit||"day",{min:r,max:a,minDefined:s,maxDefined:c}=this.getUserBounds();function g(m){!s&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!c&&!isNaN(m.max)&&(a=Math.max(a,m.max))}(!s||!c)&&(g(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&g(this.getMinMax(!1))),r=Ue(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),a=Ue(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){let e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let a=this.min,s=this.max,c=wc(r,a,s);return this._unit=n.unit||(i.autoSkip?Bl(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):Km(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Qm(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),jl(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,a;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);let s=e.length<3?.5:.25;n=it(n,0,s),i=it(i,0,s),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){let e=this._adapter,n=this.min,i=this.max,r=this.options,a=r.time,s=a.unit||Bl(a.minUnit,n,i,this._getLabelCapacity(n)),c=ae(r.ticks.stepSize,1),g=s==="week"?a.isoWeekday:!1,m=qn(g)||g===!0,h={},_=n,v,S;if(m&&(_=+e.startOf(_,"isoWeek",g)),_=+e.startOf(_,m?"day":s),e.diff(i,n,s)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+s);let T=r.ticks.source==="data"&&this.getDataTimestamps();for(v=_,S=0;v<i;v=+e.add(v,c,s),S++)zl(h,v,T);return(v===i||r.bounds==="ticks"||S===1)&&zl(h,v,T),Object.keys(h).sort(Nl).map(w=>+w)}getLabelForValue(e){let n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){let r=this.options.time.displayFormats,a=this._unit,s=n||r[a];return this._adapter.format(e,s)}_tickFormatFunction(e,n,i,r){let a=this.options,s=a.ticks.callback;if(s)return Ve(s,[e,n,i],this);let c=a.time.displayFormats,g=this._unit,m=this._majorUnit,h=g&&c[g],_=m&&c[m],v=i[n],S=m&&_&&v&&v.major;return this._adapter.format(e,r||(S?_:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){let n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,i=this.ctx.measureText(e).width,r=kt(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(r),s=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*s,h:i*s+c*a}}_getLabelCapacity(e){let n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,a=this._tickFormatFunction(e,0,jl(this,[e],this._majorUnit),r),s=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,i;if(e.length)return e;let r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Ll(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return jr(e.sort(Nl))}}return o})();function Pi(o,t,e){let n=0,i=o.length-1,r,a,s,c;e?(t>=o[n].pos&&t<=o[i].pos&&({lo:n,hi:i}=Zt(o,"pos",t)),{pos:r,time:s}=o[n],{pos:a,time:c}=o[i]):(t>=o[n].time&&t<=o[i].time&&({lo:n,hi:i}=Zt(o,"time",t)),{time:r,pos:s}=o[n],{time:a,pos:c}=o[i]);let g=a-r;return g?s+(c-s)*(t-r)/g:s}var Wl=class extends ql{static id="timeseries";static defaults=ql.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Pi(e,this.min),this._tableRange=Pi(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,i=[],r=[],a,s,c,g,m;for(a=0,s=t.length;a<s;++a)g=t[a],g>=e&&g<=n&&i.push(g);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(a=0,s=i.length;a<s;++a)m=i[a+1],c=i[a-1],g=i[a],Math.round((m+c)/2)!==g&&r.push({time:g,pos:a/(s-1)});return r}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Pi(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Pi(this._table,n*this._tableRange+this._minPos,!0)}};var Zm=(o,t)=>({"bg-[#6B21A8] text-white":o,"text-[#6B21A8] hover:text-[#4C1D95]":t});function eu(o,t){if(o&1){let e=k();d(0,"button",24),x("click",function(){let i=O(e).$implicit,r=C();return P(r.selectTimeFrame(i))}),f(1),l()}if(o&2){let e=t.$implicit,n=C();u("ngClass",ut(2,Zm,n.selectedTimeFrame===e,n.selectedTimeFrame!==e)),p(),V(" ",e," ")}}var Fi=class o{constructor(t,e){this.dashboardService=t;this.authServ=e;this.salesOverviewDetail={revenue:0,expenses:0,profit:0,total_orders:0,total_sales:0,unique_customers:0,order_detail:[]},Pt.register(Ii,Hn)}userName="Krishna";monthlyEarning=1e4;statisticsChart;ordersChart;ordersData={total:1e4,delivered:9500,pending:500};timeFrames=["Daily","Weekly","Monthly","Yearly"];selectedTimeFrame="Weekly";fullOverviewData;salesOverviewDetail;statistics={profit:2e7,expense:23e3,revenue:23e6};metrics={orders:300,sales:23e6,expenses:23e3,netProfit:23e3,customers:23e3};ordersTrendData={labels:Array.from({length:12},(t,e)=>`Point ${e+1}`),values:[150,220,180,200,250,230,180,220,190,200,180,250]};navItems=["Explore","Dashboards","Orders","Dues","Transactions"];selectedNav="Dashboards";ngOnInit(){this.triggerGetData()}ngAfterViewInit(){setTimeout(()=>{this.createStatisticsChart(),this.createOrdersTrendChart()},100)}createStatisticsChart(){let t=document.getElementById("statisticsChartOverview");t&&(this.statisticsChart&&this.statisticsChart.destroy(),this.statisticsChart=new Pt(t,{type:"doughnut",data:{labels:["Revenue","Profit","Expense"],datasets:[{data:[this.salesOverviewDetail.revenue,this.salesOverviewDetail.profit,this.salesOverviewDetail.expenses],backgroundColor:["#8B3DFF","#4CAF50","#FFA726"],borderWidth:0}]},options:{cutout:"70%",plugins:{legend:{display:!1}},responsive:!0,maintainAspectRatio:!0}}))}createOrdersTrendChart(){console.log("DATA-->",this.ordersTrendData);let t=document.getElementById("ordersTrendChart1");t&&(this.ordersChart&&this.ordersChart.destroy(),this.ordersChart=new Pt(t,{type:"line",data:{labels:this.ordersTrendData.labels,datasets:[{data:this.ordersTrendData.values,borderColor:"#2196F3",backgroundColor:"rgba(33, 150, 243, 0.1)",fill:!0,tension:.4,borderWidth:2,pointRadius:0}]},options:{plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{display:!1}},maintainAspectRatio:!1,responsive:!0}}))}selectTimeFrame(t){this.selectedTimeFrame=t,this.applyTimeFrameData()}selectNavItem(t){this.selectedNav=t}triggerGetData(){let t=this.authServ.getSelectedProviderId();this.dashboardService.getProviderDashboardDetail(Xt[1],t).subscribe(e=>{this.fullOverviewData=e,this.applyTimeFrameData()})}applyTimeFrameData(){let t=this.selectedTimeFrame.toLowerCase(),e=this.fullOverviewData[t]?.[0];if(!e)return;this.salesOverviewDetail=e;let n=this.convertOrderDetailToTrendData(e.order_detail,t);this.ordersTrendData=n,this.createStatisticsChart(),this.createOrdersTrendChart()}convertOrderDetailToTrendData(t,e){let n=[],i=[],r=new Map;if(t.forEach(a=>{let s=Object.keys(a)[0],c=a[s];r.set(s,c)}),e==="yearly"){let a=new Date().getFullYear();n=Array.from({length:5},(s,c)=>`${a-4+c}`)}else if(e==="monthly")n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];else if(e==="weekly")n=Array.from({length:4},(a,s)=>`Week ${s+1}`);else if(e==="daily"){let a=new Date;n=Array.from({length:7},(s,c)=>{let g=new Date(a);return g.setDate(a.getDate()-(6-c)),g.toLocaleDateString("en-GB",{day:"2-digit",month:"short"})})}return i=n.map(a=>{for(let s of r.keys())if(s.startsWith(a))return r.get(s)??0;return 0}),{labels:n,values:i}}static \u0275fac=function(e){return new(e||o)(y(Je),y(B))};static \u0275cmp=N({type:o,selectors:[["chart-overview"]],decls:54,vars:7,consts:[[1,"section-header","flex","justify-center"],[1,"flex"],["class","text-sm tracking-wide px-6 py-1.5 rounded-b-md transition duration-200",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dashboard"],[1,"card","statistics-card"],[1,"card-title"],[1,"statistics-content"],["id","statisticsChartOverview","width","150","height","150"],[1,"chart-center-text"],[1,"label"],[1,"amount"],[1,"chart-legend"],[1,"legend-item"],[1,"dot","expense"],[1,"dot","profit"],[1,"dot","revenue"],[1,"card","order-card","border-right","flex","justify-center","items-center","gap-8"],[1,"order-value"],[1,"trend-chart"],["id","ordersTrendChart1"],[1,"grid"],[1,"card","grid-card","bg-white","shadow-lg","rounded-xl","p-4","border-top"],[1,"card-value"],[1,"card","grid-card","border-top"],[1,"text-sm","tracking-wide","px-6","py-1.5","rounded-b-md","transition","duration-200",3,"click","ngClass"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"div",1),M(2,eu,2,5,"button",2),l()(),d(3,"div",3)(4,"div",4)(5,"h4",5),f(6,"Statistics"),l(),d(7,"div",6)(8,"div"),b(9,"canvas",7),d(10,"div",8)(11,"span",9),f(12,"Profit"),l(),d(13,"span",10),f(14),l()()(),d(15,"div",11)(16,"div",12),b(17,"span",13),f(18," Expense"),l(),d(19,"div",12),b(20,"span",14),f(21," Profit"),l(),d(22,"div",12),b(23,"span",15),f(24," Revenue"),l()()()(),d(25,"div",16)(26,"div")(27,"h4",5),f(28,"Orders"),l(),d(29,"span",17),f(30),l()(),d(31,"div",18),b(32,"canvas",19),l()(),d(33,"div",20)(34,"div",21)(35,"h4",5),f(36,"Sales"),l(),d(37,"div",22),f(38),l()(),d(39,"div",23)(40,"h4",5),f(41,"Expenses"),l(),d(42,"div",22),f(43),l()(),d(44,"div",23)(45,"h4",5),f(46,"Customers"),l(),d(47,"div",22),f(48),l()(),d(49,"div",23)(50,"h4",5),f(51,"Net Profit"),l(),d(52,"div",22),f(53),l()()()()),e&2&&(p(2),u("ngForOf",n.timeFrames),p(12),E(n.salesOverviewDetail.profit),p(16),E(n.salesOverviewDetail.total_orders),p(8),E(n.salesOverviewDetail.total_sales),p(5),E(n.salesOverviewDetail.expenses),p(5),E(n.salesOverviewDetail.unique_customers),p(5),E(n.salesOverviewDetail.profit))},dependencies:[$e,oe],styles:[".dashboard-wrapper[_ngcontent-%COMP%]{height:100vh;background-color:#f5f5f5;overflow-y:auto}.dashboard-container[_ngcontent-%COMP%]{max-width:480px;margin:0 auto;padding:16px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#5d157c;margin-bottom:8px;font-size:1.5rem;font-weight:500}.header[_ngcontent-%COMP%]   .earning[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#666;font-size:.9rem;margin-bottom:4px}.header[_ngcontent-%COMP%]   .earning[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#333}.order-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:20px}.order-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:12px;text-align:center}.order-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:8px;font-size:24px;color:#5d157c}.order-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#666;font-size:.9rem;margin-bottom:4px}.order-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500;color:#333}.main-content[_ngcontent-%COMP%]   .overview-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#333}.section-header[_ngcontent-%COMP%]   .time-frames[_ngcontent-%COMP%]{display:flex;gap:8px}.section-header[_ngcontent-%COMP%]   .time-frames[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:20px;background:#f5f5f5;color:#666;font-size:.9rem}.section-header[_ngcontent-%COMP%]   .time-frames[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#5d157c;color:#fff}.statistics-section[_ngcontent-%COMP%]{margin-bottom:24px}.statistics-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:16px;color:#333}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]{max-width:300px;margin:0 auto}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:100%}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .center-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .center-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#666;font-size:.9rem;margin-bottom:4px}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .center-text[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500;color:#333}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-top:16px}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.9rem;color:#666}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.revenue[_ngcontent-%COMP%]{background:#5d157c}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.profit[_ngcontent-%COMP%]{background:#4caf50}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.expense[_ngcontent-%COMP%]{background:#ffa726}.statistics-section[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.statistics-section[_ngcontent-%COMP%]{border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1rem;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.statistics-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;font-weight:600;--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.chart-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem}.donut-chart[_ngcontent-%COMP%]{position:relative;height:120px;width:120px}.center-text[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.center-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.center-text[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;font-weight:700;--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.chart-legend[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;line-height:1.25rem}.legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;height:.75rem;width:.75rem;border-radius:9999px}.legend-item[_ngcontent-%COMP%]   .revenue[_ngcontent-%COMP%]{background-color:#7e22ce}.legend-item[_ngcontent-%COMP%]   .profit[_ngcontent-%COMP%]{background-color:#15803d}.legend-item[_ngcontent-%COMP%]   .expense[_ngcontent-%COMP%]{background-color:#fbbf24}.dashboard[_ngcontent-%COMP%]{max-width:380px;margin:0 .5rem;display:flex;flex-direction:column;gap:16px}.card[_ngcontent-%COMP%]{background:#fff;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52;padding:16px}.border-right[_ngcontent-%COMP%]{border-radius:0 10px 10px 0!important}.border-top[_ngcontent-%COMP%]{border-radius:0 0 10px 10px!important}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#053b17;margin-bottom:12px}.statistics-card[_ngcontent-%COMP%]   .statistics-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.chart-container[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.chart-center-text[_ngcontent-%COMP%]{position:relative;left:50%;bottom:75px;transform:translate(-50%,-50%);text-align:center;display:flex;flex-direction:column}.chart-center-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px;color:#7a7a7a}.chart-center-text[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#2c3e50}.chart-legend[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;font-size:12px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#4a4a4a}.dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.dot.expense[_ngcontent-%COMP%]{background-color:#f1c40f}.dot.profit[_ngcontent-%COMP%]{background-color:#27ae60}.dot.revenue[_ngcontent-%COMP%]{background-color:#8e44ad}.order-card[_ngcontent-%COMP%]{padding:16px;border-left:.5rem solid #6a1b9a}.order-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#5d157c;margin-bottom:8px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px 15px}.grid-card[_ngcontent-%COMP%]{border-top:.5rem solid #6a1b9a;padding:16px;text-align:center}.card-value[_ngcontent-%COMP%]{font-size:17px;font-weight:600;color:#5d157c;margin-top:6px}.trend-chart[_ngcontent-%COMP%]{width:60%;max-width:300px;height:100px;position:relative}"]})};var nu=(o,t)=>({"bg-[#6B21A8] text-white":o,"text-[#6B21A8] hover:text-[#4C1D95]":t});function ou(o,t){if(o&1){let e=k();d(0,"button",13),x("click",function(){let i=O(e).$implicit,r=C();return P(r.selectTimeFrame(i))}),f(1),l()}if(o&2){let e=t.$implicit,n=C();u("ngClass",ut(2,nu,n.selectedTimeFrame===e,n.selectedTimeFrame!==e)),p(),V(" ",e," ")}}var Ai=class o{constructor(t,e){this.dashboardService=t;this.authServ=e;Pt.register(sd,ki,Hl,id,Ti,rd)}userName="Krishna";monthlyEarning=1e4;statisticsChart;ordersChart;fullSalesSummaryData;salesSummaryDetail;ordersData={total:1e4,delivered:9500,pending:500};timeFrames=["Daily","Weekly","Monthly","Yearly"];selectedTimeFrame="Weekly";statisticsData={labels:["Jul","Aug","Sep","Oct","Nov","Dec"],sales:[800,750,500,500,600,800],profit:[400,300,200,200,250,400]};metrics={orders:300,sales:23e6,expenses:23e3,netProfit:23e3,customers:23e3};ordersTrendData={labels:Array.from({length:12},(t,e)=>`Point ${e+1}`),values:[150,220,180,200,250,230,180,220,190,200,180,250]};navItems=["Explore","Dashboards","Orders","Dues","Transactions"];selectedNav="Dashboards";ngOnInit(){this.triggerGetData()}ngAfterViewInit(){setTimeout(()=>{this.createStatisticsChart()},100)}createStatisticsChart(){let t=document.getElementById("statisticsChartSales");t&&(this.statisticsChart&&this.statisticsChart.destroy(),this.statisticsChart=new Pt(t,{type:"bar",data:{labels:this.statisticsData.labels,datasets:[{label:"Sales",data:this.statisticsData.sales,backgroundColor:"#8B3DFF",borderColor:"#8B3DFF",borderRadius:4,barThickness:20},{label:"Profit",data:this.statisticsData.profit,backgroundColor:"#E6D5FF",borderColor:"#E6D5FF",borderRadius:4,barThickness:20}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"start",labels:{boxWidth:8,boxHeight:8,usePointStyle:!0,pointStyle:"circle",padding:20,color:"#666"}},title:{display:!0,text:"Statistics",align:"start",color:"#1E4620",padding:{bottom:30}}},scales:{x:{grid:{display:!0,color:"#f0f0f0"},ticks:{color:"#666"}},y:{display:!0,beginAtZero:!0,grid:{display:!0,color:"#f0f0f0"},ticks:{color:"#666",callback:function(e){return Number(e).toLocaleString("en-IN",{maximumFractionDigits:0})}},title:{display:!0,text:"Amount (\u20B9)",color:"#333",font:{size:12,weight:"bold"}}}}}}))}createOrdersTrendChart(){let t=document.getElementById("ordersTrendChart2");t&&(this.ordersChart=new Pt(t,{type:"line",data:{labels:this.ordersTrendData.labels,datasets:[{data:this.ordersTrendData.values,borderColor:"#2196F3",backgroundColor:"rgba(33, 150, 243, 0.1)",fill:!0,tension:.4,borderWidth:2,pointRadius:0}]},options:{plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{display:!1}},maintainAspectRatio:!1,responsive:!0}}))}selectTimeFrame(t){this.selectedTimeFrame=t,this.applyTimeFrameData()}selectNavItem(t){this.selectedNav=t}triggerGetData(){let t=this.authServ.getSelectedProviderId();this.dashboardService.getProviderDashboardDetail(Xt[2],t).subscribe(e=>{this.fullSalesSummaryData=e,this.applyTimeFrameData()})}applyTimeFrameData(){let t=this.selectedTimeFrame.toLowerCase(),e=this.fullSalesSummaryData[t]?.[0];if(!e)return;this.salesSummaryDetail=e;let n=e.sales_trend||[],i=[],r=[],a=[];if(this.selectedTimeFrame==="Yearly"){let s=Array.from({length:5},(c,g)=>`${2021+g}`);for(let c of s){let g=n.find(m=>m.label===c);i.push(c),r.push(g?g.sales:0),a.push(g?g.profit:0)}}else if(this.selectedTimeFrame==="Monthly"){let s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let c of s){let g=n.find(m=>m.label.startsWith(c));i.push(c),r.push(g?g.sales:0),a.push(g?g.profit:0)}}else n.forEach(s=>{i.push(s.label),r.push(s.sales),a.push(s.profit)});this.statisticsData={labels:i,sales:r,profit:a},this.createStatisticsChart()}static \u0275fac=function(e){return new(e||o)(y(Je),y(B))};static \u0275cmp=N({type:o,selectors:[["chart-sales"]],decls:31,vars:5,consts:[[1,"section-header","flex","justify-center"],[1,"flex"],["class","text-sm tracking-wide px-6 py-1.5 rounded-b-md transition duration-200",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dashboard"],[1,"card"],[1,"card-title","mb-4"],[1,"chart-wrapper"],["id","statisticsChartSales"],[1,"grid"],[1,"card","grid-card","bg-white","shadow-lg","rounded-xl","p-4","border-top"],[1,"card-title"],[1,"card-value"],[1,"card","grid-card","border-top"],[1,"text-sm","tracking-wide","px-6","py-1.5","rounded-b-md","transition","duration-200",3,"click","ngClass"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"div",1),M(2,ou,2,5,"button",2),l()(),d(3,"div",3)(4,"div",4)(5,"div",5),f(6,"Statistics"),l(),d(7,"div",6),b(8,"canvas",7),l()(),d(9,"div",8)(10,"div",9)(11,"div")(12,"h4",10),f(13,"Sale"),l(),d(14,"span",11),f(15),l()()(),d(16,"div",12)(17,"h4",10),f(18,"Pending"),l(),d(19,"span",11),f(20),l()(),d(21,"div",12)(22,"h4",10),f(23,"Avg Sale Value"),l(),d(24,"span",11),f(25),l()(),d(26,"div",12)(27,"h4",10),f(28,"Top Sale Product"),l(),d(29,"span",11),f(30),l()()()()),e&2&&(p(2),u("ngForOf",n.timeFrames),p(13),E(n.salesSummaryDetail.total_sales||0),p(5),E(n.salesSummaryDetail.pending_orders||0),p(5),E(n.salesSummaryDetail.avg_sale_value||0),p(5),V(" ",n.salesSummaryDetail.top_selling_product||"-"," "))},dependencies:[$e,oe],styles:[".section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#333}.section-header[_ngcontent-%COMP%]   .time-frames[_ngcontent-%COMP%]{display:flex;gap:8px}.section-header[_ngcontent-%COMP%]   .time-frames[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:20px;background:#f5f5f5;color:#666;font-size:.9rem}.section-header[_ngcontent-%COMP%]   .time-frames[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#8b3dff;color:#fff}.statistics-section[_ngcontent-%COMP%]{margin-bottom:24px;background:#fff;border-radius:12px}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]{width:100%;height:300px;padding:16px}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important;height:100%!important}.card[_ngcontent-%COMP%]{background:#fff;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52}.border-right[_ngcontent-%COMP%]{border-radius:0 10px 10px 0!important}.border-top[_ngcontent-%COMP%]{border-radius:0 0 10px 10px!important}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#053b17;margin-bottom:12px;text-align:center;font-family:Poppins,sans-serif}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px 15px}.card-value[_ngcontent-%COMP%]{font-size:17px;font-weight:600;color:#5d157c;margin-top:6px}.dashboard[_ngcontent-%COMP%]{max-width:380px;margin:0 .5rem;display:flex;flex-direction:column;gap:16px}.grid-card[_ngcontent-%COMP%]{border-top:.5rem solid #6a1b9a;padding:16px;text-align:center}"]})};var ru=(o,t)=>({"bg-[#6B21A8] text-white":o,"text-[#6B21A8] hover:text-[#4C1D95]":t});function au(o,t){if(o&1){let e=k();d(0,"button",14),x("click",function(){let i=O(e).$implicit,r=C();return P(r.selectTimeFrame(i))}),f(1),l()}if(o&2){let e=t.$implicit,n=C();u("ngClass",ut(2,ru,n.selectedTimeFrame===e,n.selectedTimeFrame!==e)),p(),V(" ",e," ")}}var Vi=class o{constructor(t,e){this.dashboardService=t;this.authServ=e;Pt.register(Yl,Hn,Ii)}statisticsChart;userName="Krishna";monthlyEarning=1e4;timeFrames=["Daily","Weekly","Monthly","Yearly"];selectedTimeFrame="Weekly";customerTrendData={labels:[],data:[]};fullCustomerTrendData;customerSummaryDetail;navItems=["Explore","Dashboards","Orders","Dues","Transactions"];selectedNav="Dashboards";ngOnInit(){this.fetchCustomerDataOnce()}ngAfterViewInit(){setTimeout(()=>{this.createCustomerTrendChart()},100)}fetchCustomerDataOnce(){let t=this.authServ.getSelectedProviderId();this.dashboardService.getProviderDashboardDetail(Xt[3],t).subscribe(e=>{this.fullCustomerTrendData=e,this.updateChartForTimeframe()})}selectTimeFrame(t){this.selectedTimeFrame=t,this.updateChartForTimeframe()}selectNavItem(t){this.selectedNav=t}updateChartForTimeframe(){let t=this.selectedTimeFrame.toLowerCase(),e=this.fullCustomerTrendData[t]?.[0];if(!e)return;this.customerSummaryDetail=e;let n=e.customer_trend||[],i=[],r=[];if(this.selectedTimeFrame==="Yearly")i=Array.from({length:5},(s,c)=>`${2021+c}`);else if(this.selectedTimeFrame==="Monthly")i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];else if(this.selectedTimeFrame==="Weekly")i=Array.from({length:4},(a,s)=>`Week ${s+1}`);else if(this.selectedTimeFrame==="Daily"){let a=new Date;i=Array.from({length:7},(s,c)=>{let g=new Date(a);return g.setDate(a.getDate()-(6-c)),g.toLocaleDateString("en-US",{month:"short",day:"numeric"})})}r=i.map(a=>{let s=n.find(c=>c.label?.startsWith(a));return s?s.count:0}),this.customerTrendData={labels:i,data:r},this.statisticsChart&&this.statisticsChart.destroy(),setTimeout(()=>this.createCustomerTrendChart(),0)}createCustomerTrendChart(){let t=document.getElementById("statisticsChartMember");t&&(this.statisticsChart=new Pt(t,{type:"line",data:{labels:this.customerTrendData.labels,datasets:[{label:"Customer Trend",data:this.customerTrendData.data,borderColor:"#5D157C",backgroundColor:"#5D157C",fill:!0,tension:.4,borderWidth:2,pointRadius:4,pointBackgroundColor:"#5D157C"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"start",labels:{boxWidth:8,boxHeight:8,usePointStyle:!0,pointStyle:"circle",padding:20,color:"#666"}}},scales:{x:{grid:{display:!0,color:"#f0f0f0"},ticks:{color:"#666",padding:10},border:{display:!1}},y:{display:!0,grid:{display:!0,color:"#f0f0f0"},ticks:{color:"#666",callback:e=>Number(e).toLocaleString("en-IN",{maximumFractionDigits:0})},title:{display:!0,text:"Customers",color:"#333",font:{size:12,weight:"bold"}}}}}}))}static \u0275fac=function(e){return new(e||o)(y(Je),y(B))};static \u0275cmp=N({type:o,selectors:[["charts-members"]],decls:21,vars:3,consts:[[1,"overview-section"],[1,"section-header","flex","justify-center"],[1,"flex"],["class","text-sm tracking-wide px-6 py-1.5 rounded-b-md transition duration-200",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dashboard"],[1,"card"],[1,"card-title","mb-4"],[1,"chart-wrapper"],["id","statisticsChartMember"],[1,"grid"],[1,"card","grid-card","bg-white","shadow-lg","rounded-xl","p-4","border-top"],[1,"card-title"],[1,"card-value"],[1,"card","grid-card","border-top"],[1,"text-sm","tracking-wide","px-6","py-1.5","rounded-b-md","transition","duration-200",3,"click","ngClass"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),M(3,au,2,5,"button",3),l()(),d(4,"div",4)(5,"div",5)(6,"div",6),f(7,"Customer Trend"),l(),d(8,"div",7),b(9,"canvas",8),l()(),d(10,"div",9)(11,"div",10)(12,"h4",11),f(13,"Active Customers"),l(),d(14,"div",12),f(15),l()(),d(16,"div",13)(17,"h4",11),f(18,"New Customers"),l(),d(19,"div",12),f(20),l()()()()()),e&2&&(p(3),u("ngForOf",n.timeFrames),p(12),E(n.customerSummaryDetail.active_customers||0),p(5),E(n.customerSummaryDetail.new_customers||0))},dependencies:[$e,oe],styles:[".overview-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px}.overview-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.overview-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .time-frames[_ngcontent-%COMP%]{display:flex;gap:8px}.overview-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .time-frames[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:20px;background:#f5f5f5;color:#666;font-size:.9rem;cursor:pointer}.overview-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .time-frames[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#8b3dff;color:#fff}.statistics-section[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:12px}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]{width:100%;height:300px;padding:16px}.statistics-section[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important;height:100%!important}.card[_ngcontent-%COMP%]{background:#fff;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52;padding:16px}.border-right[_ngcontent-%COMP%]{border-radius:0 10px 10px 0!important}.border-top[_ngcontent-%COMP%]{border-radius:0 0 10px 10px!important}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#053b17;margin-bottom:12px;text-align:center;font-family:Poppins,sans-serif}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px 15px}.card-value[_ngcontent-%COMP%]{font-size:17px;font-weight:600;color:#5d157c;margin-top:6px}.dashboard[_ngcontent-%COMP%]{max-width:380px;margin:0 .5rem;display:flex;flex-direction:column;gap:16px}.grid-card[_ngcontent-%COMP%]{border-top:.5rem solid #6a1b9a;padding:16px;text-align:center}.dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%}.trend-chart[_ngcontent-%COMP%]{height:40px;margin-top:8px}"]})};var Ri=class o{selectedIndex=0;onTabChange(t){this.selectedIndex=t.index}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=N({type:o,selectors:[["business-dashboard"]],decls:8,vars:1,consts:[[1,"business-view","w-full","rounded-t-md","overflow-hidden"],[3,"onChange","styleClass"],["header","Overview"],["header","Sales"],["header","Members"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"p-tabView",1),x("onChange",function(r){return n.onTabChange(r)}),d(2,"p-tabPanel",2),b(3,"chart-overview"),l(),d(4,"p-tabPanel",3),b(5,"chart-sales"),l(),d(6,"p-tabPanel",4),b(7,"charts-members"),l()()()),e&2&&(p(),u("styleClass","custom-tabview w-full border-b border-gray-200 mb-2 rounded-t-md bg-white"))},dependencies:[ys,xs,Fi,Ai,Vi],styles:[".business-view[_ngcontent-%COMP%]{font-family:Arial,sans-serif;max-width:1200px;margin:0 auto;padding-bottom:80px}.business-view[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.business-view[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:12px 24px;background-color:#f0f0f0;border:1px solid #ddd;cursor:pointer;transition:background-color .3s ease;margin-right:10px;display:flex;align-items:center}.business-view[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.business-view[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background-color:#ddd}.business-view[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}.business-view[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .chart-view[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{width:100%;height:400px;display:flex;justify-content:center;align-items:center}.business-view[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .chart-view[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important;height:100%!important}.business-view[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .data-view[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#333}.business-view[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .data-view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;border:1px solid #ddd}.business-view[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .data-view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-view[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .data-view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border:1px solid #ddd}.business-view[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .data-view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}  .p-tabview .p-tabview-panels{padding:0!important}  .p-tabview .p-tabview-nav li .p-tabview-nav-link{background:none!important}  .custom-tabview .p-tabview-nav{margin-bottom:1rem;display:flex;border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}  .custom-tabview .p-tabview-nav li{background-color:#f9f2fd!important;color:#5d157c;flex:1 1 0%;text-align:center}  .custom-tabview .p-tabview-nav li.p-highlight{background-color:#fff!important;border-top-width:4px;--tw-border-opacity: 1;border-color:rgb(126 34 206 / var(--tw-border-opacity, 1));border-bottom-width:0!important;color:#5d157c}  .custom-tabview .p-tabview-nav li .p-tabview-nav-link{display:block;width:100%;padding-top:.75rem;padding-bottom:.75rem;border:none!important}  .custom-tabview .p-tabview-panels{padding:0}"]})};function lu(o,t){if(o&1){let e=k();d(0,"div",11),x("click",function(){let i=O(e).$implicit,r=C();return P(r.assign(i))}),d(1,"div",12)(2,"div",13),b(3,"i",14),l(),d(4,"div",15)(5,"div",16),f(6),l(),d(7,"div",17),f(8),l()()()()}if(o&2){let e=t.$implicit;p(6),E(e.employee_name),p(2),E(e.myid_role||"Employee")}}function du(o,t){if(o&1&&(d(0,"div",18)(1,"p"),f(2),l()()),o&2){let e=C();p(2),V('No employees found matching "',e.searchText,'"')}}var Ni=class o{constructor(t,e){this.dialogRef=t;this.data=e;e&&e.employees&&(this.employees=e.employees)}searchText="";employees=[];assign(t){console.log(`Assigned to ${t.employee_name}`,this.data.order,t),this.dialogRef.close({employeeId:t.employee_id,employeeName:t.employee_name,employee:t})}getFilteredEmployees(){return this.searchText?this.employees.filter(t=>t.employee_name.toLowerCase().includes(this.searchText.toLowerCase())||t.myid_role.toLowerCase().includes(this.searchText.toLowerCase())):this.employees}static \u0275fac=function(e){return new(e||o)(y(Wo),y(Go))};static \u0275cmp=N({type:o,selectors:[["assign-order-dialog"]],decls:12,vars:3,consts:[[1,"assign-order-dialog"],[1,"dialog-header"],[1,"dialog-title"],[1,"close-btn",3,"click"],[1,"pi","pi-times"],[1,"dialog-content"],[1,"search-section"],["type","text","placeholder","Search employee name or role",1,"search-input",3,"ngModelChange","ngModel"],[1,"employee-list"],["class","employee-item",3,"click",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],[1,"employee-item",3,"click"],[1,"employee-info"],[1,"employee-icon"],[1,"pi","pi-user"],[1,"employee-details"],[1,"employee-name"],[1,"employee-role"],[1,"no-results"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"div",1)(2,"h2",2),f(3,"Assign order"),l(),d(4,"button",3),x("click",function(){return n.dialogRef.close()}),b(5,"i",4),l()(),d(6,"div",5)(7,"div",6)(8,"input",7),G("ngModelChange",function(r){return W(n.searchText,r)||(n.searchText=r),r}),l()(),d(9,"div",8),M(10,lu,9,2,"div",9),l(),M(11,du,3,1,"div",10),l()()),e&2&&(p(8),q("ngModel",n.searchText),p(2),u("ngForOf",n.getFilteredEmployees()),p(),u("ngIf",n.getFilteredEmployees().length===0&&n.searchText))},dependencies:[oe,K,ne,Q,Re],styles:[".assign-order-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000026;max-width:400px;width:100%;overflow:hidden}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 24px 16px;border-bottom:1px solid #f0f0f0}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#374151;margin:0}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;font-size:18px;cursor:pointer;padding:4px;border-radius:4px;transition:color .2s}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#374151}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:20px 24px}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]{margin-bottom:16px}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1.5px solid #d1d5db;border-radius:8px;font-size:14px;color:#374151;background:#fff;transition:border-color .2s}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#5d157c;box-shadow:0 0 0 3px #7b2ff21a}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .employee-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:auto}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .employee-list[_ngcontent-%COMP%]   .employee-item[_ngcontent-%COMP%]{border:1.5px solid #5D157C;border-radius:12px;padding:12px 16px;cursor:pointer;transition:all .2s;background:#fff}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .employee-list[_ngcontent-%COMP%]   .employee-item[_ngcontent-%COMP%]:hover{background:#f3e8ff;transform:translateY(-1px);box-shadow:0 2px 8px #7b2ff226}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .employee-list[_ngcontent-%COMP%]   .employee-item[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .employee-list[_ngcontent-%COMP%]   .employee-item[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .employee-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#5d157c;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:14px}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .employee-list[_ngcontent-%COMP%]   .employee-item[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .employee-details[_ngcontent-%COMP%]{flex:1}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .employee-list[_ngcontent-%COMP%]   .employee-item[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .employee-details[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#374151;margin-bottom:2px}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .employee-list[_ngcontent-%COMP%]   .employee-item[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .employee-details[_ngcontent-%COMP%]   .employee-role[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;text-transform:capitalize}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#6b7280;font-size:14px}.assign-order-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})};function pu(o,t){if(o&1&&(d(0,"div",15)(1,"span",16),f(2,"Amount:"),l(),d(3,"span",17),f(4),l()()),o&2){let e=C(2);p(4),V("\u20B9",e.currentAmount,"")}}function gu(o,t){if(o&1&&(d(0,"div",12)(1,"div",13),f(2),l(),M(3,pu,5,1,"div",14),l()),o&2){let e=C();p(2),E(e.data.message||"Amount paid?"),p(),u("ngIf",e.showAmount)}}function mu(o,t){o&1&&(d(0,"div",22),f(1," Please enter a valid amount greater than 0 "),l())}function uu(o,t){if(o&1){let e=k();d(0,"div",18)(1,"label",19),f(2,"Amount"),l(),d(3,"input",20),G("ngModelChange",function(i){O(e);let r=C();return W(r.amount,i)||(r.amount=i),P(i)}),x("ngModelChange",function(){O(e);let i=C();return P(i.onAmountChange())}),l(),M(4,mu,2,0,"div",21),l()}if(o&2){let e=C();p(3),pe("invalid",!e.isValidAmount&&e.amount!==0),q("ngModel",e.amount),p(),u("ngIf",!e.isValidAmount&&e.amount!==0)}}var Wt=class o{constructor(t,e){this.dialogRef=t;this.data=e;this.showAmountInput=e.showAmountInput!==!1,this.showAmount=e.showAmount||!1,this.currentAmount=e.currentAmount||0,this.amount=e.amount||this.currentAmount||0,this.validateAmount()}amount;isValidAmount=!1;showAmountInput=!0;showAmount=!1;currentAmount=0;validateAmount(){this.isValidAmount=this.amount>0&&this.amount!==null&&this.amount!==void 0}onAmountChange(){this.validateAmount()}confirm(){this.showAmountInput&&!this.isValidAmount||(console.log(`Confirmed amount: \u20B9${this.amount}`),this.dialogRef.close({confirmed:!0,amount:this.amount}))}cancel(){this.dialogRef.close({confirmed:!1,amount:this.amount})}closeDialog(){this.dialogRef.close(null)}static \u0275fac=function(e){return new(e||o)(y(Wo),y(Go))};static \u0275cmp=N({type:o,selectors:[["confirm-amount-dialog"]],decls:15,vars:5,consts:[[1,"confirm-amount-dialog"],[1,"dialog-header"],[1,"header-content"],[1,"dialog-title"],[1,"close-btn",3,"click"],[1,"pi","pi-times"],[1,"dialog-content"],["class","payment-confirmation",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"dialog-footer"],[1,"btn","btn-cancel",3,"click"],[1,"btn","btn-confirm",3,"click","disabled"],[1,"payment-confirmation"],[1,"message"],["class","amount-display",4,"ngIf"],[1,"amount-display"],[1,"amount-label"],[1,"amount-value"],[1,"form-group"],[1,"form-label"],["type","number","placeholder","Enter amount",1,"amount-input",3,"ngModelChange","ngModel"],["class","validation-message",4,"ngIf"],[1,"validation-message"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),f(4),l()(),d(5,"button",4),x("click",function(){return n.closeDialog()}),b(6,"i",5),l()(),d(7,"div",6),M(8,gu,4,2,"div",7)(9,uu,5,4,"div",8),l(),d(10,"div",9)(11,"button",10),x("click",function(){return n.cancel()}),f(12,"No"),l(),d(13,"button",11),x("click",function(){return n.confirm()}),f(14),l()()()),e&2&&(p(4),E(n.data.title||"Payment Confirmation"),p(4),u("ngIf",!n.showAmountInput),p(),u("ngIf",n.showAmountInput),p(4),u("disabled",n.showAmountInput&&!n.isValidAmount),p(),V(" ",n.showAmountInput?"Confirm & Close":"Yes"," "))},dependencies:[K,ne,at,Q,Re],styles:[".confirm-amount-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000026;max-width:400px;width:100%;overflow:hidden}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:24px 24px 16px;border-bottom:1px solid #f0f0f0}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#5d157c;margin:0 0 4px}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .received-amount[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#22c55e;margin:0}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;font-size:18px;cursor:pointer;padding:4px;border-radius:4px;transition:color .2s}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#374151}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:20px 24px}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .payment-confirmation[_ngcontent-%COMP%]{text-align:center;padding:20px 0}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .payment-confirmation[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#374151;margin-bottom:20px}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .payment-confirmation[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:16px 20px;margin:0 auto;max-width:200px}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .payment-confirmation[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#6b7280;display:block;margin-bottom:4px}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .payment-confirmation[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#5d157c}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#374151;margin-bottom:8px}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .amount-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1.5px solid #d1d5db;border-radius:8px;font-size:16px;color:#374151;background:#fff;transition:border-color .2s}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .amount-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#5d157c;box-shadow:0 0 0 3px #7b2ff21a}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .amount-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .amount-input.invalid[_ngcontent-%COMP%]{border-color:#dc2626;background-color:#fef2f2}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .amount-input.invalid[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]{color:#dc2626;font-size:12px;margin-top:4px;font-weight:500}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]{display:flex;gap:12px;padding:16px 24px 24px;border-top:1px solid #f0f0f0}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;border:none}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn.btn-cancel[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn.btn-cancel[_ngcontent-%COMP%]:hover{background:#e5e7eb}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn.btn-confirm[_ngcontent-%COMP%]{background:#5d157c;color:#fff}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn.btn-confirm[_ngcontent-%COMP%]:hover{background:#5d157c}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn.btn-confirm[_ngcontent-%COMP%]:disabled{background:#d1d5db;color:#9ca3af;cursor:not-allowed;opacity:.6}.confirm-amount-dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .btn.btn-confirm[_ngcontent-%COMP%]:disabled:hover{background:#d1d5db}"]})};var ln=class o extends vt{constructor(e,n){let i=n.getSelectedProviderId(),r=o.getUrlObj(i);super(e,"employee_id",r,"employee");this.authServ=n}getEmployeesForProvider(e,n=0,i=10){let r=`provider/${e}/employees/?offset=${n}&limit=${i}`;return this.http.get(r)}list(){return this.setUrl(o.getUrlObj(this.authServ.getSelectedProviderId())),super.list()}static getUrlObj(e,n=0,i=10){let r=ie.EMPLOYEE.LIST.replace("_PROVIDER_ID_",e.toString());return{create:ie.EMPLOYEE.URL,update:ie.EMPLOYEE.URL,list:r,delete:ie.EMPLOYEE.URL}}static \u0275fac=function(n){return new(n||o)(Fe(ct),Fe(B))};static \u0275prov=He({token:o,factory:o.\u0275fac,providedIn:"root"})};var Li=class o{stateSubject=new Aa({searchText:"",selectedStatus:"",selectedDateFilter:"today",customStartDate:"",customEndDate:"",dateRange:{start:null,end:null},selected:"order",currentPage:0,focusedOrderId:null});currentState={searchText:"",selectedStatus:"",selectedDateFilter:"today",customStartDate:"",customEndDate:"",dateRange:{start:null,end:null},selected:"order",currentPage:0,focusedOrderId:null};constructor(){}getState(){return this.stateSubject.asObservable()}getCurrentState(){return H({},this.currentState)}saveStateBeforeNavigation(t){this.currentState=H({},t),this.stateSubject.next(this.currentState),console.log("Order list state saved:",this.currentState)}updateState(t){this.currentState=H(H({},this.currentState),t),this.stateSubject.next(this.currentState)}setFocusedOrder(t){this.currentState.focusedOrderId=t,this.stateSubject.next(this.currentState)}clearFocusedOrder(){this.currentState.focusedOrderId=null,this.stateSubject.next(this.currentState)}resetState(){this.currentState={searchText:"",selectedStatus:"",selectedDateFilter:"today",customStartDate:"",customEndDate:"",dateRange:{start:null,end:null},selected:"order",currentPage:0,focusedOrderId:null},this.stateSubject.next(this.currentState)}clearFilters(){this.currentState=J(H({},this.currentState),{searchText:"",selectedStatus:"",selectedDateFilter:"today",customStartDate:"",customEndDate:"",dateRange:{start:null,end:null},selected:"order",currentPage:0}),this.stateSubject.next(this.currentState)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=He({token:o,factory:o.\u0275fac,providedIn:"root"})};var _u=["infiniteScrollSentinel"],bu=["ordersContainer"],Cu=["ordersList"],ld=o=>({active:o}),vu=()=>[1,2,3,4],Ou=()=>[1,2,3,4,5];function Pu(o,t){if(o&1){let e=k();d(0,"div",42)(1,"p-dropdown",43),I(2,"translate"),G("ngModelChange",function(i){O(e);let r=C();return W(r.selectedDateFilter,i)||(r.selectedDateFilter=i),P(i)}),x("onChange",function(){O(e);let i=C();return P(i.onDateFilterChange())}),l()()}if(o&2){let e=C();p(),Ze("placeholder",D(2,4,"orders.select_date_range")),u("options",e.dateFilterOptions),q("ngModel",e.selectedDateFilter),u("appendTo","body")}}function Mu(o,t){o&1&&(d(0,"div",44),b(1,"div",45),l())}function xu(o,t){if(o&1){let e=k();d(0,"button",58),x("click",function(){O(e);let i=C(2);return P(i.clearCustomDate())}),b(1,"i",59),l()}}function yu(o,t){if(o&1){let e=k();d(0,"div",46)(1,"div",47)(2,"div",48),b(3,"i",49),d(4,"span"),f(5),I(6,"translate"),l()(),M(7,xu,2,0,"button",50),l(),d(8,"div",51)(9,"div",52)(10,"div",53)(11,"label",54),f(12),I(13,"translate"),l(),d(14,"div",55),b(15,"i",56),d(16,"input",57),G("ngModelChange",function(i){O(e);let r=C();return W(r.customStartDate,i)||(r.customStartDate=i),P(i)}),x("change",function(){O(e);let i=C();return P(i.onCustomDateChange())}),l()()(),d(17,"div",53)(18,"label",54),f(19),I(20,"translate"),l(),d(21,"div",55),b(22,"i",56),d(23,"input",57),G("ngModelChange",function(i){O(e);let r=C();return W(r.customEndDate,i)||(r.customEndDate=i),P(i)}),x("change",function(){O(e);let i=C();return P(i.onCustomDateChange())}),l()()()()()()}if(o&2){let e=C();p(5),E(D(6,10,"orders.date_range")),p(2),u("ngIf",e.customStartDate||e.customEndDate),p(5),E(D(13,12,"orders.start_date")),p(4),pe("has-value",e.customStartDate),q("ngModel",e.customStartDate),p(3),E(D(20,14,"orders.end_date")),p(4),pe("has-value",e.customEndDate),q("ngModel",e.customEndDate)}}function Su(o,t){o&1&&(d(0,"div",60),b(1,"div",61),l())}function wu(o,t){if(o&1){let e=k();d(0,"mat-chip",67),x("click",function(){let i=O(e).$implicit,r=C(2);return P(r.quickAssignEmployee(i))})("wheel",function(i){return O(e),P(i.stopPropagation())})("touchstart",function(i){return O(e),P(i.stopPropagation())})("touchmove",function(i){return O(e),P(i.stopPropagation())}),f(1),l()}if(o&2){let e=t.$implicit;u("selected",!1),p(),V(" ",e.employee_name," ")}}function Tu(o,t){if(o&1&&(d(0,"div",62)(1,"div",63),f(2),I(3,"translate"),l(),d(4,"div",64)(5,"div",65)(6,"mat-chip-list"),M(7,wu,2,2,"mat-chip",66),l()()()()),o&2){let e=C();p(2),E(D(3,2,"orders.quick_assign")),p(5),u("ngForOf",e.employees)}}function ku(o,t){o&1&&b(0,"div",70)}function Eu(o,t){o&1&&(d(0,"div",68)(1,"div",63),f(2),I(3,"translate"),l(),d(4,"div",64)(5,"div",65),M(6,ku,1,0,"div",69),l()()()),o&2&&(p(2),E(D(3,2,"orders.quick_assign")),p(4),u("ngForOf",he(4,vu)))}function Iu(o,t){if(o&1){let e=k();d(0,"button",80),I(1,"translate"),I(2,"translate"),x("click",function(i){return O(e),C(2).clearSearch(),P(i.stopPropagation())}),b(3,"i",59),l()}o&2&&(Ze("title",D(1,2,"orders.clear")),to("aria-label",D(2,4,"orders.clear")))}function Du(o,t){o&1&&(d(0,"div",81),b(1,"div",82),l())}function Fu(o,t){if(o&1){let e=k();d(0,"div",71)(1,"div",72)(2,"div",73)(3,"label",74),f(4),I(5,"translate"),l(),d(6,"div",75)(7,"input",76),I(8,"translate"),G("ngModelChange",function(i){O(e);let r=C();return W(r.searchText,i)||(r.searchText=i),P(i)}),x("ngModelChange",function(){O(e);let i=C();return P(i.onSearchChange())}),l(),M(9,Iu,4,6,"button",77)(10,Du,2,0,"div",78),l()(),d(11,"div",73)(12,"label",74),f(13),I(14,"translate"),l(),d(15,"p-dropdown",79),I(16,"translate"),G("ngModelChange",function(i){O(e);let r=C();return W(r.selectedStatus,i)||(r.selectedStatus=i),P(i)}),x("onChange",function(i){O(e);let r=C();return P(r.onStatusChange(i))}),l()()()()}if(o&2){let e=C();p(4),E(D(5,13,"orders.search_orders")),p(3),pe("searching",e.searchText&&e.loading),Ze("placeholder",D(8,15,"orders.search_by_order_id")),q("ngModel",e.searchText),p(2),u("ngIf",e.searchText),p(),u("ngIf",e.searchText&&e.loading),p(3),E(D(14,17,"orders.status")),p(2),Ze("placeholder",D(16,19,"orders.filter_by_status")),u("options",e.statusOptions),q("ngModel",e.selectedStatus),u("showClear",!0)("filter",!0)}}function Au(o,t){o&1&&(d(0,"div",83)(1,"div",72)(2,"div",73),b(3,"div",84)(4,"div",85),l(),d(5,"div",73),b(6,"div",84)(7,"div",45),l()()())}function Vu(o,t){o&1&&(d(0,"div",92)(1,"div",93)(2,"div",94)(3,"div",95),b(4,"div",96)(5,"div",97),l(),d(6,"div",98),b(7,"div",99)(8,"div",99)(9,"div",99),l()(),d(10,"div",100),b(11,"div",101)(12,"div",101)(13,"div",101)(14,"div",101),l()(),d(15,"div",102),b(16,"div",103)(17,"div",103)(18,"div",103),l()())}function Ru(o,t){o&1&&(d(0,"div",86)(1,"div",87)(2,"div",88),b(3,"div",89)(4,"div",90),l(),M(5,Vu,19,0,"div",91),l()()),o&2&&(p(5),u("ngForOf",he(1,Ou)))}function Nu(o,t){if(o&1){let e=k();d(0,"div",104)(1,"p",105),f(2),l(),d(3,"button",106),x("click",function(){O(e);let i=C();return P(i.fetchOrders())}),f(4,"Retry"),l()()}if(o&2){let e=C();p(2),E(e.error)}}function Lu(o,t){if(o&1){let e=k();d(0,"button",114),I(1,"translate"),x("click",function(){O(e);let i=C(2);return P(i.goToSales())}),l()}o&2&&Ze("label",D(1,1,"orders.new_order"))}function Bu(o,t){if(o&1){let e=k();d(0,"button",115),I(1,"translate"),x("click",function(){O(e);let i=C(2);return P(i.acceptAllOrders())}),l()}if(o&2){let e=C(2);Ze("label",D(1,2,"orders.accept_all")),u("disabled",e.loading||e.infiniteLoading)}}function zu(o,t){o&1&&(d(0,"div",116)(1,"p"),f(2),I(3,"translate"),l(),d(4,"p",117),f(5),I(6,"translate"),l()()),o&2&&(p(2),E(D(3,2,"orders.no_orders_found")),p(3),E(D(6,4,"orders.try_adjusting_filters")))}function ju(o,t){if(o&1){let e=k();d(0,"button",146),x("click",function(i){O(e);let r=C().$implicit;return C(2).showDirection(r),P(i.stopPropagation())}),d(1,"div",147),b(2,"i",148),d(3,"span"),f(4,"Direction"),l()()()}}function qu(o,t){if(o&1){let e=k();d(0,"button",149),x("click",function(i){O(e);let r=C().$implicit;return C(2).openAssignOrderDialog(r),P(i.stopPropagation())}),d(1,"div",147),b(2,"i",150),d(3,"span"),f(4),I(5,"translate"),l()()()}if(o&2){let e=C().$implicit,n=C(2);u("disabled",n.isActionDisabled(e)||n.processingOrders.has(e.id)),p(4),E(D(5,2,"orders.assign"))}}function Wu(o,t){if(o&1&&(d(0,"div",151),b(1,"i",152),d(2,"span"),f(3),l()()),o&2){let e=C().$implicit;p(3),E((e.assigned_to_info==null?null:e.assigned_to_info.employee_name)||e.assigned_to)}}function Gu(o,t){o&1&&b(0,"i",157)}function Uu(o,t){o&1&&b(0,"i",158)}function Hu(o,t){o&1&&(d(0,"span"),f(1),I(2,"translate"),l()),o&2&&(p(),E(D(2,1,"orders.accept")))}function Yu(o,t){o&1&&(d(0,"span",159),f(1),I(2,"translate"),l()),o&2&&(p(),E(D(2,1,"orders.processing")))}function $u(o,t){if(o&1){let e=k();d(0,"button",153),x("click",function(i){O(e);let r=C().$implicit;return C(2).acceptOrder(r),P(i.stopPropagation())}),d(1,"div",147),M(2,Gu,1,0,"i",154)(3,Uu,1,0,"i",155)(4,Hu,3,3,"span",21)(5,Yu,3,3,"span",156),l()()}if(o&2){let e=C().$implicit,n=C(2);u("disabled",n.isActionDisabled(e)||n.processingOrders.has(e.id)),p(2),u("ngIf",!n.processingOrders.has(e.id)),p(),u("ngIf",n.processingOrders.has(e.id)),p(),u("ngIf",!n.processingOrders.has(e.id)),p(),u("ngIf",n.processingOrders.has(e.id))}}function Xu(o,t){o&1&&b(0,"i",59)}function Ku(o,t){o&1&&b(0,"i",158)}function Qu(o,t){o&1&&(d(0,"span"),f(1),I(2,"translate"),l()),o&2&&(p(),E(D(2,1,"orders.reject")))}function Ju(o,t){o&1&&(d(0,"span",159),f(1),I(2,"translate"),l()),o&2&&(p(),E(D(2,1,"orders.processing")))}function Zu(o,t){if(o&1){let e=k();d(0,"button",160),x("click",function(i){O(e);let r=C().$implicit;return C(2).rejectOrder(r),P(i.stopPropagation())}),d(1,"div",147),M(2,Xu,1,0,"i",161)(3,Ku,1,0,"i",155)(4,Qu,3,3,"span",21)(5,Ju,3,3,"span",156),l()()}if(o&2){let e=C().$implicit,n=C(2);u("disabled",n.isActionDisabled(e)||n.processingOrders.has(e.id)),p(2),u("ngIf",!n.processingOrders.has(e.id)),p(),u("ngIf",n.processingOrders.has(e.id)),p(),u("ngIf",!n.processingOrders.has(e.id)),p(),u("ngIf",n.processingOrders.has(e.id))}}function ef(o,t){if(o&1){let e=k();d(0,"button",162),x("click",function(i){O(e);let r=C().$implicit,a=C(2);return r.amount===0?a.openConfirmAmountDialog(r):a.completeOrder(r),P(i.stopPropagation())}),d(1,"div",147),b(2,"i",163),d(3,"span"),f(4,"Complete"),l()()()}if(o&2){let e=C().$implicit,n=C(2);Lt("background",n.isButtonDisabled(e,"complete")?"#e5e7eb":"")("color",n.isButtonDisabled(e,"complete")?"#9ca3af":"")("opacity",n.isButtonDisabled(e,"complete")?"0.4":"1")("cursor",n.isButtonDisabled(e,"complete")?"not-allowed":"pointer"),pe("btn-disabled",n.isButtonDisabled(e,"complete")),u("disabled",n.isButtonDisabled(e,"complete"))}}function tf(o,t){if(o&1){let e=k();d(0,"button",164),x("click",function(i){O(e);let r=C().$implicit;return C(2).markReady(r),P(i.stopPropagation())}),d(1,"div",147),b(2,"i",165),d(3,"span"),f(4,"Ready"),l()()()}if(o&2){let e=C().$implicit,n=C(2);Lt("background",n.isButtonDisabled(e,"ready")?"#e5e7eb":"")("color",n.isButtonDisabled(e,"ready")?"#9ca3af":"")("opacity",n.isButtonDisabled(e,"ready")?"0.4":"1")("cursor",n.isButtonDisabled(e,"ready")?"not-allowed":"pointer"),pe("btn-disabled",n.isButtonDisabled(e,"ready")),u("disabled",n.isButtonDisabled(e,"ready"))}}function nf(o,t){if(o&1){let e=k();d(0,"button",166),x("click",function(i){O(e);let r=C().$implicit;return C(2).markDelivery(r),P(i.stopPropagation())}),d(1,"div",147),b(2,"i",167),d(3,"span"),f(4,"Delivery"),l()()()}if(o&2){let e=C().$implicit,n=C(2);Lt("background",n.isButtonDisabled(e,"delivery")?"#e5e7eb":"")("color",n.isButtonDisabled(e,"delivery")?"#9ca3af":"")("opacity",n.isButtonDisabled(e,"delivery")?"0.4":"1")("cursor",n.isButtonDisabled(e,"delivery")?"not-allowed":"pointer"),pe("btn-disabled",n.isButtonDisabled(e,"delivery")),u("disabled",n.isButtonDisabled(e,"delivery"))}}function of(o,t){if(o&1&&(d(0,"div",168),f(1),I(2,"titlecase"),l()),o&2){let e=C().$implicit;Gt("status-"+e.status),p(),V(" ",D(2,3,e.status)," ")}}function rf(o,t){if(o&1){let e=k();We(0),d(1,"div",118),x("click",function(i){let r=O(e).$implicit;return C(2).openOrderDetails(r),P(i.stopPropagation())}),d(2,"div",119)(3,"div",120)(4,"mat-checkbox",121),G("ngModelChange",function(i){let r=O(e).$implicit;return W(r.selected,i)||(r.selected=i),P(i)}),x("click",function(i){return O(e),P(i.stopPropagation())}),l(),d(5,"span",122),f(6),l()(),d(7,"div",123),f(8),I(9,"titlecase"),l()(),d(10,"div",124)(11,"div",125)(12,"div",126)(13,"div",127)(14,"div",128),f(15),I(16,"translate"),l(),d(17,"div",129),f(18),l()(),d(19,"div",127)(20,"div",130)(21,"span",131),f(22),I(23,"translate"),l(),d(24,"div",123),f(25),I(26,"titlecase"),l()(),d(27,"div",132)(28,"span",131),f(29),I(30,"translate"),l(),d(31,"span",133),I(32,"translate"),f(33),l()()()(),d(34,"div",134),M(35,ju,5,0,"button",135)(36,qu,6,4,"button",136)(37,Wu,4,1,"div",137),l()()(),d(38,"div",138)(39,"div",139),M(40,$u,6,5,"button",140)(41,Zu,6,5,"button",141)(42,ef,5,11,"button",142)(43,tf,5,11,"button",143)(44,nf,5,11,"button",144)(45,of,3,5,"div",145),l()()(),Ge()}if(o&2){let e=t.$implicit,n=C(2);p(),to("data-order-id",e.id),p(3),q("ngModel",e.selected),p(2),V("#",e.display_order_id,""),p(),Gt("status-"+e.status),p(),V(" ",D(9,26,e.status)," "),p(7),E(e.customer_name||D(16,28,"orders.customer")),p(3),E(n.getOrderProductsDisplay(e)),p(4),E(D(23,30,"orders.payment")),p(2),Gt("status-"+e.payment_status),p(),V(" ",D(26,32,e.payment_status)," "),p(4),E(D(30,34,"orders.bill_total")),p(2),Gt("zero-amount"),u("title",e.amount===0?D(32,36,"orders.click_to_confirm_amount"):""),p(2),V(" \u20B9",e.amount," "),p(2),u("ngIf",e.status!=="pending"),p(),u("ngIf",!e.assigned_to_info),p(),u("ngIf",e.assigned_to_info||e.assigned_to),p(3),u("ngIf",n.isOrderActionable(e)),p(),u("ngIf",n.isOrderActionable(e)),p(),u("ngIf",e.status!=="pending"),p(),u("ngIf",e.status!=="pending"),p(),u("ngIf",e.status!=="pending"),p(),u("ngIf",e.status==="completed"||e.status==="cancelled")}}function af(o,t){if(o&1){let e=k();d(0,"button",169),x("click",function(){O(e);let i=C(2);return P(i.goToTop())}),b(1,"i",170),l()}}function sf(o,t){if(o&1){let e=k();d(0,"div")(1,"div",107)(2,"mat-checkbox",108),G("ngModelChange",function(i){O(e);let r=C();return W(r.selectAll,i)||(r.selectAll=i),P(i)}),x("change",function(){O(e);let i=C();return P(i.toggleAllCheckboxes())}),f(3),I(4,"translate"),l(),d(5,"span",5),M(6,Lu,2,3,"button",109)(7,Bu,2,4,"button",110),l()(),M(8,zu,7,6,"div",111)(9,rf,46,38,"ng-container",112)(10,af,2,0,"button",113),l()}if(o&2){let e=C();p(2),q("ngModel",e.selectAll),p(),E(D(4,7,"orders.all")),p(3),u("ngIf",!e.selectAll),p(),u("ngIf",e.selectAll),p(),u("ngIf",e.orders.length===0),p(),u("ngForOf",e.orders),p(),u("ngIf",e.showGoTop)}}function cf(o,t){o&1&&(d(0,"div",171),b(1,"span",172),d(2,"span",173),f(3),I(4,"translate"),l()()),o&2&&(p(3),E(D(4,1,"orders.loading_more")))}var Bi=class o{constructor(t,e,n,i,r,a,s,c,g){this.authService=t;this.orderService=e;this.employeeService=n;this.dialog=i;this.toast=r;this.router=a;this.translate=s;this.cdr=c;this.orderListStateService=g;this.searchSubscription=this.searchSubject.pipe(To(2500),ko()).subscribe(m=>{this.searchText=m,this.currentPage=0,this.hasMore=!0,this.showGoTop=!1,this.fetchOrders(!1)})}orders=[];employees=[];selectAll=!1;loading=!1;error=null;processingOrders=new Set;statusOptions=[];selectedStatus="";searchText="";dateRange={start:null,end:null};today=new Date;quickSaleFormData={paid:!0,orderClosed:!0};dateFilterOptions=[];selectedDateFilter="today";customStartDate="";customEndDate="";currentPage=0;pageSize=10;totalOrders=0;selected="order";infiniteScrollSentinel;ordersContainer;ordersList;infiniteObserver;infiniteLoading=!1;hasMore=!0;showGoTop=!1;onWindowScroll=()=>{let e=window.innerHeight+document.documentElement.scrollTop;document.documentElement.scrollHeight-e<=300&&(console.debug("[OrdersList] Window near bottom, attempting next page"),this.loadNextPage()),this.showGoTop=(window.scrollY||document.documentElement.scrollTop)>400};searchSubject=new wo;searchSubscription=new Fa;ngOnInit(){console.log("Orders list component initialized"),this.restoreState(),this.updateDateRangeFromFilter(),this.fetchOrders(),this.fetchEmployees(),this.loadTranslations(),this.ensureDefaultStatusSelection(),this.translate.onLangChange.subscribe(()=>{this.loadTranslations(),this.ensureDefaultStatusSelection(),this.cdr.detectChanges()})}restoreState(){let t=this.orderListStateService.getCurrentState();console.log("Restoring order list state:",t),this.searchText=t.searchText,this.selectedStatus=t.selectedStatus||"",this.selectedDateFilter=t.selectedDateFilter,this.customStartDate=t.customStartDate,this.customEndDate=t.customEndDate,this.dateRange=t.dateRange,this.selected=t.selected,this.currentPage=t.currentPage,t.focusedOrderId&&(console.log("Focused order ID found:",t.focusedOrderId),this.orderListStateService.setFocusedOrder(t.focusedOrderId))}loadTranslations(){this.statusOptions=[{label:this.translate.instant("orders.status_all"),value:""},{label:this.translate.instant("orders.status_pending"),value:"pending"},{label:this.translate.instant("orders.status_accepted"),value:"accepted"},{label:this.translate.instant("orders.status_delivered"),value:"delivered"},{label:this.translate.instant("orders.status_completed"),value:"completed"},{label:this.translate.instant("orders.status_cancelled"),value:"cancelled"}],this.dateFilterOptions=[{label:this.translate.instant("orders.date_today"),value:"today"},{label:this.translate.instant("orders.date_this_week"),value:"thisWeek"},{label:this.translate.instant("orders.date_last_week"),value:"lastWeek"},{label:this.translate.instant("orders.date_this_month"),value:"thisMonth"},{label:this.translate.instant("orders.date_custom"),value:"custom"}]}ensureDefaultStatusSelection(){(!this.selectedStatus||!this.statusOptions.some(t=>t.value===this.selectedStatus))&&(this.selectedStatus="",console.log('Defaulting to "All" status selection'))}ngAfterViewInit(){"IntersectionObserver"in window&&(this.infiniteObserver=new IntersectionObserver(t=>{t[0].isIntersecting&&(console.debug("[OrdersList] Sentinel intersecting, loading next page"),this.loadNextPage())},{root:this.ordersList?this.ordersList.nativeElement:null,rootMargin:"200px",threshold:0}),this.observeSentinel()),window.addEventListener("scroll",this.onWindowScroll,{passive:!0})}observeSentinel(){this.infiniteObserver&&this.infiniteScrollSentinel?.nativeElement&&(this.infiniteObserver.disconnect(),this.infiniteObserver.observe(this.infiniteScrollSentinel.nativeElement),console.debug("[OrdersList] Observing sentinel"))}fetchOrders(t=!1){if(this.loading||this.infiniteLoading||t&&!this.hasMore)return;t?this.infiniteLoading=!0:this.loading=!0,this.error=null;let e=this.authService.getSelectedProviderId(),n,i;this.dateRange.start&&(n=this.selected==="delivery"?this.formatDate(this.dateRange.start):this.formatDateTime(this.dateRange.start)),this.dateRange.end&&(i=this.selected==="delivery"?this.formatDate(this.dateRange.end):this.formatDateTime(this.dateRange.end));let r=this.selectedStatus===""?"":this.selectedStatus||void 0;console.log("Fetching orders with params:",{providerId:e,search:this.searchText,fromDate:n,toDate:i,status:r,skip:this.currentPage*this.pageSize,limit:this.pageSize}),this.orderService.getOrdersByProvider(e,this.searchText||void 0,n,i,void 0,r,this.currentPage*this.pageSize,this.pageSize,this.selected==="delivery"?"delivery":"created").subscribe({next:a=>{let c=(a&&a.orders?a.orders:Array.isArray(a)?a:[]).map(m=>J(H({},m),{selected:!1,expanded:!1}));this.totalOrders=a?.total,t?this.orders=[...this.orders,...c]:this.orders=c,a&&typeof a.total=="number"?this.totalOrders=a.total:this.totalOrders=t?this.orders.length:c.length,console.log("ORDERS-->",this.orders);let g=c.length;this.hasMore=g>=this.pageSize&&this.orders.length<this.totalOrders,!t&&c.length===0&&(this.hasMore=!1),this.loading=!1,this.infiniteLoading=!1,!this.hasMore&&this.orders.length>0&&(this.showGoTop=!0),this.observeSentinel(),this.scrollToFocusedOrder()},error:a=>{console.error("Error fetching orders:",a),this.error="Failed to load orders.",this.loading=!1,this.infiniteLoading=!1,this.toast.error("Error","Failed to load orders. Please try again.")}})}formatDate(t){console.log("DATE-->",t);let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${i}`}formatDateTime(t){let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),s=String(t.getSeconds()).padStart(2,"0");return`${e}-${n}-${i} ${r}:${a}:${s}`}fetchEmployees(){let t=this.authService.getSelectedProviderId();this.employeeService.getEmployeesForProvider(t).subscribe({next:e=>{this.employees=e.employee||[],console.log("Employees loaded:",this.employees)},error:e=>{console.error("Failed to load employees:",e),this.toast.error("Error","Failed to load employees.")}})}toggleAllCheckboxes(){this.orders.forEach(t=>t.selected=this.selectAll)}openOrderDetails(t){console.log("Opening order details for:",t);let e={searchText:this.searchText,selectedStatus:this.selectedStatus,selectedDateFilter:this.selectedDateFilter,customStartDate:this.customStartDate,customEndDate:this.customEndDate,dateRange:this.dateRange,selected:this.selected,currentPage:this.currentPage,focusedOrderId:t.id};console.log("Saving order list state before navigation:",e),this.orderListStateService.saveStateBeforeNavigation(e),this.router.navigate(["/providers/orders",t.id],{state:{order:t}})}goToSales(){this.router.navigate(["providers","add-sales"])}openAssignOrderDialog(t){this.dialog.open(Ni,{width:"400px",data:{order:t,employees:this.employees}}).afterClosed().subscribe(n=>{n&&this.assignOrderToEmployee(t,n.employeeId)})}openConfirmAmountDialog(t){this.dialog.open(Wt,{width:"400px",data:{order:t,amount:t.amount}}).afterClosed().subscribe(n=>{console.log("OPEN-->",n),n&&this.confirmOrderAmount(t,n.amount)})}onStatusChange(t){this.currentPage=0,this.hasMore=!0,this.showGoTop=!1,this.fetchOrders(!1)}onSearchChange(){this.searchSubject.next(this.searchText)}clearSearch(){this.searchText&&(this.searchText="",this.currentPage=0,this.hasMore=!0,this.showGoTop=!1,this.fetchOrders(!1))}onDateRangeChange(){this.currentPage=0,this.hasMore=!0,this.showGoTop=!1,this.fetchOrders(!1)}onDateFilterChange(){this.currentPage=0,this.updateDateRangeFromFilter(),this.selectedDateFilter==="custom"&&this.setDefaultCustomDates(),this.hasMore=!0,this.showGoTop=!1,this.fetchOrders(!1)}setSelected(t){this.selected!==t&&(this.selected=t,this.currentPage=0,this.hasMore=!0,this.showGoTop=!1,this.updateDateRangeFromFilter(),this.fetchOrders(!1))}updateDateRangeFromFilter(){let t=new Date;switch(t.setHours(0,0,0,0),this.selectedDateFilter){case"today":this.dateRange={start:t,end:new Date(t.getTime()+24*60*60*1e3-1)};break;case"thisWeek":let e=new Date(t);e.setDate(t.getDate()-t.getDay());let n=new Date(e);n.setDate(e.getDate()+6),n.setHours(23,59,59,999),this.dateRange={start:e,end:n};break;case"lastWeek":let i=new Date(t);i.setDate(t.getDate()-t.getDay()-7);let r=new Date(i);r.setDate(i.getDate()+6),r.setHours(23,59,59,999),this.dateRange={start:i,end:r};break;case"thisMonth":let a=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(t.getFullYear(),t.getMonth()+1,0);s.setHours(23,59,59,999),this.dateRange={start:a,end:s};break;case"custom":break;default:this.dateRange={start:t,end:new Date(t.getTime()+24*60*60*1e3-1)};break}}setDefaultCustomDates(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth()-1,t.getDate());this.customStartDate=e.toISOString().split("T")[0],this.customEndDate=t.toISOString().split("T")[0],this.dateRange={start:new Date(this.customStartDate),end:new Date(this.customEndDate+"T23:59:59.999")}}clearDateFilter(){this.selectedDateFilter="today",this.customStartDate="",this.customEndDate="",this.currentPage=0,this.showGoTop=!1,this.updateDateRangeFromFilter(),this.fetchOrders()}getDateFilterDisplayText(){if(this.selectedDateFilter==="custom"&&this.dateRange.start&&this.dateRange.end){let e=this.dateRange.start.toLocaleDateString(),n=this.dateRange.end.toLocaleDateString();return`${e} - ${n}`}let t=this.dateFilterOptions.find(e=>e.value===this.selectedDateFilter);return t?t.label:this.translate.instant("orders.date_today")}getOrderProductsDisplay(t){return!t.products_info||t.products_info.length===0?this.translate.instant("orders.no_products"):t.products_info.length===1?t.products_info[0].product_name:`${t.products_info[0].product_name} +${t.products_info.length-1} more`}onCustomDateChange(){if(this.customStartDate&&this.customEndDate){if(new Date(this.customEndDate)<new Date(this.customStartDate)){this.toast.warn("Warning","End date cannot be before start date.");return}this.dateRange={start:new Date(this.customStartDate),end:new Date(this.customEndDate+"T23:59:59.999")},this.currentPage=0,this.fetchOrders()}}clearCustomDate(){this.customStartDate="",this.customEndDate="",this.dateRange={start:null,end:null},this.selectedDateFilter="today",this.currentPage=0,this.fetchOrders()}applyCustomDate(){this.customStartDate&&this.customEndDate&&this.onCustomDateChange()}filterOrders(){return this.orders}quickAssignEmployee(t){console.log("Quick assign employee:",t);let e=this.orders.filter(n=>n.selected);if(e.length===0){this.toast.warn("Warning","Please select orders to assign.");return}e.forEach(n=>{this.assignOrderToEmployee(n,t.employee_id)})}assignOrderToEmployee(t,e){console.log("ORDER-->",t);let n={amount:t.amount,slot_id:t.slot_id,delivery_date:new Date(t.created_at).toISOString().split("T")[0],address:t.address,assigned_to:e,updated_by:this.authService.getUserId()};this.orderService.assignOrder(t.id,n).subscribe({next:i=>{console.log("Order assigned successfully:",i),this.toast.success("Success","Order assigned successfully."),this.fetchOrders()},error:i=>{console.error("Error assigning order:",i),this.toast.error("Error","Failed to assign order. Please try again.")}})}acceptOrder(t){this.processingOrders.has(t.id)||(console.log("Accepting order:",t),this.processingOrders.add(t.id),this.orderService.updateOrderStatus(t.id,"accepted").subscribe({next:e=>{console.log("Order accepted successfully:",e),this.toast.success("Success","Order accepted successfully."),this.fetchOrders(),this.processingOrders.delete(t.id)},error:e=>{console.error("Error accepting order:",e),this.toast.error("Error","Failed to accept order. Please try again."),this.processingOrders.delete(t.id)}}))}rejectOrder(t){this.processingOrders.has(t.id)||(console.log("Rejecting order:",t),this.processingOrders.add(t.id),this.orderService.updateOrderStatus(t.id,"cancelled").subscribe({next:e=>{console.log("Order rejected successfully:",e),this.toast.success("Success","Order rejected successfully."),this.fetchOrders(),this.processingOrders.delete(t.id)},error:e=>{console.error("Error rejecting order:",e),this.toast.error("Error","Failed to reject order. Please try again."),this.processingOrders.delete(t.id)}}))}acceptAllOrders(){let t=this.orders.filter(i=>this.isOrderActionable(i)&&(this.selectAll||i.selected));if(t.length===0){this.toast.warn("Warning","No eligible orders to accept.");return}this.loading=!0;let e=0,n=()=>{let i=t.shift();if(!i){this.loading=!1,this.toast.success("Success",`Accepted ${e} orders.`),this.fetchOrders(!1);return}this.orderService.updateOrderStatus(i.id,"accepted").subscribe({next:()=>{e+=1,n()},error:()=>{n()}})};n()}showDirection(t){console.log("Showing direction for order:",t),this.openInMap(t.address.latlong)}openInMap(t){window.ReactNativeWebView?window.ReactNativeWebView.postMessage(JSON.stringify({type:"ACTION",data:{action:"open_map",value:t}})):window.open(`https://www.google.com/maps?q=${t}`,"_blank")}markDelivered(t){console.log("Marking order as delivered:",t),this.orderService.updateOrderStatus(t.id,"delivered").subscribe({next:e=>{console.log("Order marked as delivered:",e),this.toast.success("Success","Order marked as delivered."),this.fetchOrders()},error:e=>{console.error("Error marking order as delivered:",e),this.toast.error("Error","Failed to mark order as delivered. Please try again.")}})}completeOrder(t){console.log("Completing order:",t),console.log(t.amount),t.payment_status==="paid"?this.updateOrderStatus(t.id,"completed",t):t?.amount>0?(console.log("IF"),this.openSimplePaymentDialog(t)):(console.log("ELSE"),this.openPaymentConfirmationDialog(t))}openSimplePaymentDialog(t){this.dialog.open(Wt,{width:"400px",data:{order:t,title:"Payment Confirmation",message:"Amount paid?",showAmountInput:!1,currentAmount:t.amount,showAmount:!0}}).afterClosed().subscribe(n=>{n!==void 0&&(n.confirmed?this.updateOrderWithPayment(t,t.amount,!0,"completed"):this.updateOrderWithPayment(t,t.amount,!1,"completed"))})}openPaymentConfirmationDialog(t){this.dialog.open(Wt,{width:"400px",data:{order:t,title:"Payment Confirmation",message:"Amount paid?",showAmountInput:!0,currentAmount:0,showAmount:!1}}).afterClosed().subscribe(n=>{n!==void 0&&(n.confirmed?this.updateOrderWithPayment(t,n.amount,!0,"completed"):this.updateOrderWithPayment(t,n.amount||0,!1,"completed"))})}updateOrderWithPayment(t,e,n,i){let r=J(H({},t),{amount:e,payment_status:n?"paid":"unpaid",status:i});console.log("ORderDetail:-->",t),console.log(r),this.orderService.updateOrder(t.id,r).subscribe({next:a=>{console.log("Order updated successfully:",a);let s=n?"paid":"unpaid";this.toast.success("Success",`Order marked as ${s} and completed.`),this.fetchOrders()},error:a=>{console.error("Error updating order:",a),this.toast.error("Error","Failed to update order. Please try again.")}})}updateOrderStatus(t,e,n){console.log("\u{1F504} updateOrderStatus called with:",{orderId:t,status:e,orderData:n});let i={amount:n?.amount||0,payment_status:n?.payment_status||"pending"};console.log("\u{1F4E4} Sending to API:",i),this.orderService.updateOrderStatus(t,e).subscribe({next:r=>{console.log("\u2705 Order status updated successfully:",r),this.toast.success("Success","Order marked as complete."),this.fetchOrders()},error:r=>{console.error("\u274C Error updating order status:",r),console.error("Error details:",r.error),this.toast.error("Error","Failed to complete order. Please try again.")}})}markReady(t){console.log("Marking order as ready:",t),this.updateOrderStatus(t.id,"ready",t)}markDelivery(t){console.log("Marking order for delivery:",t),this.updateOrderStatus(t.id,"delivered",t)}closeOrder(t){console.log("Closing order:",t),this.updateOrderStatus(t.id,"completed",t)}isButtonDisabled(t,e){return(()=>{switch(e){case"ready":return t.status==="ready"||t.status==="delivered"||t.status==="completed"||t.status==="cancelled";case"delivery":return t.status==="delivered"||t.status==="completed"||t.status==="cancelled";case"complete":return t.status==="completed"||t.status==="cancelled";default:return!1}})()}confirmOrderAmount(t,e){console.log("Confirming order amount:",t,e),this.processingOrders.add(t.id);let n={amount:e,slot_id:t.slot_id,delivery_date:new Date(t.created_at).toISOString().split("T")[0],address:t.address,assigned_to:t?.assigned_to_info?.employee_id,updated_by:this.authService.getUserId()};this.orderService.assignOrder(t.id,n).subscribe({next:i=>{console.log("Order assigned successfully:",i),this.toast.success("Success","Order assigned successfully."),this.fetchOrders()},error:i=>{console.error("Error assigning order:",i),this.toast.error("Error","Failed to assign order. Please try again.")}})}onPageChange(t){this.currentPage=t,this.fetchOrders(!1)}getTotalPages(){return Math.ceil(this.totalOrders/this.pageSize)}isActionDisabled(t){return t.status!=="pending"&&t.status!=="received"}isOrderActionable(t){return t.status==="pending"||t.status==="received"}Math=Math;ngOnDestroy(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.infiniteObserver&&this.infiniteObserver.disconnect(),window.removeEventListener("scroll",this.onWindowScroll)}loadNextPage(){this.loading||this.infiniteLoading||!this.hasMore||(this.currentPage+=1,this.fetchOrders(!0))}goToTop(){if(this.ordersList&&this.ordersList.nativeElement){this.ordersList.nativeElement.scrollTo({top:0,behavior:"smooth"});return}this.ordersContainer&&this.ordersContainer.nativeElement&&this.ordersContainer.nativeElement.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})}onListScroll(){if(!this.ordersList?.nativeElement)return;let t=this.ordersList.nativeElement;t.scrollHeight-(t.scrollTop+t.clientHeight)<=200&&this.loadNextPage(),this.showGoTop=t.scrollTop>400}scrollToFocusedOrder(){let t=this.orderListStateService.getCurrentState().focusedOrderId;if(!t){console.log("No focused order ID found, skipping scroll");return}console.log("Attempting to scroll to focused order:",t),setTimeout(()=>{let e=document.querySelector(`[data-order-id="${t}"]`);e?(console.log("Found order element, scrolling to it"),e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),e.classList.add("focused-order"),setTimeout(()=>{e.classList.remove("focused-order")},2e3),this.orderListStateService.clearFocusedOrder()):console.log("Order element not found for ID:",t)},100)}static \u0275fac=function(e){return new(e||o)(y(B),y(Yt),y(ln),y(Ct),y(ee),y(rt),y(ns),y(Ro),y(Li))};static \u0275cmp=N({type:o,selectors:[["orders-list"]],viewQuery:function(e,n){if(e&1&&(ft(_u,5),ft(bu,5),ft(Cu,5)),e&2){let i;ht(i=_t())&&(n.infiniteScrollSentinel=i.first),ht(i=_t())&&(n.ordersContainer=i.first),ht(i=_t())&&(n.ordersList=i.first)}},decls:79,vars:43,consts:[["ordersContainer",""],["ordersList",""],["infiniteScrollSentinel",""],["quickSaleForm","ngForm"],[1,"orders-container"],[1,"top-controls"],[1,"top-controls-row"],[1,"toggle-wrapper"],["pButton","",3,"click","ngClass","label"],[1,"date-filter-container"],["class","date-filter-row",4,"ngIf"],["class","date-filter-skeleton",4,"ngIf"],["class","custom-date-section",4,"ngIf"],["class","custom-date-skeleton",4,"ngIf"],["class","quick-assign",4,"ngIf"],["class","quick-assign skeleton",4,"ngIf"],["class","filter-section",4,"ngIf"],["class","filter-section skeleton",4,"ngIf"],[1,"orders-list",3,"scroll"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],["class","infinite-scroll-loader","aria-live","polite","role","status",4,"ngIf"],["aria-hidden","true",1,"infinite-scroll-sentinel"],[1,"quick-sale-panel",2,"display","none"],[1,"panel-title"],[1,"quick-sale-form"],[1,"form-field"],[1,"field-label"],[1,"input-container"],["type","text","name","customerName","ngModel","","placeholder","searched if not can be entered",1,"form-input"],[1,"pi","pi-search","search-icon"],["type","text","name","mobileNumber","ngModel","","placeholder","Auto Populated",1,"form-input"],["type","text","name","productName","ngModel","","placeholder","searched if not can be entered",1,"form-input"],["type","number","name","price","ngModel","","placeholder","Auto populated can be edited",1,"form-input"],["type","hidden","name","paid","ngModel","",3,"ngModelChange","ngModel"],["type","hidden","name","orderClosed","ngModel","",3,"ngModelChange","ngModel"],[1,"toggle-switch"],["type","radio","name","paid",3,"ngModelChange","ngModel","value"],["type","radio","name","orderClosed",3,"ngModelChange","ngModel","value"],[1,"form-actions"],["type","submit",1,"add-button",3,"disabled"],[1,"date-filter-row"],["optionLabel","label","optionValue","value",1,"date-filter-dropdown","custom-dropdown",3,"ngModelChange","onChange","options","ngModel","placeholder","appendTo"],[1,"date-filter-skeleton"],[1,"skeleton-dropdown"],[1,"custom-date-section"],[1,"date-range-header"],[1,"date-range-title"],[1,"pi","pi-calendar"],["class","clear-date-btn",3,"click",4,"ngIf"],[1,"modern-date-picker"],[1,"date-input-group"],[1,"date-input-wrapper"],[1,"date-label"],[1,"date-input-container"],[1,"pi","pi-calendar","date-icon"],["type","date",1,"modern-date-input",3,"ngModelChange","change","ngModel"],[1,"clear-date-btn",3,"click"],[1,"pi","pi-times"],[1,"custom-date-skeleton"],[1,"skeleton-date-range"],[1,"quick-assign"],[1,"title"],[1,"chips-scroll-wrapper"],[1,"chips"],[3,"selected","click","wheel","touchstart","touchmove",4,"ngFor","ngForOf"],[3,"click","wheel","touchstart","touchmove","selected"],[1,"quick-assign","skeleton"],["class","skeleton-chip",4,"ngFor","ngForOf"],[1,"skeleton-chip"],[1,"filter-section"],[1,"filter-row"],[1,"filter-item"],[1,"filter-label"],[1,"search-input-container"],["type","text",1,"search-input",3,"ngModelChange","ngModel","placeholder"],["type","button","class","search-clear-btn",3,"title","click",4,"ngIf"],["class","search-loading",4,"ngIf"],["optionLabel","label","optionValue","value",1,"status-dropdown","custom-dropdown",3,"ngModelChange","onChange","options","ngModel","placeholder","showClear","filter"],["type","button",1,"search-clear-btn",3,"click","title"],[1,"search-loading"],[1,"search-spinner"],[1,"filter-section","skeleton"],[1,"skeleton-label"],[1,"skeleton-input"],[1,"loading-state"],[1,"skeleton-loader"],[1,"skeleton-select-all"],[1,"skeleton-checkbox"],[1,"skeleton-date"],["class","skeleton-order-card",4,"ngFor","ngForOf"],[1,"skeleton-order-card"],[1,"skeleton-order-content"],[1,"skeleton-order-info"],[1,"skeleton-order-title"],[1,"skeleton-checkbox-small"],[1,"skeleton-order-id"],[1,"skeleton-order-desc"],[1,"skeleton-text"],[1,"skeleton-order-status"],[1,"skeleton-status-row"],[1,"skeleton-order-footer"],[1,"skeleton-button"],[1,"error-state"],[1,"error-message"],[1,"retry-button",3,"click"],[1,"select-all"],[3,"ngModelChange","change","ngModel"],["pButton","","type","button","class","new-order p-button-primary",3,"label","click",4,"ngIf"],["pButton","","type","button","class","accept-all p-button-outlined",3,"label","disabled","click",4,"ngIf"],["class","empty-state",4,"ngIf"],[4,"ngFor","ngForOf"],["class","go-top-btn","aria-label","Go to top",3,"click",4,"ngIf"],["pButton","","type","button",1,"new-order","p-button-primary",3,"click","label"],["pButton","","type","button",1,"accept-all","p-button-outlined",3,"click","label","disabled"],[1,"empty-state"],[1,"empty-subtitle"],[1,"order-card",3,"click"],[1,"order-header"],[1,"order-title"],[3,"ngModelChange","click","ngModel"],[1,"order-id"],[1,"order-status-badge"],[1,"order-content"],[1,"order-info"],[1,"customer-section"],[1,"customer-info"],[1,"customer-name"],[1,"order-items"],[1,"summary-item","flex"],[1,"summary-label"],[1,"summary-item"],[1,"summary-value",3,"title"],[1,"secondary-actions"],["class","btn btn-direction","title","Direction",3,"click",4,"ngIf"],["class","btn btn-assign","title","Assign",3,"disabled","click",4,"ngIf"],["class","assigned-person-name",4,"ngIf"],[1,"order-footer"],[1,"action-buttons"],["class","btn btn-accept",3,"disabled","click",4,"ngIf"],["class","btn btn-reject",3,"disabled","click",4,"ngIf"],["class","btn btn-complete","title","Complete",3,"btn-disabled","background","color","opacity","cursor","disabled","click",4,"ngIf"],["class","btn btn-ready","title","Ready",3,"btn-disabled","background","color","opacity","cursor","disabled","click",4,"ngIf"],["class","btn btn-delivery","title","Delivery",3,"btn-disabled","background","color","opacity","cursor","disabled","click",4,"ngIf"],["class","status-badge",3,"class",4,"ngIf"],["title","Direction",1,"btn","btn-direction",3,"click"],[1,"btn-content"],[1,"pi","pi-map-marker"],["title","Assign",1,"btn","btn-assign",3,"click","disabled"],[1,"pi","pi-user-plus"],[1,"assigned-person-name"],[1,"pi","pi-user"],[1,"btn","btn-accept",3,"click","disabled"],["class","pi pi-check",4,"ngIf"],["class","pi pi-spin pi-spinner",4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"pi","pi-check"],[1,"pi","pi-spin","pi-spinner"],[1,"loading-text"],[1,"btn","btn-reject",3,"click","disabled"],["class","pi pi-times",4,"ngIf"],["title","Complete",1,"btn","btn-complete",3,"click","disabled"],[1,"pi","pi-check-circle"],["title","Ready",1,"btn","btn-ready",3,"click","disabled"],[1,"pi","pi-clock"],["title","Delivery",1,"btn","btn-delivery",3,"click","disabled"],[1,"pi","pi-truck"],[1,"status-badge"],["aria-label","Go to top",1,"go-top-btn",3,"click"],[1,"pi","pi-arrow-up"],["aria-live","polite","role","status",1,"infinite-scroll-loader"],["aria-hidden","true",1,"spinner"],[1,"loader-text"]],template:function(e,n){if(e&1){let i=k();d(0,"div",4,0)(2,"div",5)(3,"div",6)(4,"div",7)(5,"button",8),I(6,"translate"),x("click",function(){return O(i),P(n.setSelected("order"))}),l(),d(7,"button",8),I(8,"translate"),x("click",function(){return O(i),P(n.setSelected("delivery"))}),l()(),d(9,"div",9),M(10,Pu,3,6,"div",10)(11,Mu,2,0,"div",11),l()(),M(12,yu,24,16,"div",12)(13,Su,2,0,"div",13),l(),M(14,Tu,8,4,"div",14)(15,Eu,7,5,"div",15)(16,Fu,17,21,"div",16)(17,Au,8,0,"div",17),d(18,"div",18,1),x("scroll",function(){return O(i),P(n.onListScroll())}),M(20,Ru,6,2,"div",19)(21,Nu,5,1,"div",20)(22,sf,11,9,"div",21),l(),M(23,cf,5,3,"div",22),b(24,"div",23,2),d(26,"div",24)(27,"div",25),f(28,"Add Quick Sales"),l(),d(29,"form",26,3)(31,"div",27)(32,"label",28),f(33,"Customer Name"),l(),d(34,"div",29),b(35,"input",30)(36,"i",31),l()(),d(37,"div",27)(38,"label",28),f(39,"Mobile Number"),l(),d(40,"div",29),b(41,"input",32)(42,"i",31),l()(),d(43,"div",27)(44,"label",28),f(45,"Product Name"),l(),d(46,"div",29),b(47,"input",33)(48,"i",31),l()(),d(49,"div",27)(50,"label",28),f(51,"Price"),l(),d(52,"div",29),b(53,"input",34),l()(),d(54,"input",35),G("ngModelChange",function(a){return O(i),W(n.quickSaleFormData.paid,a)||(n.quickSaleFormData.paid=a),P(a)}),l(),d(55,"input",36),G("ngModelChange",function(a){return O(i),W(n.quickSaleFormData.orderClosed,a)||(n.quickSaleFormData.orderClosed=a),P(a)}),l(),d(56,"div",27)(57,"label",28),f(58,"Paid"),l(),d(59,"div",37)(60,"label")(61,"input",38),G("ngModelChange",function(a){return O(i),W(n.quickSaleFormData.paid,a)||(n.quickSaleFormData.paid=a),P(a)}),l(),f(62," Yes "),l(),d(63,"label")(64,"input",38),G("ngModelChange",function(a){return O(i),W(n.quickSaleFormData.paid,a)||(n.quickSaleFormData.paid=a),P(a)}),l(),f(65," No "),l()()(),d(66,"div",27)(67,"label",28),f(68,"Order Closed"),l(),d(69,"div",37)(70,"label")(71,"input",39),G("ngModelChange",function(a){return O(i),W(n.quickSaleFormData.orderClosed,a)||(n.quickSaleFormData.orderClosed=a),P(a)}),l(),f(72," Yes "),l(),d(73,"label")(74,"input",39),G("ngModelChange",function(a){return O(i),W(n.quickSaleFormData.orderClosed,a)||(n.quickSaleFormData.orderClosed=a),P(a)}),l(),f(75," No "),l()()(),d(76,"div",40)(77,"button",41),f(78," Add "),l()()()()()}if(e&2){let i=le(30);p(5),Ze("label",D(6,35,"orders.by_order")),u("ngClass",wt(39,ld,n.selected==="order")),p(2),Ze("label",D(8,37,"orders.by_delivery")),u("ngClass",wt(41,ld,n.selected==="delivery")),p(3),u("ngIf",!n.loading),p(),u("ngIf",n.loading),p(),u("ngIf",n.selectedDateFilter==="custom"&&!n.loading),p(),u("ngIf",n.selectedDateFilter==="custom"&&n.loading),p(),u("ngIf",!n.loading),p(),u("ngIf",n.loading),p(),u("ngIf",!n.loading),p(),u("ngIf",n.loading),p(3),u("ngIf",n.loading),p(),u("ngIf",n.error&&!n.loading),p(),u("ngIf",!n.loading&&!n.error),p(),u("ngIf",n.infiniteLoading),p(31),q("ngModel",n.quickSaleFormData.paid),p(),q("ngModel",n.quickSaleFormData.orderClosed),p(5),pe("active",n.quickSaleFormData.paid===!0),p(),q("ngModel",n.quickSaleFormData.paid),u("value",!0),p(2),pe("active",n.quickSaleFormData.paid===!1),p(),q("ngModel",n.quickSaleFormData.paid),u("value",!1),p(6),pe("active",n.quickSaleFormData.orderClosed===!0),p(),q("ngModel",n.quickSaleFormData.orderClosed),u("value",!0),p(2),pe("active",n.quickSaleFormData.orderClosed===!1),p(),q("ngModel",n.quickSaleFormData.orderClosed),u("value",!1),p(3),u("disabled",!i.valid)}},dependencies:[$e,oe,K,ws,Ts,$o,Ke,ve,ne,at,wn,Q,be,Re,as,Lo,bt],styles:['.orders-container[_ngcontent-%COMP%]{background:#f5f5f5;min-height:100vh;padding:10px 10px 120px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.top-controls[_ngcontent-%COMP%]{margin-bottom:10px}.top-controls[_ngcontent-%COMP%]   .top-controls-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:16px;align-items:center;flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch}.top-controls[_ngcontent-%COMP%]   .custom-date-section[_ngcontent-%COMP%]{margin-top:16px;padding:20px;background:linear-gradient(135deg,#fff,#f8fafc);border-radius:16px;box-shadow:0 4px 20px #00000014;border:1px solid rgba(93,21,124,.1);position:relative;overflow:hidden}.top-controls[_ngcontent-%COMP%]   .custom-date-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#5d157c,#6a1fd9)}@media (max-width: 480px){.top-controls[_ngcontent-%COMP%]   .custom-date-section[_ngcontent-%COMP%]{margin-top:12px;padding:16px}}.top-controls[_ngcontent-%COMP%]   .date-range-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.top-controls[_ngcontent-%COMP%]   .date-range-header[_ngcontent-%COMP%]   .date-range-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:600;color:#1f2937}.top-controls[_ngcontent-%COMP%]   .date-range-header[_ngcontent-%COMP%]   .date-range-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#5d157c;font-size:18px}.top-controls[_ngcontent-%COMP%]   .date-range-header[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]{background:#ef44441a;border:1px solid rgba(239,68,68,.2);border-radius:8px;padding:8px;color:#dc2626;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:36px;height:36px}.top-controls[_ngcontent-%COMP%]   .date-range-header[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]:hover{background:#ef444433;transform:scale(1.05)}.top-controls[_ngcontent-%COMP%]   .date-range-header[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:16px;align-items:end;margin-bottom:20px}@media (max-width: 768px){.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#374151;margin:0;text-transform:uppercase;letter-spacing:.5px}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]{position:relative;background:#fff;border:2px solid #e5e7eb;border-radius:12px;padding:4px 16px 4px 40px;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 4px #0000000a}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]:hover{border-color:#9ca3af;box-shadow:0 4px 12px #00000014}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]:focus-within{border-color:#5d157c;box-shadow:0 0 0 4px #5d157c1a;transform:translateY(-1px)}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#9ca3af;font-size:16px;transition:color .2s ease}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]:focus-within   .date-icon[_ngcontent-%COMP%]{color:#5d157c}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]   .modern-date-input[_ngcontent-%COMP%]{border:none;background:transparent;font-size:14px;font-weight:500;color:#1f2937;padding:12px 0;width:100%;outline:none;transition:all .2s ease}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]   .modern-date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer;filter:invert(.4);padding:4px;border-radius:4px;transition:all .2s ease}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]   .modern-date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator:hover{filter:invert(.6);background:#0000000d}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]   .modern-date-input[_ngcontent-%COMP%]::-webkit-datetime-edit-text{color:#6b7280;font-weight:400}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]   .modern-date-input[_ngcontent-%COMP%]::-webkit-datetime-edit-month-field, .top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]   .modern-date-input[_ngcontent-%COMP%]::-webkit-datetime-edit-day-field, .top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]   .modern-date-input[_ngcontent-%COMP%]::-webkit-datetime-edit-year-field{color:#1f2937;font-weight:500}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input-container[_ngcontent-%COMP%]   .modern-date-input.has-value[_ngcontent-%COMP%]{color:#1f2937;font-weight:600}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-connector[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;padding:0 8px}@media (max-width: 768px){.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-connector[_ngcontent-%COMP%]{order:-1;flex-direction:row;padding:8px 0}}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-connector[_ngcontent-%COMP%]   .connector-line[_ngcontent-%COMP%]{width:2px;height:40px;background:linear-gradient(180deg,#5d157c,#6a1fd9);border-radius:1px;position:relative}@media (max-width: 768px){.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-connector[_ngcontent-%COMP%]   .connector-line[_ngcontent-%COMP%]{width:40px;height:2px}}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-connector[_ngcontent-%COMP%]   .connector-line[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:#fff;border:2px solid #5D157C;border-radius:50%}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-connector[_ngcontent-%COMP%]   .connector-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#5d157c;border-radius:50%;margin:4px 0;box-shadow:0 0 0 4px #5d157c1a}@media (max-width: 768px){.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-connector[_ngcontent-%COMP%]   .connector-dot[_ngcontent-%COMP%]{margin:0 8px}}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-connector[_ngcontent-%COMP%]   .connector-text[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#5d157c;background:#fff;padding:4px 8px;border-radius:6px;border:1px solid rgba(93,21,124,.2);white-space:nowrap;position:relative;z-index:1}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:16px}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-actions[_ngcontent-%COMP%]   .apply-date-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5d157c,#6a1fd9);color:#fff;border:none;border-radius:12px;padding:12px 24px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:8px;box-shadow:0 4px 12px #5d157c4d}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-actions[_ngcontent-%COMP%]   .apply-date-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #5d157c66}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-actions[_ngcontent-%COMP%]   .apply-date-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.top-controls[_ngcontent-%COMP%]   .modern-date-picker[_ngcontent-%COMP%]   .date-actions[_ngcontent-%COMP%]   .apply-date-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.top-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:12px;font-weight:600;font-size:14px;min-width:140px;height:44px;border:none;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 8px #00000014}.top-controls[_ngcontent-%COMP%]   button.new-order[_ngcontent-%COMP%]{background:#5d157c;color:#fff}.top-controls[_ngcontent-%COMP%]   button.new-order[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#4a0f63,#6a1fd9);transform:translateY(-1px);box-shadow:0 4px 12px #5d157c4d}.top-controls[_ngcontent-%COMP%]   button.accept-all[_ngcontent-%COMP%]{background:#fff;color:#5d157c;border:2px solid #5D157C}.top-controls[_ngcontent-%COMP%]   button.accept-all[_ngcontent-%COMP%]:hover{background:#f5e8ff;transform:translateY(-1px)}.top-controls[_ngcontent-%COMP%]   .date-filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:150px;flex:0 0 auto;margin-left:auto;border:2px solid #5D157C;border-radius:8px;position:relative;z-index:3}.top-controls[_ngcontent-%COMP%]   .date-filter-container[_ngcontent-%COMP%]   .date-filter-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.top-controls[_ngcontent-%COMP%]   .date-filter-container[_ngcontent-%COMP%]   .date-filter-row[_ngcontent-%COMP%]   .date-filter-dropdown[_ngcontent-%COMP%]{flex:1}.top-controls[_ngcontent-%COMP%]   .date-filter-container[_ngcontent-%COMP%]   .date-filter-row[_ngcontent-%COMP%]   .date-filter-dropdown[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]{width:100%;border-color:#5d157c;border-width:2px;border-radius:8px;height:44px;display:flex;align-items:center}.top-controls[_ngcontent-%COMP%]   .date-filter-container[_ngcontent-%COMP%]   .date-filter-row[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:24px;height:24px;flex-shrink:0}.top-controls[_ngcontent-%COMP%]   .date-filter-container[_ngcontent-%COMP%]   .date-filter-row[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.top-controls[_ngcontent-%COMP%]   .date-filter-container[_ngcontent-%COMP%]   .date-filter-row[_ngcontent-%COMP%]   .clear-date-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.top-controls[_ngcontent-%COMP%]   .date-filter-container[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]{background:#f0f9ff;border:1px solid #0ea5e9;border-radius:6px;padding:6px 10px;margin-top:4px}.top-controls[_ngcontent-%COMP%]   .date-filter-container[_ngcontent-%COMP%]   .active-filter-indicator[_ngcontent-%COMP%]   .indicator-text[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#0369a1}.top-controls[_ngcontent-%COMP%]   .custom-date-skeleton[_ngcontent-%COMP%]{margin-top:16px;padding:20px;background:linear-gradient(135deg,#fff,#f8fafc);border-radius:16px;box-shadow:0 4px 20px #00000014;border:1px solid rgba(93,21,124,.1);position:relative;overflow:hidden}.top-controls[_ngcontent-%COMP%]   .custom-date-skeleton[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#5d157c,#6a1fd9)}.top-controls[_ngcontent-%COMP%]   .custom-date-skeleton[_ngcontent-%COMP%]   .skeleton-date-range[_ngcontent-%COMP%]{height:120px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:12px;position:relative}.top-controls[_ngcontent-%COMP%]   .custom-date-skeleton[_ngcontent-%COMP%]   .skeleton-date-range[_ngcontent-%COMP%]:before{content:"";position:absolute;top:20px;left:20px;right:20px;height:20px;background:linear-gradient(90deg,#e0e0e0 25%,#d0d0d0,#e0e0e0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:4px}.top-controls[_ngcontent-%COMP%]   .custom-date-skeleton[_ngcontent-%COMP%]   .skeleton-date-range[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:20px;left:20px;right:20px;height:40px;background:linear-gradient(90deg,#e0e0e0 25%,#d0d0d0,#e0e0e0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:8px}[_nghost-%COMP%]     .p-dropdown-panel{border:2px solid #5D157C;border-radius:10px;box-shadow:0 8px 24px #0000001f;overflow:hidden}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-header{padding:8px 10px;border-bottom:1px solid rgba(0,0,0,.06)}[_nghost-%COMP%]     .p-dropdown-items{padding:6px;max-height:280px;overflow-y:auto}[_nghost-%COMP%]     .p-dropdown-items .p-dropdown-item{padding:10px 12px;margin:2px 0;border-radius:6px;font-size:14px;line-height:1.2;display:flex;align-items:center;gap:8px;color:#1f2937;cursor:pointer;transition:background .15s ease,color .15s ease}[_nghost-%COMP%]     .p-dropdown-items .p-dropdown-item:focus{outline:none;box-shadow:0 0 0 2px #5d157c40 inset}[_nghost-%COMP%]     .p-dropdown-items .p-dropdown-item:hover{background:#f5f0ff}[_nghost-%COMP%]     .p-dropdown-items .p-dropdown-item.p-highlight{background:#5d157c;color:#fff;font-weight:600}[_nghost-%COMP%]     .p-dropdown-items .p-dropdown-empty-message{padding:12px;color:#6b7280}.date-filter-skeleton[_ngcontent-%COMP%]   .skeleton-dropdown[_ngcontent-%COMP%]{height:44px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;border-radius:8px;min-width:180px}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.quick-assign[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:8px 20px;margin-bottom:10px;box-shadow:0 2px 12px #0000000d}.quick-assign[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#1f2937;margin-bottom:16px}.quick-assign[_ngcontent-%COMP%]   .chips-scroll-wrapper[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;scrollbar-width:none;overscroll-behavior:contain;-webkit-overscroll-behavior:contain;isolation:isolate;contain:layout style paint}.quick-assign[_ngcontent-%COMP%]   .chips-scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.quick-assign[_ngcontent-%COMP%]   .chips-scroll-wrapper[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{display:flex;gap:12px;min-width:max-content;padding-bottom:4px;overscroll-behavior:contain;-webkit-overscroll-behavior:contain;isolation:isolate;contain:layout style paint}.quick-assign[_ngcontent-%COMP%]   .chips-scroll-wrapper[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{border-radius:20px;padding:8px 16px;font-size:14px;font-weight:500;transition:all .2s ease;cursor:pointer;overscroll-behavior:contain;-webkit-overscroll-behavior:contain;touch-action:pan-x}.quick-assign[_ngcontent-%COMP%]   .chips-scroll-wrapper[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5d157c!important}.quick-assign[_ngcontent-%COMP%]   .chips-scroll-wrapper[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   mat-chip.mat-chip-selected[_ngcontent-%COMP%]{background:#5d157c;color:#fff;box-shadow:0 2px 8px #5d157c4d}.quick-assign[_ngcontent-%COMP%]   .chips-scroll-wrapper[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:not(.mat-chip-selected){background:#fff;color:#5d157c;border:1.5px solid #5D157C;margin-right:1rem}.quick-assign[_ngcontent-%COMP%]   .chips-scroll-wrapper[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:not(.mat-chip-selected):hover{border-color:#5d157c;background:#f5e8ff;transform:translateY(-1px)}.filter-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:8px 20px;margin-bottom:10px;box-shadow:0 2px 8px #0000001a}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]{display:flex;gap:20px}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{flex:1}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#333;margin-bottom:8px}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{position:relative}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid #e0e0e0;border-radius:8px;font-size:14px}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#5d157c;box-shadow:0 0 0 3px #5d157c1f}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input.searching[_ngcontent-%COMP%]{border-color:#5d157c}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-loading[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%)}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-loading[_ngcontent-%COMP%]   .search-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid #e0e0e0;border-top:2px solid #ff6b35;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-clear-btn[_ngcontent-%COMP%]{position:absolute;right:36px;top:50%;transform:translateY(-50%);background:transparent;border:none;color:#9ca3af;cursor:pointer;padding:4px;border-radius:4px}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-clear-btn[_ngcontent-%COMP%]:hover{color:#6b7280;background:#f3f4f6}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]{width:100%}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]{width:100%;border:1px solid #e0e0e0;border-radius:8px}.filter-section[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:focus{border-color:#ff6b35;box-shadow:0 0 0 3px #ff6b351a}.custom-dropdown[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]{width:100%;height:44px;border:2px solid #5D157C;border-radius:8px;display:flex;align-items:center;padding:0 8px}.custom-dropdown[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 0 3px #5d157c1f}.custom-dropdown[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-label[_ngcontent-%COMP%]{font-size:14px}.custom-dropdown[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]{color:#5d157c}.orders-list[_ngcontent-%COMP%]{max-height:calc(100vh - 240px);overflow-y:auto;overscroll-behavior:contain;-webkit-overflow-scrolling:touch}.orders-list[_ngcontent-%COMP%]   .go-top-btn[_ngcontent-%COMP%]{position:sticky;bottom:12px;margin-left:auto;right:16px;float:right;width:44px;height:44px;border-radius:50%;border:none;background:#5d157c;color:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0003;cursor:pointer;z-index:10;transition:transform .2s ease,box-shadow .2s ease,opacity .2s ease}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000001a}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-select-all[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-select-all[_ngcontent-%COMP%]   .skeleton-checkbox[_ngcontent-%COMP%]{width:20px;height:20px;background:#f0f0f0;border-radius:4px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-select-all[_ngcontent-%COMP%]   .skeleton-date[_ngcontent-%COMP%]{width:120px;height:16px;background:#f0f0f0;border-radius:4px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-order-card[_ngcontent-%COMP%]{background:#f9f9f9;border-radius:12px;padding:16px;margin-bottom:12px}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-order-card[_ngcontent-%COMP%]   .skeleton-order-content[_ngcontent-%COMP%]   .skeleton-order-info[_ngcontent-%COMP%]   .skeleton-order-title[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-order-card[_ngcontent-%COMP%]   .skeleton-order-content[_ngcontent-%COMP%]   .skeleton-order-info[_ngcontent-%COMP%]   .skeleton-order-title[_ngcontent-%COMP%]   .skeleton-checkbox-small[_ngcontent-%COMP%]{width:16px;height:16px;background:#f0f0f0;border-radius:3px;margin-right:12px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-order-card[_ngcontent-%COMP%]   .skeleton-order-content[_ngcontent-%COMP%]   .skeleton-order-info[_ngcontent-%COMP%]   .skeleton-order-title[_ngcontent-%COMP%]   .skeleton-order-id[_ngcontent-%COMP%]{width:100px;height:16px;background:#f0f0f0;border-radius:4px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-order-card[_ngcontent-%COMP%]   .skeleton-order-content[_ngcontent-%COMP%]   .skeleton-order-info[_ngcontent-%COMP%]   .skeleton-order-desc[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]{width:80%;height:14px;background:#f0f0f0;border-radius:4px;margin-bottom:8px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-order-card[_ngcontent-%COMP%]   .skeleton-order-content[_ngcontent-%COMP%]   .skeleton-order-info[_ngcontent-%COMP%]   .skeleton-order-desc[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]:last-child{width:60%}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-order-card[_ngcontent-%COMP%]   .skeleton-order-content[_ngcontent-%COMP%]   .skeleton-order-status[_ngcontent-%COMP%]   .skeleton-status-row[_ngcontent-%COMP%]{width:100%;height:12px;background:#f0f0f0;border-radius:4px;margin-bottom:6px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-order-card[_ngcontent-%COMP%]   .skeleton-order-footer[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:12px}.orders-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]   .skeleton-order-card[_ngcontent-%COMP%]   .skeleton-order-footer[_ngcontent-%COMP%]   .skeleton-button[_ngcontent-%COMP%]{width:80px;height:32px;background:#f0f0f0;border-radius:6px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.orders-list[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:40px 20px;text-align:center;box-shadow:0 2px 8px #0000001a}.orders-list[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#666;font-size:16px;margin-bottom:16px}.orders-list[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{background:#ff6b35;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-size:14px;cursor:pointer}.orders-list[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background:#e55a2b}.orders-list[_ngcontent-%COMP%]   .select-all[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#fff;border-radius:12px 12px 0 0;padding:16px 20px;border-bottom:1px solid #e0e0e0;box-shadow:0 2px 8px #0000001a}.orders-list[_ngcontent-%COMP%]   .select-all[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:14px;color:#000;font-weight:500}.orders-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:40px 20px;text-align:center;box-shadow:0 2px 8px #0000001a}.orders-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px;margin-bottom:8px}.orders-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p.empty-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#999}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:16px;box-shadow:0 2px 8px #0000001a;cursor:pointer;transition:transform .2s,box-shadow .2s}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]:last-child{margin-bottom:24px}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:6px 20px;border-bottom:1px solid #f0f0f0}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]{display:flex;align-items:center}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]   .order-id[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin-left:12px}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]{padding:6px 20px}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .customer-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{margin-bottom:16px}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin-bottom:4px}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]{font-size:14px;color:#666}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%;justify-content:flex-start;flex-direction:row;flex-wrap:nowrap;overflow-x:auto}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions.accepted-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;font-size:12px;font-weight:600;padding:5px 10px;border:none!important;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);min-width:80px;height:35px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;flex-shrink:0;box-shadow:0 4px 12px #00000026;background:transparent}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#fff3,#ffffff1a);opacity:0;transition:opacity .3s ease}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:before{opacity:1}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;align-items:center!important;justify-content:center!important;gap:6px!important;z-index:1;position:relative;width:100%;height:100%}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;z-index:1;position:relative}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;line-height:1.2;font-weight:600;text-transform:uppercase;letter-spacing:.3px;z-index:1;position:relative}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.4!important;cursor:not-allowed!important;transform:none!important;box-shadow:0 2px 6px #0000001a!important;background:#e5e7eb!important;color:#9ca3af!important;pointer-events:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled   .btn-content[_ngcontent-%COMP%]{opacity:.6!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled   i[_ngcontent-%COMP%]{opacity:.6!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{font-size:12px;text-transform:none;letter-spacing:normal}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-accept[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 12px #10b9814d!important;border:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-accept[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669,#047857)!important;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #10b98166!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-accept[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)!important;color:#fff!important;box-shadow:0 4px 12px #ef44444d!important;border:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#dc2626,#b91c1c)!important;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #ef444466!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#6d28d9)!important;color:#fff!important;box-shadow:0 4px 12px #7c3aed4d!important;border:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#6d28d9,#5b21b6)!important;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #7c3aed66!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)!important;color:#fff!important;box-shadow:0 4px 12px #8b5cf64d!important;border:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#7c3aed,#6d28d9)!important;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #8b5cf666!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-ready[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)!important;color:#fff!important;box-shadow:0 4px 12px #f59e0b4d!important;border:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-ready[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#d97706,#b45309)!important;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #f59e0b66!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-ready[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-ready[_ngcontent-%COMP%]:disabled{background:#e5e7eb!important;color:#9ca3af!important;box-shadow:0 2px 6px #0000001a!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-delivery[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ea580c,#dc2626)!important;color:#fff!important;box-shadow:0 4px 12px #ea580c4d!important;border:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-delivery[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#dc2626,#b91c1c)!important;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #ea580c66!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-delivery[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-delivery[_ngcontent-%COMP%]:disabled{background:#e5e7eb!important;color:#9ca3af!important;box-shadow:0 2px 6px #0000001a!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-complete[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;box-shadow:0 4px 12px #10b9814d!important;border:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-complete[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669,#047857)!important;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #10b98166!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-complete[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-complete[_ngcontent-%COMP%]:disabled{background:#e5e7eb!important;color:#9ca3af!important;box-shadow:0 2px 6px #0000001a!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50px;font-size:12px;font-weight:600;padding:5px 10px;border:none!important;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);min-width:80px;height:35px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;flex-shrink:0;box-shadow:0 4px 12px #00000026;background:transparent}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#fff3,#ffffff1a);opacity:0;transition:opacity .3s ease}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:before{opacity:1}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;z-index:1;position:relative}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)!important;color:#fff!important;box-shadow:0 4px 12px #8b5cf64d!important;border:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#7c3aed,#6d28d9)!important;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #8b5cf666!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#6d28d9)!important;color:#fff!important;box-shadow:0 4px 12px #7c3aed4d!important;border:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#6d28d9,#5b21b6)!important;transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px #7c3aed66!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled, .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]{background:#e5e7eb!important;color:#9ca3af!important;opacity:.4!important;cursor:not-allowed!important;transform:none!important;box-shadow:0 2px 6px #0000001a!important;pointer-events:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled   .btn-content[_ngcontent-%COMP%], .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{opacity:.6!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled   i[_ngcontent-%COMP%], .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]{background:#e5e7eb!important;color:#9ca3af!important;opacity:.4!important;cursor:not-allowed!important;transform:none!important;box-shadow:0 2px 6px #0000001a!important;pointer-events:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]:hover{background:#e5e7eb!important;color:#9ca3af!important;transform:none!important;box-shadow:0 2px 6px #0000001a!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%], .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{background:#e5e7eb!important;background-image:none!important;color:#9ca3af!important;opacity:.4!important;cursor:not-allowed!important;transform:none!important;box-shadow:0 2px 6px #0000001a!important;pointer-events:none!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]:hover, .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]:focus, .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]:active, .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled:hover, .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled:focus, .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled:active{background:#e5e7eb!important;background-image:none!important;color:#9ca3af!important;transform:none!important;box-shadow:0 2px 6px #0000001a!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled   .btn-content[_ngcontent-%COMP%]{opacity:.6!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-disabled[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .orders-container[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled   i[_ngcontent-%COMP%]{opacity:.6!important}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:14px;color:#666}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.payment-paid[_ngcontent-%COMP%]{color:#28a745}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.payment-pending[_ngcontent-%COMP%]{color:#ffc107}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-content[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.payment-failed[_ngcontent-%COMP%]{color:#dc3545}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600;text-align:center}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-status-badge.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-status-badge.status-accepted[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-status-badge.status-delivered[_ngcontent-%COMP%], .orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-status-badge.status-completed[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-status-badge.status-cancelled[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-status-badge.status-ready[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background:#f9fafb;border-top:1px solid #e5e7eb}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%;justify-content:space-between;flex-direction:row;padding:5px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);flex-wrap:nowrap;overflow-x:auto}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .action-buttons.close[_ngcontent-%COMP%]{background:#f59e0b;color:#fff;border-radius:12px;min-width:100px;height:44px;padding:12px 20px;font-weight:700;font-size:14px;text-transform:uppercase;letter-spacing:.5px;border:none}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .action-buttons.close[_ngcontent-%COMP%]:hover:not(:disabled){background:#d97706;transform:translateY(-2px);box-shadow:0 6px 16px #f59e0b66}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .assigned-person[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#5d157c;padding:8px 12px;background:#f5e8ff;border-radius:6px;border:1px solid #e9d5ff}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600;margin-left:auto}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .status-badge.status-completed[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .status-badge.status-cancelled[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.orders-list[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .status-badge.status-ready[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.pagination-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;margin-top:20px;box-shadow:0 2px 8px #0000001a}.pagination-section[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#666;margin-bottom:16px}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{background:#ff6b35;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;cursor:pointer}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#e55a2b}.pagination-section[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{font-size:14px;color:#666}.quick-sale-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;margin-top:20px;box-shadow:0 2px 8px #0000001a}.quick-sale-panel[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin-bottom:20px}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:16px}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#333;margin-bottom:8px}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid #e0e0e0;border-radius:8px;font-size:14px}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff6b35;box-shadow:0 0 0 3px #ff6b351a}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#666}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{display:flex;gap:8px}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;padding:8px 16px;border:1px solid #e0e0e0;border-radius:6px;text-align:center;cursor:pointer;transition:all .2s}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{background:#ff6b35;color:#fff;border-color:#ff6b35}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{background:#ff6b35;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;width:100%}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.quick-sale-panel[_ngcontent-%COMP%]   .quick-sale-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#e55a2b}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.skeleton[_ngcontent-%COMP%]   .skeleton-label[_ngcontent-%COMP%]{width:80px;height:16px;background:#f0f0f0;border-radius:4px;margin-bottom:8px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.skeleton[_ngcontent-%COMP%]   .skeleton-input[_ngcontent-%COMP%], .skeleton[_ngcontent-%COMP%]   .skeleton-dropdown[_ngcontent-%COMP%]{width:100%;height:44px;background:#f0f0f0;border-radius:8px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.skeleton[_ngcontent-%COMP%]   .skeleton-chip[_ngcontent-%COMP%]{width:80px;height:32px;background:#f0f0f0;border-radius:16px;margin-right:8px;margin-bottom:8px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.order-summary[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:14px;color:#1f2937;margin-top:16px;padding:12px 16px;background:#f9fafb;border-radius:8px;border:1px solid #e5e7eb}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;align-items:center}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{margin-right:4px;font-weight:700;color:#1f2937}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-weight:400;color:#1f2937;font-size:14px}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.zero-amount[_ngcontent-%COMP%]{color:#dc2626;text-decoration:underline;cursor:pointer;transition:all .2s ease}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.zero-amount[_ngcontent-%COMP%]:hover{color:#b91c1c;text-decoration:none}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.zero-amount[_ngcontent-%COMP%]   .zero-amount-icon[_ngcontent-%COMP%]{margin-left:4px;font-size:12px;color:#f59e0b;animation:_ngcontent-%COMP%_pulse 2s infinite}.order-summary[_ngcontent-%COMP%]   .summary-separator[_ngcontent-%COMP%]{margin:0 8px;color:#1f2937;font-weight:400;font-size:14px}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.infinite-scroll-sentinel[_ngcontent-%COMP%]{display:block;height:2px;width:100%}.infinite-scroll-loader[_ngcontent-%COMP%]{text-align:center;padding:8px 0;color:#666;font-size:12px;display:flex;align-items:center;justify-content:center;gap:8px}.infinite-scroll-loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid #e0e0e0;border-top:2px solid #6a1b9a;border-radius:50%;animation:_ngcontent-%COMP%_spin .9s linear infinite}.infinite-scroll-loader[_ngcontent-%COMP%]   .loader-text[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.toggle-wrapper[_ngcontent-%COMP%]{display:flex;border:1px solid #6a1b9a;border-radius:8px;overflow:hidden;width:fit-content;flex:1 1 auto;min-width:0}@media (max-width: 600px){.toggle-wrapper[_ngcontent-%COMP%]{width:100%}}.toggle-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;border:none;border-radius:0;background:#fff;color:#6a1b9a;font-weight:500;padding:10px 12px;font-size:14px;transition:all .2s ease;min-width:100px}.toggle-wrapper[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#6a1b9a;color:#fff}.toggle-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{background:#f3e5f5}@media (max-width: 600px){.toggle-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:0;font-size:13px;padding:10px 8px}}[_nghost-%COMP%]     .mat-mdc-checkbox .mdc-form-field label, [_nghost-%COMP%]     .mat-checkbox .mat-checkbox-label, [_nghost-%COMP%]     .mat-mdc-checkbox .mdc-label{color:#000!important;font-weight:400}.order-card.focused-order[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_focusHighlight 2s ease-in-out;border:2px solid #6a1b9a!important;box-shadow:0 0 20px #6a1b9a4d!important;transform:scale(1.02);transition:all .3s ease}@keyframes _ngcontent-%COMP%_focusHighlight{0%{box-shadow:0 0 #6a1b9a66;transform:scale(1)}50%{box-shadow:0 0 30px #6a1b9a99;transform:scale(1.05)}to{box-shadow:0 0 20px #6a1b9a4d;transform:scale(1.02)}}@media (max-width: 768px){.action-buttons[_ngcontent-%COMP%]{gap:6px;padding:12px 16px;flex-wrap:nowrap;justify-content:space-between;overflow-x:auto;-webkit-overflow-scrolling:touch}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:70px;height:36px;flex-shrink:0}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{gap:4px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}.action-buttons.accepted-actions[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:6px;padding:8px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:50px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.vertical-layout[_ngcontent-%COMP%]{padding:8px 4px;min-width:50px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.vertical-layout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:8px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.vertical-layout[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.complete-icon[_ngcontent-%COMP%], .action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.direction-icon[_ngcontent-%COMP%]{min-width:40px;height:40px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.complete-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.direction-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}}@media (max-width: 480px){.action-buttons[_ngcontent-%COMP%]{gap:4px;padding:10px 12px;overflow-x:auto;-webkit-overflow-scrolling:touch}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:60px;height:32px;flex-shrink:0}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{gap:3px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:9px}.action-buttons.accepted-actions[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:4px;padding:6px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.vertical-layout[_ngcontent-%COMP%]{padding:6px 2px;min-width:45px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.vertical-layout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.vertical-layout[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.complete-icon[_ngcontent-%COMP%], .action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.direction-icon[_ngcontent-%COMP%]{min-width:36px;height:36px}.action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.complete-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .action-buttons.accepted-actions[_ngcontent-%COMP%]   .btn.direction-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}}.action-buttons[_ngcontent-%COMP%]   .btn.btn-accept[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-ready[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-delivery[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-complete[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]{background:var(--button-bg)!important;color:#fff!important;border:none!important;box-shadow:var(--button-shadow)!important;border-radius:50px}.action-buttons[_ngcontent-%COMP%]   .btn.btn-accept[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-ready[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-delivery[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-complete[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{display:flex;gap:10px!important;padding:5px 15px!important;justify-content:center!important;align-items:center!important}.action-buttons[_ngcontent-%COMP%]   .btn.btn-accept[_ngcontent-%COMP%]:hover:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]:hover:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-ready[_ngcontent-%COMP%]:hover:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-delivery[_ngcontent-%COMP%]:hover:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-complete[_ngcontent-%COMP%]:hover:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]:hover:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--button-hover-bg)!important;transform:translateY(-3px) scale(1.05);box-shadow:var(--button-hover-shadow)!important}.action-buttons[_ngcontent-%COMP%]   .btn.btn-accept[_ngcontent-%COMP%]:active:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]:active:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-ready[_ngcontent-%COMP%]:active:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-delivery[_ngcontent-%COMP%]:active:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-complete[_ngcontent-%COMP%]:active:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]:active:not(:disabled), .action-buttons[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.action-buttons[_ngcontent-%COMP%]   .btn.btn-accept[_ngcontent-%COMP%]{--button-bg: linear-gradient(135deg, #10b981 0%, #059669 100%);--button-hover-bg: linear-gradient(135deg, #059669 0%, #047857 100%);--button-shadow: 0 4px 12px rgba(16, 185, 129, .3);--button-hover-shadow: 0 8px 20px rgba(16, 185, 129, .4)}.action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]{--button-bg: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);--button-hover-bg: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);--button-shadow: 0 4px 12px rgba(239, 68, 68, .3);--button-hover-shadow: 0 8px 20px rgba(239, 68, 68, .4)}.action-buttons[_ngcontent-%COMP%]   .btn.btn-ready[_ngcontent-%COMP%]{--button-bg: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);--button-hover-bg: linear-gradient(135deg, #d97706 0%, #b45309 100%);--button-shadow: 0 4px 12px rgba(245, 158, 11, .3);--button-hover-shadow: 0 8px 20px rgba(245, 158, 11, .4)}.action-buttons[_ngcontent-%COMP%]   .btn.btn-delivery[_ngcontent-%COMP%]{--button-bg: linear-gradient(135deg, #ea580c 0%, #dc2626 100%);--button-hover-bg: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);--button-shadow: 0 4px 12px rgba(234, 88, 12, .3);--button-hover-shadow: 0 8px 20px rgba(234, 88, 12, .4)}.action-buttons[_ngcontent-%COMP%]   .btn.btn-complete[_ngcontent-%COMP%]{--button-bg: linear-gradient(135deg, #10b981 0%, #059669 100%);--button-hover-bg: linear-gradient(135deg, #059669 0%, #047857 100%);--button-shadow: 0 4px 12px rgba(16, 185, 129, .3);--button-hover-shadow: 0 8px 20px rgba(16, 185, 129, .4)}.action-buttons[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]{--button-bg: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);--button-hover-bg: linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%);--button-shadow: 0 4px 12px rgba(124, 58, 237, .3);--button-hover-shadow: 0 8px 20px rgba(124, 58, 237, .4)}.action-buttons[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]{--button-bg: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);--button-hover-bg: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);--button-shadow: 0 4px 12px rgba(139, 92, 246, .3);--button-hover-shadow: 0 8px 20px rgba(139, 92, 246, .4)}.secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%], .secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]{background:var(--button-bg)!important;color:#fff!important;border:none!important;box-shadow:var(--button-shadow)!important}.secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]:hover:not(:disabled), .secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--button-hover-bg)!important;transform:translateY(-3px) scale(1.05);box-shadow:var(--button-hover-shadow)!important}.secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]:active:not(:disabled), .secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.secondary-actions[_ngcontent-%COMP%]   .btn.btn-direction[_ngcontent-%COMP%]{--button-bg: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);--button-hover-bg: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);--button-shadow: 0 4px 12px rgba(139, 92, 246, .3);--button-hover-shadow: 0 8px 20px rgba(139, 92, 246, .4);margin-right:auto}.secondary-actions[_ngcontent-%COMP%]   .btn.btn-assign[_ngcontent-%COMP%]{--button-bg: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);--button-hover-bg: linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%);--button-shadow: 0 4px 12px rgba(124, 58, 237, .3);--button-hover-shadow: 0 8px 20px rgba(124, 58, 237, .4);margin-left:auto}.assigned-person-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border:1px solid #d1d5db;border-radius:50px;color:#374151;font-size:12px;font-weight:600;margin-left:auto;box-shadow:0 2px 4px #0000001a;min-width:80px;height:35px;justify-content:center}.assigned-person-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.assigned-person-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#374151;font-weight:600}']})};var zi=class o{ngOnInit(){console.log("Orders overview component initialized")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=N({type:o,selectors:[["orders-overview"]],features:[Vo([],[Ss])],decls:1,vars:0,template:function(e,n){e&1&&b(0,"orders-list")},dependencies:[Bi]})};var gf=o=>({"rotate-180":o}),mf=()=>[1,2,3],uf=()=>[1,2];function ff(o,t){if(o&1){let e=k();d(0,"div",18)(1,"div",19),x("click",function(){O(e);let i=C(2);return P(i.selectFilter("More Than 5 days"))}),f(2,"More Than 5 days"),l(),d(3,"div",19),x("click",function(){O(e);let i=C(2);return P(i.selectFilter("Last 7 days"))}),f(4,"Last 7 days"),l(),d(5,"div",19),x("click",function(){O(e);let i=C(2);return P(i.selectFilter("This Month"))}),f(6,"This Month"),l()()}}function hf(o,t){if(o&1){let e=k();d(0,"div",13)(1,"div",14)(2,"button",15),x("click",function(){O(e);let i=C();return P(i.toggleDropdown())}),f(3),b(4,"i",16),l(),M(5,ff,7,0,"div",17),l()()}if(o&2){let e=C();p(3),V(" ",e.selectedFilter," "),p(),u("ngClass",wt(3,gf,e.isDropdownOpen)),p(),u("ngIf",e.isDropdownOpen)}}function _f(o,t){o&1&&(d(0,"div",32)(1,"div",33),b(2,"div",34)(3,"div",35),l(),d(4,"div",36),b(5,"div",37)(6,"div",38)(7,"div",39),l()())}function bf(o,t){o&1&&(d(0,"div",22)(1,"div",23),b(2,"div",24)(3,"div",25),l(),d(4,"div",26),b(5,"div",27)(6,"div",28)(7,"div",29),l(),d(8,"div",30),M(9,_f,8,0,"div",31),l()()),o&2&&(p(9),u("ngForOf",he(1,uf)))}function Cf(o,t){o&1&&(d(0,"div",20),M(1,bf,10,2,"div",21),l()),o&2&&(p(),u("ngForOf",he(1,mf)))}function vf(o,t){if(o&1&&(d(0,"span"),f(1),l()),o&2){let e=C().$implicit;p(),V("x",e.quantity,"")}}function Of(o,t){if(o&1&&(d(0,"div",70)(1,"span"),f(2),M(3,vf,2,1,"span",12),l(),d(4,"span"),f(5),l()()),o&2){let e=t.$implicit;p(2),V("",e.product_name," "),p(),u("ngIf",e.quantity),p(2),V("\u20B9",e.price,"")}}function Pf(o,t){if(o&1&&(We(0),M(1,Of,6,3,"div",69),Ge()),o&2){let e=C(2).$implicit;p(),u("ngForOf",e.order_items)}}function Mf(o,t){o&1&&(d(0,"div",71),f(1,"No items available"),l())}function xf(o,t){if(o&1&&(d(0,"div",65)(1,"div",66),f(2,"Order Details"),l(),M(3,Pf,2,1,"ng-container",67)(4,Mf,2,0,"ng-template",null,0,de),d(6,"div",68)(7,"span"),f(8,"Total"),l(),d(9,"span"),f(10),l()()()),o&2){let e=le(5),n=C().$implicit;p(3),u("ngIf",n.order_items==null?null:n.order_items.length)("ngIfElse",e),p(7),V("\u20B9",n.total_amount,"")}}function yf(o,t){if(o&1){let e=k();d(0,"div",58)(1,"div",59),x("click",function(){let i=O(e).$implicit,r=C(4);return P(r.toggleOrder(i))}),d(2,"label",60)(3,"input",61),G("ngModelChange",function(i){let r=O(e).$implicit;return W(r.selected,i)||(r.selected=i),P(i)}),x("click",function(i){return O(e),P(i.stopPropagation())}),l(),f(4),l(),d(5,"div",45)(6,"span",62),f(7),I(8,"number"),l(),d(9,"mat-icon",63),x("click",function(i){let r=O(e).$implicit;return C(4).toggleOrder(r),P(i.stopPropagation())}),f(10),l()()(),M(11,xf,11,3,"div",64),l()}if(o&2){let e=t.$implicit;p(3),q("ngModel",e.selected),p(),V(" #ORT",e.order_id," "),p(3),E(D(8,5,e.total_amount)),p(3),V(" ",e.isExpanded?"keyboard_arrow_up":"keyboard_arrow_down"," "),p(),u("ngIf",e.isExpanded)}}function Sf(o,t){if(o&1&&(d(0,"div",56),M(1,yf,12,7,"div",57),l()),o&2){let e=C().$implicit;p(),u("ngForOf",e.overdue_orders)}}function wf(o,t){if(o&1){let e=k();d(0,"div",42)(1,"div",43),x("click",function(){let i=O(e).$implicit,r=C(2);return P(r.toggleUser(i))}),d(2,"div",44),f(3),l(),d(4,"div",45)(5,"span",46),f(6),I(7,"number"),l(),d(8,"mat-icon",47),f(9),l()()(),d(10,"div",48)(11,"div",49)(12,"button",50)(13,"mat-icon",51),f(14,"qr_code"),l(),d(15,"span",52),f(16,"BILL QR"),l()(),d(17,"span",53),f(18,"Cleared"),l(),d(19,"span",54),f(20,"Remind"),l()()(),M(21,Sf,2,1,"div",55),l()}if(o&2){let e=t.$implicit;p(3),V(" ",e.username||"Unnamed User"," "),p(3),V(" ",D(7,4,e.total_overdue_amount)," "),p(3),V(" ",e.isExpanded?"keyboard_arrow_up":"keyboard_arrow_down"," "),p(12),u("ngIf",e.isExpanded)}}function Tf(o,t){o&1&&(d(0,"div",72),f(1," No overdue users found. "),l())}function kf(o,t){if(o&1&&(d(0,"div"),M(1,wf,22,6,"div",40)(2,Tf,2,0,"div",41),l()),o&2){let e=C();p(),u("ngForOf",e.filteredUsers),p(),u("ngIf",e.filteredUsers.length===0)}}var ji=class o{constructor(t){this.orderService=t}pageIndex=0;contentPerPage=Xe;total=0;searchTerm="";searchControl=new Ut("");date_from=null;date_to=null;selectedFilter="More Than 5 days";showFilter=!1;isDropdownOpen=!1;isLoading=!1;errorMessage="";overdueUsers=[];filteredUsers=[];ngOnInit(){this.searchControl.valueChanges.pipe(To(1e3),ko()).subscribe(t=>{this.searchTerm=t?.trim()||"",this.pageIndex=0,this.loadOverdues()}),this.loadOverdues()}loadOverdues(){this.isLoading=!0,this.errorMessage="";let t={skip:this.pageIndex*this.contentPerPage,limit:this.contentPerPage};this.searchTerm.trim()&&(t.search=this.searchTerm.trim()),this.date_from&&this.date_to&&(t.from_date=this.date_from,t.to_date=this.date_to),this.orderService.listWithTotal(t).subscribe({next:e=>{this.isLoading=!1,this.total=e.total,this.overdueUsers=e.data.map(n=>J(H({},n),{isExpanded:!1,overdue_orders:(n.overdue_orders||[]).map(i=>J(H({},i),{selected:!1,isExpanded:!1}))})),this.filteredUsers=[...this.overdueUsers]},error:e=>{this.isLoading=!1,this.errorMessage="Failed to load overdue orders. Please try again.",console.error("Error fetching overdues:",e)}})}filterData(){this.pageIndex=0,this.loadOverdues()}toggleUser(t){t.isExpanded=!t.isExpanded}toggleOrder(t){t.isExpanded=!t.isExpanded}toggleAllOrders(t,e){t.overdue_orders.forEach(n=>n.selected=e)}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}selectFilter(t){this.selectedFilter=t,this.isDropdownOpen=!1,this.pageIndex=0;let e=new Date;switch(t){case"More Than 5 days":this.date_from=null,this.date_to=null;break;case"Last 7 days":let n=new Date(e);n.setDate(e.getDate()-7),this.date_from=oo(n,"yyyy-MM-dd"),this.date_to=oo(e,"yyyy-MM-dd");break;case"This Month":let i=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0);this.date_from=oo(i,"yyyy-MM-dd"),this.date_to=oo(r,"yyyy-MM-dd");break;default:this.date_from=null,this.date_to=null}this.loadOverdues()}toggleFilter(){this.showFilter=!this.showFilter}trackByUser(t,e){return e.user_id}trackByOrder(t,e){return e.order_id}static \u0275fac=function(e){return new(e||o)(y(Yt))};static \u0275cmp=N({type:o,selectors:[["order-dues"]],decls:14,vars:4,consts:[["noItems",""],[1,"container","px-2","py-4","max-w-md","mx-auto","font-sans"],[1,"flex","items-center","gap-2","mb-4"],[1,"relative","flex-1"],["type","text","placeholder","Search",1,"w-full","border","border-purple-300","rounded-full","px-4","py-2","pr-10","text-sm","focus:outline-none","focus:ring-2","focus:ring-purple-500",3,"formControl"],[1,"absolute","right-3","top-2.5","text-gray-500"],[1,"pi","pi-search"],[1,"cursor-pointer","text-purple-700",3,"click"],["class","mb-2",4,"ngIf"],[1,"mb-4","flex","justify-end"],[1,"bg-purple-700","text-white","px-4","py-2","rounded-full","text-sm","hover:bg-purple-800","transition-all"],["class","space-y-4",4,"ngIf"],[4,"ngIf"],[1,"mb-2"],[1,"relative"],[1,"w-full","text-left","border","border-purple-400","px-4","py-2","rounded-full","text-sm","flex","justify-between","items-center",3,"click"],[1,"pi","pi-chevron-down","ml-2","transition-transform","duration-200",3,"ngClass"],["class","absolute mt-1 w-full bg-white border border-purple-200 rounded shadow-sm z-10",4,"ngIf"],[1,"absolute","mt-1","w-full","bg-white","border","border-purple-200","rounded","shadow-sm","z-10"],[1,"px-4","py-2","hover:bg-purple-50","cursor-pointer",3,"click"],[1,"space-y-4"],["class","border border-purple-200 rounded-xl overflow-hidden bg-white animate-pulse",4,"ngFor","ngForOf"],[1,"border","border-purple-200","rounded-xl","overflow-hidden","bg-white","animate-pulse"],[1,"px-4","py-3","bg-purple-50","border-b","border-purple-100"],[1,"h-4","w-1/3","bg-purple-200","rounded","mb-2"],[1,"h-3","w-1/4","bg-purple-200","rounded"],[1,"px-4","py-2","flex","gap-2"],[1,"h-6","w-24","bg-purple-100","rounded-full"],[1,"h-6","w-16","bg-green-100","rounded-full"],[1,"h-6","w-16","bg-yellow-100","rounded-full"],[1,"px-4","pb-4","space-y-3"],["class","border border-purple-100 rounded-lg p-3",4,"ngFor","ngForOf"],[1,"border","border-purple-100","rounded-lg","p-3"],[1,"flex","justify-between","mb-2"],[1,"h-3","w-1/2","bg-purple-100","rounded"],[1,"h-3","w-10","bg-purple-100","rounded"],[1,"space-y-1"],[1,"h-2","w-full","bg-gray-100","rounded"],[1,"h-2","w-3/4","bg-gray-100","rounded"],[1,"h-2","w-2/3","bg-gray-100","rounded"],["class","mb-4 border rounded-xl shadow bg-white border border-purple-900 overflow-hidden",4,"ngFor","ngForOf"],["class","text-center text-gray-500 py-8",4,"ngIf"],[1,"mb-4","border","rounded-xl","shadow","bg-white","border","border-purple-900","overflow-hidden"],[1,"flex","items-center","justify-between","px-4","py-3","bg-purple-50","border-b","border-purple-100","cursor-pointer","rounded-t-xl",3,"click"],[1,"text-sm","font-semibold","text-purple-900"],[1,"flex","items-center","gap-2"],[1,"text-orange-600","font-bold","text-sm"],[1,"text-gray-600"],[1,"px-4","py-2","flex","items-center","justify-between","bg-white"],[1,"flex","gap-2","items-center"],[1,"flex","items-center","gap-1","border","px-2","py-1","text-xs","rounded-full","border-purple-900","bg-purple-50","hover:bg-purple-100","transition"],[1,"text-sm","text-purple-900"],[1,"text-purple-900","font-medium"],[1,"bg-green-700","text-white","text-xs","px-3","py-1.5","rounded-full","font-medium"],[1,"bg-yellow-400","text-white","text-xs","px-3","py-1.5","rounded-full","font-medium"],["class","bg-gray-50 px-4 py-2 space-y-2",4,"ngIf"],[1,"bg-gray-50","px-4","py-2","space-y-2"],["class","border border-purple-200 rounded-lg bg-white shadow-sm",4,"ngFor","ngForOf"],[1,"border","border-purple-200","rounded-lg","bg-white","shadow-sm"],[1,"flex","justify-between","items-center","px-3","py-2","cursor-pointer",3,"click"],[1,"flex","items-center","gap-2","text-sm","font-medium"],["type","checkbox",1,"accent-purple-600",3,"ngModelChange","click","ngModel"],[1,"text-orange-700","font-semibold","text-sm"],[1,"cursor-pointer",3,"click"],["class","px-4 pb-3 pt-1 text-sm text-gray-700 bg-purple-50 border-t border-purple-100",4,"ngIf"],[1,"px-4","pb-3","pt-1","text-sm","text-gray-700","bg-purple-50","border-t","border-purple-100"],[1,"font-semibold","text-center","text-purple-900","mb-2"],[4,"ngIf","ngIfElse"],[1,"flex","justify-between","font-semibold","border-t","pt-1","mt-1"],["class","flex justify-between",4,"ngFor","ngForOf"],[1,"flex","justify-between"],[1,"text-center","text-gray-500","py-2"],[1,"text-center","text-gray-500","py-8"]],template:function(e,n){e&1&&(d(0,"div",1)(1,"div",2)(2,"div",3),b(3,"input",4),d(4,"span",5),b(5,"i",6),l()(),d(6,"mat-icon",7),x("click",function(){return n.toggleFilter()}),f(7,"tune"),l()(),M(8,hf,6,5,"div",8),d(9,"div",9)(10,"button",10),f(11,"Remind ALL"),l()(),M(12,Cf,2,2,"div",11)(13,kf,3,2,"div",12),l()),e&2&&(p(3),u("formControl",n.searchControl),p(5),u("ngIf",n.showFilter),p(4),u("ngIf",n.isLoading),p(),u("ngIf",!n.isLoading))},dependencies:[$e,oe,K,Yo,ne,rs,Q,Re,ss,Bo],styles:[".search-section[_ngcontent-%COMP%]{display:flex;align-items:center}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{padding:8px 10px;font-size:14px;border:1px solid #ccc;border-radius:4px;width:100%}.filter-enabler-container[_ngcontent-%COMP%]{width:100%;text-align:right}.filter-enabler-container[_ngcontent-%COMP%]   .filter-enabler[_ngcontent-%COMP%]{color:#8a2be2}.filter-dropdown[_ngcontent-%COMP%]{position:relative}.filter-dropdown[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;background-color:#f4f4f4;border-radius:4px;font-size:14px;cursor:pointer;border:none}.filter-dropdown[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]   .filter-text[_ngcontent-%COMP%]{margin-right:8px}.filter-dropdown[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{font-size:14px;transition:transform .3s ease}.filter-dropdown[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]   .arrow-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.filter-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;background-color:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 4px 6px #0000001a;width:200px;z-index:10}.filter-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.filter-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.remind-all-btn-container[_ngcontent-%COMP%]{text-align:right}.remind-all-btn-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{margin-bottom:1rem}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]{margin-bottom:15px;background-color:#f9f9f9;border-radius:4px;border:1px solid #5d157c;cursor:pointer}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .user-header-container[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:space-between;font-weight:700}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .user-header-container[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:700}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .user-header-container[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#888}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .user-header-container[_ngcontent-%COMP%]   .user-header-btns[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .user-header-container[_ngcontent-%COMP%]   .user-header-btns[_ngcontent-%COMP%]   .user-header-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:1rem;margin-left:1rem}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .user-header-container[_ngcontent-%COMP%]   .user-header-btns[_ngcontent-%COMP%]   .user-header-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 .4rem;margin-bottom:.3rem}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .user-header-container[_ngcontent-%COMP%]   .user-header-btns[_ngcontent-%COMP%]   .user-header-controls[_ngcontent-%COMP%]   button.qr[_ngcontent-%COMP%]{border-color:#5d157c;border-width:1px;border-style:solid}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .user-header-container[_ngcontent-%COMP%]   .user-header-btns[_ngcontent-%COMP%]   .user-header-controls[_ngcontent-%COMP%]   button.status[_ngcontent-%COMP%]{background-color:#117b34;color:#fff}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .user-header-container[_ngcontent-%COMP%]   .user-header-btns[_ngcontent-%COMP%]   .user-header-controls[_ngcontent-%COMP%]   button.remind[_ngcontent-%COMP%]{background-color:#f2c263;color:#5d157c}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]{padding:10px}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-accordion[_ngcontent-%COMP%]{margin-bottom:10px;background-color:#f4f4f4;padding:10px;border-radius:4px;cursor:pointer}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-accordion[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]{display:flex;align-items:center}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-accordion[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-accordion[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-id[_ngcontent-%COMP%]{font-weight:700}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-accordion[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]{padding-left:20px;margin-top:10px}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-accordion[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.user-list[_ngcontent-%COMP%]   .user-accordion[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-accordion[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-weight:700;display:flex;justify-content:space-between}"]})};var qi=class o{constructor(t){this.http=t}baseUrl="slot-availability";getSlotAvailability(t){let e=new es().set("slot_date",t.slot_date).set("slot_type",t.slot_type).set("provider_id",t.provider_id.toString());return t.product_id&&(e=e.set("product_id",t.product_id.toString())),this.http.get(this.baseUrl,{params:e})}getProviderSlotAvailability(t,e,n="provider",i){return this.getSlotAvailability(H({slot_date:e,slot_type:n,provider_id:t},i&&{product_id:i}))}static \u0275fac=function(e){return new(e||o)(Fe(ts))};static \u0275prov=He({token:o,factory:o.\u0275fac,providedIn:"root"})};var Df=["*"],Ff=(o,t)=>({"pi-minus-circle":o,"pi-plus-circle":t});function Af(o,t){if(o&1){let e=k();d(0,"button",10),x("click",function(){O(e);let i=C(3);return P(i.buttonClicked(i.buttonTypeEnumValues.cancel))}),f(1),l()}if(o&2){let e=C(3);p(),V(" ",e.cancelBtnText,"")}}function Vf(o,t){if(o&1){let e=k();d(0,"button",11),x("click",function(){O(e);let i=C(3);return P(i.buttonClicked(i.buttonTypeEnumValues.submit))}),f(1),l()}if(o&2){let e=C(3);u("disabled",e.inputForm.invalid),p(),E(e.submitBtnText)}}function Rf(o,t){if(o&1&&(d(0,"div",7),M(1,Af,2,1,"button",8)(2,Vf,2,2,"button",9),l()),o&2){let e=C(2);p(),u("ngIf",e.showCancelBtn),p(),u("ngIf",e.showSubmitBtn)}}function Nf(o,t){if(o&1&&(d(0,"div",5),Wa(1),M(2,Rf,3,2,"div",6),l()),o&2){let e=C();p(2),u("ngIf",e.showBtnContainer)}}var ye=class o{inputForm;compName="";title="";cancelBtnText="Cancel";submitBtnText="Submit";showBtnContainer=!0;showSubmitBtn=!0;showCancelBtn=!0;isBlockExpand=!1;buttonEventTriggered=new Ee;isExpanded=!1;buttonTypeEnumValues=st;expandContainer(){this.isBlockExpand||(this.isExpanded=!this.isExpanded)}buttonClicked(t){this.buttonEventTriggered.emit({buttonType:t})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=N({type:o,selectors:[["form-template"]],inputs:{inputForm:"inputForm",compName:"compName",title:"title",cancelBtnText:"cancelBtnText",submitBtnText:"submitBtnText",showBtnContainer:"showBtnContainer",showSubmitBtn:"showSubmitBtn",showCancelBtn:"showCancelBtn",isBlockExpand:"isBlockExpand",isExpanded:"isExpanded"},outputs:{buttonEventTriggered:"buttonEventTriggered"},ngContentSelectors:Df,decls:7,vars:9,consts:[[1,"title-container",3,"click"],[1,"title"],[1,"expander-icon-container"],[1,"expander-icon","pi",3,"ngClass"],["class","form-container",4,"ngIf"],[1,"form-container"],["class","button-container",4,"ngIf"],[1,"button-container"],["class","cancel-button",3,"click",4,"ngIf"],["class","submit-button",3,"disabled","click",4,"ngIf"],[1,"cancel-button",3,"click"],[1,"submit-button",3,"click","disabled"]],template:function(e,n){e&1&&(qa(),d(0,"div")(1,"div",0),x("click",function(){return n.expandContainer()}),d(2,"div",1),f(3),l(),d(4,"div",2),b(5,"i",3),l()(),M(6,Nf,3,1,"div",4),l()),e&2&&(Ba("",n.compName,"-form-container template-container"),p(3),V(" ",n.title," "),p(2),u("ngClass",ut(6,Ff,n.isExpanded,!n.isExpanded)),p(),u("ngIf",n.isExpanded))},dependencies:[$e,K],styles:[".template-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;margin-bottom:.5rem}.template-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#4f126a}.template-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .expander-icon-container[_ngcontent-%COMP%]   .expander-icon[_ngcontent-%COMP%]{color:#5d157c;font-size:1.5rem}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;padding-top:0}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .form-group{font-size:.875rem;color:#4f126a;display:flex;flex-direction:column;margin-bottom:.5rem}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .form-group label{font-weight:700;margin-bottom:.25rem}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .form-group input{background:#f9f2fd;height:2.25rem;border-radius:50px;padding-left:1rem;width:100%}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .form-group input:focus-visible{border:1px solid;outline:0}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .form-group textarea{background:#f9f2fd;border-radius:5px;height:auto;padding:.4rem}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .form-group textarea:focus-visible{border:1px solid;outline:0}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .form-group .error-message{color:red;font-size:12px}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .button-container{display:flex;justify-content:space-around;margin-top:1rem;margin-bottom:1rem}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .button-container button{height:2.25Rem;min-width:1rem;padding:0 1rem;border-radius:5px}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .button-container button.submit-button{background-color:#5d157c;color:#fff}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .button-container button.submit-button:disabled{opacity:.5}.template-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]     .button-container button.cancel-button{border:1px solid #5d157c;color:#5d157c}"]})};function Lf(o,t){o&1&&(d(0,"div",16),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"sales.customer_name_required")," "))}function Bf(o,t){o&1&&(d(0,"div",16),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"sales.mobile_required")," "))}function zf(o,t){o&1&&(d(0,"div",16),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"sales.product_required")," "))}function jf(o,t){o&1&&(d(0,"div",16),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"sales.price_required")," "))}var pn=class o{constructor(t){this.fb=t;this.salesForm=this.fb.group({customerName:["",R.required],mobile:["",[R.required]],productName:["",[R.required]],price:["",[R.required]],paidStatus:[!1,[R.required]],orderStatus:[!1,[R.required]]})}defaultExpander=!1;isHeaderClickBlockExpand=!1;onCancelTrigger=new Ee;onSubmitTrigger=new Ee;types=[{name:"Supplier",code:"sup"},{name:"Distributer",code:"dis"}];salesForm;onSubmit(){this.salesForm.valid&&console.log("Form Data:",this.salesForm.value),this.onSubmitTrigger.emit(this.salesForm.value)}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.onCancelTrigger.emit(!0)}static \u0275fac=function(e){return new(e||o)(y(Ce))};static \u0275cmp=N({type:o,selectors:[["add-sales"]],inputs:{defaultExpander:"defaultExpander",isHeaderClickBlockExpand:"isHeaderClickBlockExpand"},outputs:{onCancelTrigger:"onCancelTrigger",onSubmitTrigger:"onSubmitTrigger"},decls:41,vars:42,consts:[[3,"buttonEventTriggered","compName","title","inputForm","isExpanded","isBlockExpand"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","customerName"],["id","customerName","type","text","formControlName","customerName",3,"placeholder"],["class","error-message",4,"ngIf"],["for","mobile"],["id","mobile","type","text","formControlName","mobile",3,"placeholder"],["for","productName"],["id","productName","type","text","formControlName","productName",3,"placeholder"],["for","price"],["id","price","type","text","formControlName","price",3,"placeholder"],["for","paid"],["id","paid","formControlName","paid"],["for","orderStatus"],["id","orderStatus","formControlName","orderStatus"],[1,"error-message"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),I(1,"translate"),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(2,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(3,"div",2)(4,"label",3),f(5),I(6,"translate"),l(),b(7,"input",4),I(8,"translate"),M(9,Lf,3,3,"div",5),l(),d(10,"div",2)(11,"label",6),f(12),I(13,"translate"),l(),b(14,"input",7),I(15,"translate"),M(16,Bf,3,3,"div",5),l(),d(17,"div",2)(18,"label",8),f(19),I(20,"translate"),l(),b(21,"input",9),I(22,"translate"),M(23,zf,3,3,"div",5),l(),d(24,"div",2)(25,"label",10),f(26),I(27,"translate"),l(),b(28,"input",11),I(29,"translate"),M(30,jf,3,3,"div",5),l(),d(31,"div",2)(32,"label",12),f(33),I(34,"translate"),l(),b(35,"p-inputSwitch",13),l(),d(36,"div",2)(37,"label",14),f(38),I(39,"translate"),l(),b(40,"p-inputSwitch",15),l()()()),e&2){let i,r,a,s;u("compName","add-quick-sales")("title",D(1,20,"sales.add_sales"))("inputForm",n.salesForm)("isExpanded",n.defaultExpander)("isBlockExpand",n.isHeaderClickBlockExpand),p(2),u("formGroup",n.salesForm),p(3),E(D(6,22,"sales.customer_name")),p(2),u("placeholder",D(8,24,"sales.customer_name_placeholder")),p(2),u("ngIf",((i=n.salesForm.get("customerName"))==null?null:i.invalid)&&((i=n.salesForm.get("customerName"))==null?null:i.touched)),p(3),E(D(13,26,"sales.mobile_number")),p(2),u("placeholder",D(15,28,"sales.mobile_placeholder")),p(2),u("ngIf",((r=n.salesForm.get("mobile"))==null?null:r.invalid)&&((r=n.salesForm.get("mobile"))==null?null:r.touched)),p(3),E(D(20,30,"sales.product_name")),p(2),u("placeholder",D(22,32,"sales.product_placeholder")),p(2),u("ngIf",((a=n.salesForm.get("productName"))==null?null:a.invalid)&&((a=n.salesForm.get("productName"))==null?null:a.touched)),p(3),E(D(27,34,"sales.price")),p(2),u("placeholder",D(29,36,"sales.price_placeholder")),p(2),u("ngIf",((s=n.salesForm.get("price"))==null?null:s.invalid)&&((s=n.salesForm.get("price"))==null?null:s.touched)),p(3),E(D(34,38,"sales.paid")),p(5),E(D(39,40,"sales.order_status"))}},dependencies:[K,Qe,ve,ne,Q,be,Oe,Pe,ye,bt],styles:[".full-width-dropdown{width:100%}  .full-width-dropdown>span{padding:.5rem}  .add-quick-sales-form-container.template-container{background-color:#fff}"]})};var Uf=()=>({width:"150px",height:"40px"}),dd=()=>({width:"25rem"}),Hf=()=>({width:"200px",height:"40px"}),Yf=()=>[1,2,3,4,5,6,7,8,9],$f=o=>({$implicit:o});function Xf(o,t){if(o&1&&(d(0,"span"),f(1),l()),o&2){let e=C(3);p(),E(e.selectedSubscriptionProduct.product_name)}}function Kf(o,t){o&1&&(d(0,"span",39),f(1,"Dr.Kumaravel"),l())}function Qf(o,t){if(o&1&&M(0,Xf,2,1,"span",37)(1,Kf,2,0,"span",38),o&2){let e=C(2);u("ngIf",e.selectedSubscriptionProduct),p(),u("ngIf",!e.selectedSubscriptionProduct)}}function Jf(o,t){if(o&1){let e=k();d(0,"div",34)(1,"div",4)(2,"div",5),f(3,"Service"),l(),d(4,"p-dropdown",35),G("ngModelChange",function(i){O(e);let r=C();return W(r.selectedSubscriptionProduct,i)||(r.selectedSubscriptionProduct=i),P(i)}),x("onChange",function(i){O(e);let r=C();return P(r.onSubscriptionProductChange(i.value))}),M(5,Qf,2,2,"ng-template",36),l()()()}if(o&2){let e=C();p(4),fn(he(4,Hf)),u("options",e.subscriptionProducts),q("ngModel",e.selectedSubscriptionProduct)}}function Zf(o,t){o&1&&(d(0,"div",42),b(1,"div",43)(2,"div",44),l())}function eh(o,t){o&1&&(d(0,"div",40),M(1,Zf,3,0,"div",41),l()),o&2&&(p(),u("ngForOf",he(1,Yf)))}function th(o,t){if(o&1){let e=k();d(0,"div",45)(1,"div",46),b(2,"i",47),l(),d(3,"p",48),f(4),l(),d(5,"button",49),x("click",function(){O(e);let i=C();return P(i.loadSlotAvailability())}),f(6,"Try Again"),l()()}if(o&2){let e=C();p(4),E(e.errorMessage)}}function nh(o,t){if(o&1&&(d(0,"div",52)(1,"div",53),f(2),l(),d(3,"div",54),f(4),l()()),o&2){let e=t.$implicit,n=C(2);pe("unavailable",e.load===0)("available",e.load>0),p(2),E(n.formatTimeSlot(e.label)),p(2),V("(",e.load,")")}}function oh(o,t){if(o&1&&(d(0,"div",50),M(1,nh,5,6,"div",51),l()),o&2){let e=C();p(),u("ngForOf",e.timeSlots)}}function ih(o,t){o&1&&(d(0,"div",55)(1,"div",56),b(2,"i",57),l(),d(3,"h3",58),f(4,"No Slot Available"),l(),d(5,"p",59),f(6,"There are no time slots available for the selected date and service."),l()())}function rh(o,t){o&1&&(d(0,"div",60)(1,"div",61),b(2,"i",62),l(),d(3,"p"),f(4,"Loading orders..."),l()())}function ah(o,t){if(o&1&&(d(0,"option",84),f(1),l()),o&2){let e=t.$implicit,n=C().$implicit,i=C(2);u("value",i.getSlotDisplayValue(e))("selected",i.isSlotSelected(n,e)),p(),V(" ",i.getSlotDisplayLabel(e)," ")}}function sh(o,t){o&1&&(d(0,"div",85),b(1,"i",62),l())}function ch(o,t){o&1&&Ao(0)}function lh(o,t){if(o&1&&(d(0,"tr",86)(1,"td",87),M(2,ch,1,0,"ng-container",88),l()()),o&2){let e=C().$implicit;C(2);let n=le(33);p(2),u("ngTemplateOutlet",n)("ngTemplateOutletContext",wt(2,$f,e))}}function dh(o,t){if(o&1){let e=k();We(0),d(1,"tr",70)(2,"td",71)(3,"div",72),f(4),l(),d(5,"div",73),f(6),l()(),d(7,"td",74)(8,"div",75)(9,"select",76),G("ngModelChange",function(i){let r=O(e).$implicit;return W(r.slot_assignment,i)||(r.slot_assignment=i),P(i)}),x("change",function(i){let r=O(e).$implicit,a=C(2);return P(a.onSlotAssignmentChange(r,i))}),d(10,"option",77),f(11,"Unassigned"),l(),M(12,ah,2,3,"option",78),l(),M(13,sh,2,0,"div",79),l()(),d(14,"td",80)(15,"div",81)(16,"i",82),x("click",function(){let i=O(e).$implicit,r=C(2);return P(r.rowClicked(i))}),l()()()(),M(17,lh,3,4,"tr",83),Ge()}if(o&2){let e=t.$implicit,n=t.index,i=C(2);p(),pe("even-row",n%2===0),p(3),E(e.customer_name||"Unknown Customer"),p(2),E(e.order_type==="appointment"?"Appointment":"Token"),p(3),q("ngModel",e.slot_assignment),u("disabled",i.processingOrders.has(e.id)),p(3),u("ngForOf",i.timeSlots),p(),u("ngIf",i.processingOrders.has(e.id)),p(3),u("title","Click to "+(e.isActionEnabled?"collapse":"expand")),p(),u("ngIf",e.isActionEnabled)}}function ph(o,t){if(o&1&&(d(0,"div",63)(1,"table",64)(2,"thead")(3,"tr",65)(4,"th",66),f(5,"Name"),l(),d(6,"th",67),f(7,"Assign"),l(),d(8,"th",68),f(9,"Action"),l()()(),d(10,"tbody"),M(11,dh,18,10,"ng-container",69),l()()()),o&2){let e=C();p(11),u("ngForOf",e.orders)}}function gh(o,t){o&1&&(d(0,"div",89)(1,"div",90),b(2,"i",91),l(),d(3,"h3"),f(4,"No Orders Found"),l(),d(5,"p"),f(6,"There are no orders available for the current provider."),l()())}function mh(o,t){if(o&1){let e=k();d(0,"button",108),x("click",function(i){O(e);let r=C(2).$implicit;return C().acceptOrder(r),P(i.stopPropagation())}),b(1,"i",109),l()}}function uh(o,t){if(o&1){let e=k();d(0,"button",110),x("click",function(i){O(e);let r=C(2).$implicit;return C().rejectOrder(r),P(i.stopPropagation())}),b(1,"i",111),l()}}function fh(o,t){o&1&&(d(0,"div",112),b(1,"i",113),d(2,"span"),f(3,"Accepted"),l()())}function hh(o,t){o&1&&(d(0,"div",114),b(1,"i",115),d(2,"span"),f(3,"Rejected"),l()())}function _h(o,t){if(o&1){let e=k();d(0,"button",116),x("click",function(){O(e);let i=C(2).$implicit,r=C();return P(r.showEditDialog(i))}),b(1,"i",117),l()}}function bh(o,t){if(o&1){let e=k();d(0,"button",118),x("click",function(i){O(e);let r=C(2).$implicit;return C().completeOrder(r),P(i.stopPropagation())}),b(1,"i",113),l()}}function Ch(o,t){o&1&&(d(0,"div",119),b(1,"i",113),d(2,"span"),f(3,"Completed"),l()())}function vh(o,t){if(o&1){let e=k();d(0,"div",93)(1,"div",94)(2,"div",95),f(3),l(),d(4,"div",96),x("click",function(i){O(e);let r=C().$implicit;return C().rowClicked(r),P(i.stopPropagation())}),b(5,"i",97),l()(),d(6,"div",98),M(7,mh,2,0,"button",99)(8,uh,2,0,"button",100)(9,fh,4,0,"div",101)(10,hh,4,0,"div",102),d(11,"button",103),x("click",function(){O(e);let i=C().$implicit,r=C();return P(r.deleteDialog(i))}),b(12,"i",104),l(),M(13,_h,2,0,"button",105)(14,bh,2,0,"button",106)(15,Ch,4,0,"div",107),l()()}if(o&2){let e=C().$implicit;p(3),V(" ",e.customer_name||"Unknown Customer"," "),p(2),pe("rotated",!e.isActionEnabled),p(2),u("ngIf",e.status==="pending"),p(),u("ngIf",e.status==="pending"),p(),u("ngIf",e.status==="accepted"),p(),u("ngIf",e.status==="cancelled"),p(3),u("ngIf",e.status==="pending"||e.status==="accepted"),p(),u("ngIf",e.status==="pending"),p(),u("ngIf",e.status==="completed")}}function Oh(o,t){if(o&1&&M(0,vh,16,10,"div",92),o&2){let e=t.$implicit;u("ngIf",e)}}function Ph(o,t){if(o&1){let e=k();d(0,"add-sales",120),x("onCancelTrigger",function(){O(e);let i=C();return P(i.visible=!1)}),l()}o&2&&u("defaultExpander",!0)("isHeaderClickBlockExpand",!0)}var Wi=class o{constructor(t,e,n,i,r,a,s,c,g){this.confirmationService=t;this.messageService=e;this.dialog=n;this.router=i;this.slotAvailabilityService=r;this.authService=a;this.productService=s;this.subscriptionProductsService=c;this.orderService=g}rowToBeEdited;isLoadingSlots=!1;errorMessage="";slotAvailabilityData={date:"",slot_type:"",provider_id:0,slots:[]};selectedDate=new Date().toISOString().split("T")[0];selectedSlotType="provider";selectedProviderId=0;selectedProductId;products=[];selectedProduct;subscriptionProducts=[];selectedSubscriptionProduct;orders=[];isLoadingOrders=!1;processingOrders=new Set;slotTypeOptions=[{label:"Provider",value:"provider"},{label:"Service",value:"service"}];destroy$=new wo;services;visible=!1;confirmAmountDialog=!1;selectedService;assign;orderType;assignees=[];orderTypes=[];timeSlots=[];columns=[{displayName:"Name",displayValue:"name"},{displayName:"Assign",displayValue:"assign"},{displayName:"Act",displayValue:"quickAction"}];gridData=[];get ordersGridData(){return this.orders.map((t,e)=>({action:"",flag:"",assign:t.slot_id?"6:30pm-7:30pm":"Unassigned",quickAction:"",order:t.display_order_id,name:t.customer_name||"Unknown Customer",subName:t.order_type==="appointment"?"Appointment":"Token",isActionEnabled:!1,originalOrder:t}))}ngOnInit(){this.initializeComponent(),this.setLoggedInProviderId(),this.selectedSlotType==="service"?this.loadSubscriptionProducts():this.loadSlotAvailability(),this.loadOrders()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){this.services=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}],this.orderTypes=this.services,this.assignees=this.services,this.gridData=[]}setLoggedInProviderId(){this.selectedProviderId=this.authService.getSelectedProviderId(),console.log("Using provider ID:",this.selectedProviderId)}loadProducts(){this.productService.list().subscribe({next:t=>{console.log("Products loaded:",t),this.products=t.data||t||[]},error:t=>{console.error("Error loading products:",t),this.products=[]}})}loadSubscriptionProducts(){this.selectedProviderId&&this.subscriptionProductsService.getSubscriptionProducts(this.selectedProviderId).pipe(Eo(this.destroy$)).subscribe({next:t=>{this.subscriptionProducts=t.data?.products?.filter(e=>e.is_service===!0)||[],console.log("Filtered subscription products (is_service: true):",this.subscriptionProducts),this.subscriptionProducts.length>0&&(this.selectedSubscriptionProduct=this.subscriptionProducts[0],this.selectedProductId=this.subscriptionProducts[0].product_id,console.log("Auto-selected first product:",this.selectedSubscriptionProduct),this.loadSlotAvailability())},error:t=>{console.error("Error loading subscription products:",t),this.subscriptionProducts=[]}})}loadOrders(){if(this.selectedProviderId){this.isLoadingOrders=!0;let t=this.selectedDate,e=this.selectedDate;console.log("Delivery date for orders:",{deliveryFrom:t,deliveryTo:e}),this.orderService.getOrdersByProvider(this.selectedProviderId,void 0,t,e,void 0,void 0,0,10,"delivery").pipe(Eo(this.destroy$)).subscribe({next:n=>{this.orders=(n.orders||[]).map(i=>J(H({},i),{isActionEnabled:!1,slot_assignment:this.getInitialSlotAssignment(i)})),console.log("Orders loaded for delivery date:",{deliveryFrom:t,deliveryTo:e},this.orders),this.isLoadingOrders=!1},error:n=>{console.error("Error loading orders:",n),this.orders=[],this.isLoadingOrders=!1}})}}loadSlotAvailability(){this.isLoadingSlots=!0,this.errorMessage="";let t=H({slot_date:this.selectedDate,slot_type:this.selectedSlotType,provider_id:this.selectedProviderId},this.selectedProductId&&{product_id:this.selectedProductId});this.slotAvailabilityService.getSlotAvailability(t).pipe(Eo(this.destroy$)).subscribe({next:e=>{console.log("Slot Availability API Response:",e),this.slotAvailabilityData=e,this.updateTimeSlotsDisplay(),this.isLoadingSlots=!1},error:e=>{console.error("Error loading slot availability:",e),this.errorMessage="Failed to load slot availability. Please try again.",this.isLoadingSlots=!1}})}updateTimeSlotsDisplay(){console.log("Data-->",this.slotAvailabilityData);let t=this.slotAvailabilityData?.slots||this.slotAvailabilityData||[];t&&t.length>0?this.timeSlots=t.map(e=>({label:`${e.start_time}-${e.end_time}`,load:e.availability||e.slot_limit-e.occupancy,total:e.slot_limit,occupied:e.occupancy,slot_id:e.slot_id,is_available:e.enable&&e.occupancy<e.slot_limit})):this.timeSlots=[],console.log("TIMESLOTS-->",this.timeSlots)}onFilterChange(){this.loadSlotAvailability()}onDateChange(t){this.selectedDate=t,this.loadSlotAvailability(),this.loadOrders()}onWeekChanged(t){console.log("Week Range:",t.start,"to",t.end);let e=t.start.toISOString().split("T")[0];this.selectedDate=e,this.onFilterChange()}onSlotTypeChange(t){this.selectedSlotType=t,t==="provider"?(this.selectedProductId=void 0,this.selectedProduct=void 0,this.selectedSubscriptionProduct=void 0,this.loadSlotAvailability()):t==="service"&&this.loadSubscriptionProducts()}onProviderChange(t){this.selectedProviderId=t,this.onFilterChange()}onProductChange(t){this.selectedProduct=t,this.selectedProductId=t.product_id,this.loadSlotAvailability()}onSubscriptionProductChange(t){this.selectedSubscriptionProduct=t,this.selectedProductId=t.product_id,this.loadSlotAvailability()}formatTimeSlot(t){if(!t||!t.includes("-"))return t;let[e,n]=t.split("-"),i=r=>{let[a,s]=r.split(":"),c=parseInt(a),g=parseInt(s);return c===0?`12:${g.toString().padStart(2,"0")}am`:c<12?`${c}:${g.toString().padStart(2,"0")}am`:c===12?`12:${g.toString().padStart(2,"0")}pm`:`${c-12}:${g.toString().padStart(2,"0")}pm`};return`${i(e)}-${i(n)}`}editRow(t){console.log(t)}rowClicked(t){t.isActionEnabled=!t.isActionEnabled,console.log("Row clicked for order:",t.id,"isActionEnabled:",t.isActionEnabled),setTimeout(()=>{console.log("After timeout - isActionEnabled:",t.isActionEnabled)},100)}acceptOrder(t){this.processingOrders.has(t.id)||(console.log("Accepting order:",t),this.confirmationService.confirm({message:"Accept",header:"",icon:"",acceptIcon:"none",rejectIcon:"none",acceptLabel:"Confirm",rejectLabel:"Cancel",accept:()=>{this.processingOrders.add(t.id),this.orderService.updateOrderStatus(t.id,"accepted").subscribe({next:e=>{console.log("Order accepted successfully:",e),this.messageService.add({severity:"success",summary:"Success",detail:"Order accepted successfully."}),this.loadOrders(),this.processingOrders.delete(t.id)},error:e=>{console.error("Error accepting order:",e),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to accept order. Please try again."}),this.processingOrders.delete(t.id)}})},reject:()=>{}}))}rejectOrder(t){this.processingOrders.has(t.id)||(console.log("Rejecting order:",t),this.confirmationService.confirm({message:"Reject",header:"",icon:"",acceptIcon:"none",rejectIcon:"none",acceptLabel:"Confirm",rejectLabel:"Cancel",accept:()=>{this.processingOrders.add(t.id),this.orderService.updateOrderStatus(t.id,"cancelled").subscribe({next:e=>{console.log("Order rejected successfully:",e),this.messageService.add({severity:"success",summary:"Success",detail:"Order rejected successfully."}),this.loadOrders(),this.processingOrders.delete(t.id)},error:e=>{console.error("Error rejecting order:",e),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to reject order. Please try again."}),this.processingOrders.delete(t.id)}})},reject:()=>{}}))}deleteDialog(t){console.log("Delete clicked for order:",t),this.confirmationService.confirm({message:"Remove",header:"",icon:"",acceptIcon:"none",rejectIcon:"none",acceptLabel:"Confirm",rejectLabel:"Cancel",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"Record deleted"})},reject:()=>{}})}showEditDialog(t){console.log("Edit clicked for order:",t),this.visible=!0,this.rowToBeEdited=t}completeOrder(t){this.processingOrders.has(t.id)||(console.log("Completing order:",t),console.log("Complete button clicked for order:",t.id),t.payment_status==="paid"?this.updateOrderStatus(t.id,"completed",t):t?.amount>0?(console.log("Order has amount - showing payment confirmation"),this.openSimplePaymentDialog(t)):(console.log("Order has no amount - showing amount input dialog"),this.openPaymentConfirmationDialog(t)))}openSimplePaymentDialog(t){this.dialog.open(Wt,{width:"400px",data:{order:t,title:"Payment Confirmation",message:"Amount paid?",showAmountInput:!1,currentAmount:t.amount,showAmount:!0}}).afterClosed().subscribe(n=>{n!==void 0&&(n.confirmed?this.updateOrderWithPayment(t,t.amount,!0,"completed"):this.updateOrderWithPayment(t,t.amount,!1,"completed"))})}openPaymentConfirmationDialog(t){this.dialog.open(Wt,{width:"400px",data:{order:t,title:"Payment Confirmation",message:"Amount paid?",showAmountInput:!0,currentAmount:0,showAmount:!1}}).afterClosed().subscribe(n=>{n!==void 0&&(n.confirmed?this.updateOrderWithPayment(t,n.amount,!0,"completed"):this.updateOrderWithPayment(t,n.amount||0,!1,"completed"))})}updateOrderWithPayment(t,e,n,i){let r=J(H({},t),{amount:e,payment_status:n?"paid":"unpaid",status:i});console.log("OrderDetail:-->",t),console.log("UpdateData:-->",r),this.orderService.updateOrder(t.id,r).subscribe({next:a=>{console.log("Order updated successfully:",a);let s=n?"paid":"unpaid";this.messageService.add({severity:"success",summary:"Success",detail:`Order marked as ${s} and completed.`}),this.loadOrders()},error:a=>{console.error("Error updating order:",a),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update order. Please try again."})}})}updateOrderStatus(t,e,n){this.processingOrders.add(t),this.orderService.updateOrderStatus(t,e).subscribe({next:i=>{console.log(`Order ${e} successfully:`,i),this.messageService.add({severity:"success",summary:"Success",detail:`Order ${e} successfully.`}),this.loadOrders(),this.processingOrders.delete(t)},error:i=>{console.error(`Error ${e} order:`,i),this.messageService.add({severity:"error",summary:"Error",detail:`Failed to ${e} order. Please try again.`}),this.processingOrders.delete(t)}})}newOrderDialog(){this.router.navigate(["/providers/add-sales"])}getInitialSlotAssignment(t){if(!t.slot_id)return"Unassigned";let e=this.timeSlots.find(n=>n.slot_id===t.slot_id);if(e)return this.getSlotDisplayValue(e);if(t.slot_info&&t.slot_info.slot_id){let n=this.timeSlots.find(i=>i.slot_id===t.slot_info.slot_id);if(n)return this.getSlotDisplayValue(n)}return"Unassigned"}getSlotDisplayValue(t){return`${t.slot_id}:${t.label}`}getSlotDisplayLabel(t){return`${t.label} (${t.load}/${t.total})`}isSlotSelected(t,e){return!!(t.slot_id&&t.slot_id===e.slot_id||t.slot_info&&t.slot_info.slot_id===e.slot_id)}onSlotAssignmentChange(t,e){let n=e.target.value;if(console.log("Slot assignment changed for order:",t.id,"to:",n),this.processingOrders.add(t.id),n==="Unassigned")t.slot_id=null,t.slot_assignment="Unassigned",this.updateOrderSlotAssignment(t,null);else{let i=parseInt(n.split(":")[0]),r=this.timeSlots.find(a=>a.slot_id===i);r&&(t.slot_id=i,t.slot_assignment=this.getSlotDisplayValue(r),(!t.slot_info||t.slot_info.slot_id!==i)&&(t.slot_info={slot_id:i,slot_name:r.label,start_time:r.label.split("-")[0],end_time:r.label.split("-")[1],slot_limit:r.total||0,status:"Available"}),this.updateOrderSlotAssignment(t,i))}}updateOrderSlotAssignment(t,e){let n={slot_id:e,slot_info:e?t.slot_info:null};console.log("Updating order slot assignment:",t.id,"with data:",n),this.orderService.updateOrder(t.id,n).subscribe({next:i=>{console.log("Order slot assignment updated successfully:",i),this.messageService.add({severity:"success",summary:"Success",detail:`Order slot assignment ${e?"updated":"removed"} successfully.`}),this.processingOrders.delete(t.id)},error:i=>{console.error("Error updating order slot assignment:",i),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update order slot assignment. Please try again."}),this.processingOrders.delete(t.id),this.revertSlotAssignment(t)}})}revertSlotAssignment(t){if(t.slot_assignment=this.getInitialSlotAssignment(t),t.slot_assignment==="Unassigned")t.slot_id=null;else{let e=parseInt(t.slot_assignment.split(":")[0]),n=this.timeSlots.find(i=>i.slot_id===e);n&&(t.slot_id=e,t.slot_info={slot_id:e,slot_name:n.label,start_time:n.label.split("-")[0],end_time:n.label.split("-")[1],slot_limit:n.total||0,status:"Available"})}}static \u0275fac=function(e){return new(e||o)(y(Ie),y(Uo),y(Ct),y(rt),y(qi),y(B),y(Dt),y(Xo),y(Yt))};static \u0275cmp=N({type:o,selectors:[["order-slots"]],decls:49,vars:24,consts:[["actionTemplate",""],[1,"order-slots-container"],[1,"filters-section"],[1,"filter-row-single"],[1,"filter-group"],[1,"filter-label"],["type","date",1,"date-input",3,"ngModelChange","change","ngModel"],["optionLabel","label","optionValue","value","placeholder","Select Type","panelStyleClass","custom-dropdown-panel",3,"ngModelChange","onChange","options","ngModel"],[1,"header-section"],["class","filter-row-service",4,"ngIf"],[1,"new-order-btn",3,"click"],[1,"pi","pi-plus"],[1,"header"],[1,"time-slots-grid-container"],["class","time-slots-grid skeleton-grid",4,"ngIf"],["class","error-state",4,"ngIf"],["class","time-slots-grid",4,"ngIf"],["class","no-slots-message",4,"ngIf"],[1,"grid-filter"],[1,"table-wrapper"],[1,"table-container"],["class","loading-state",4,"ngIf"],["class","orders-table",4,"ngIf"],["class","no-orders-message",4,"ngIf"],[3,"visibleChange","modal","visible"],["pTemplate","headless"],["header","Confirm Received amount",3,"visibleChange","modal","visible"],[1,"form-group"],["for","amount"],["id","amount","type","number","placeholder","Amount"],[1,"form-container"],[1,"button-container"],[1,"cancel-button",3,"click"],[1,"submit-button",3,"click"],[1,"filter-row-service"],["optionLabel","product_name","placeholder","Select Service","panelStyleClass","custom-dropdown-panel",3,"ngModelChange","onChange","options","ngModel"],["pTemplate","selectedItem"],[4,"ngIf"],["class","placeholder-text",4,"ngIf"],[1,"placeholder-text"],[1,"time-slots-grid","skeleton-grid"],["class","time-slot-card skeleton-card",4,"ngFor","ngForOf"],[1,"time-slot-card","skeleton-card"],[1,"skeleton-time"],[1,"skeleton-availability"],[1,"error-state"],[1,"error-icon"],[1,"pi","pi-exclamation-triangle"],[1,"error-message"],[1,"retry-button",3,"click"],[1,"time-slots-grid"],["class","time-slot-card",3,"unavailable","available",4,"ngFor","ngForOf"],[1,"time-slot-card"],[1,"time-label"],[1,"availability-count"],[1,"no-slots-message"],[1,"no-slots-icon"],[1,"pi","pi-calendar-times"],[1,"no-slots-title"],[1,"no-slots-description"],[1,"loading-state"],[1,"loading-spinner"],[1,"pi","pi-spin","pi-spinner"],[1,"orders-table"],[1,"orders-table-content"],[1,"table-header"],[1,"th-name"],[1,"th-assign"],[1,"th-action"],[4,"ngFor","ngForOf"],[1,"tr-action-table"],[1,"td-name"],[1,"name"],[1,"subname"],[1,"td-slot"],[1,"select-wrap"],[3,"ngModelChange","change","ngModel","disabled"],["value","Unassigned"],[3,"value","selected",4,"ngFor","ngForOf"],["class","slot-loading",4,"ngIf"],[1,"td-act"],[1,"act-icons"],[1,"pi","pi-ellipsis-h",3,"click","title"],["class","action-row",4,"ngIf"],[3,"value","selected"],[1,"slot-loading"],[1,"action-row"],["colspan","3",1,"action-cell"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"no-orders-message"],[1,"no-orders-icon"],[1,"pi","pi-inbox"],["class","action-container",4,"ngIf"],[1,"action-container"],[1,"action-header"],[1,"action-title"],[1,"action-collapse",3,"click"],[1,"pi","pi-angle-up"],[1,"action-btn-container"],["class","action-btn accept-btn",3,"click",4,"ngIf"],["class","action-btn reject-btn",3,"click",4,"ngIf"],["class","status-badge accepted",4,"ngIf"],["class","status-badge rejected",4,"ngIf"],[1,"action-btn","remove-btn",3,"click"],[1,"pi","pi-trash"],["class","action-btn edit-btn",3,"click",4,"ngIf"],["class","action-btn complete-btn",3,"click",4,"ngIf"],["class","status-badge completed",4,"ngIf"],[1,"action-btn","accept-btn",3,"click"],[1,"pi","pi-check"],[1,"action-btn","reject-btn",3,"click"],[1,"pi","pi-times"],[1,"status-badge","accepted"],[1,"pi","pi-check-circle"],[1,"status-badge","rejected"],[1,"pi","pi-times-circle"],[1,"action-btn","edit-btn",3,"click"],[1,"pi","pi-pencil"],[1,"action-btn","complete-btn",3,"click"],[1,"status-badge","completed"],[3,"onCancelTrigger","defaultExpander","isHeaderClickBlockExpand"]],template:function(e,n){if(e&1){let i=k();d(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),f(5,"Date"),l(),d(6,"input",6),G("ngModelChange",function(a){return O(i),W(n.selectedDate,a)||(n.selectedDate=a),P(a)}),x("change",function(){return O(i),P(n.onDateChange(n.selectedDate))}),l()(),d(7,"div",4)(8,"div",5),f(9,"Type"),l(),d(10,"p-dropdown",7),G("ngModelChange",function(a){return O(i),W(n.selectedSlotType,a)||(n.selectedSlotType=a),P(a)}),x("onChange",function(a){return O(i),P(n.onSlotTypeChange(a.value))}),l()()()(),d(11,"div",8),M(12,Jf,6,5,"div",9),d(13,"button",10),x("click",function(){return O(i),P(n.newOrderDialog())}),b(14,"i",11),f(15," New Order "),l()(),d(16,"div",12),f(17," Availability "),l(),d(18,"div",13),M(19,eh,2,2,"div",14)(20,th,7,1,"div",15)(21,oh,2,1,"div",16)(22,ih,7,0,"div",17),l(),d(23,"div",18),b(24,"div")(25,"div")(26,"div"),l(),d(27,"div",19)(28,"div",20),M(29,rh,5,0,"div",21)(30,ph,12,1,"div",22)(31,gh,7,0,"div",23),l(),M(32,Oh,1,1,"ng-template",null,0,de),l()(),b(34,"p-toast")(35,"p-confirmDialog"),d(36,"p-dialog",24),G("visibleChange",function(a){return O(i),W(n.visible,a)||(n.visible=a),P(a)}),M(37,Ph,1,2,"ng-template",25),l(),d(38,"p-dialog",26),G("visibleChange",function(a){return O(i),W(n.confirmAmountDialog,a)||(n.confirmAmountDialog=a),P(a)}),d(39,"div",27)(40,"label",28),f(41,"Amount:"),l(),b(42,"input",29),l(),d(43,"div",30)(44,"div",31)(45,"button",32),x("click",function(){return O(i),P(n.confirmAmountDialog=!1)}),f(46," Cancel"),l(),d(47,"button",33),x("click",function(){return O(i),P(n.confirmAmountDialog=!1)}),f(48,"Confirm & close"),l()()()()}e&2&&(p(6),q("ngModel",n.selectedDate),p(4),fn(he(21,Uf)),u("options",n.slotTypeOptions),q("ngModel",n.selectedSlotType),p(2),u("ngIf",n.selectedSlotType==="service"),p(7),u("ngIf",n.isLoadingSlots),p(),u("ngIf",n.errorMessage&&!n.isLoadingSlots),p(),u("ngIf",!n.isLoadingSlots&&!n.errorMessage&&n.timeSlots.length>0),p(),u("ngIf",!n.isLoadingSlots&&!n.errorMessage&&n.timeSlots.length===0),p(7),u("ngIf",n.isLoadingOrders),p(),u("ngIf",!n.isLoadingOrders&&n.orders.length>0),p(),u("ngIf",!n.isLoadingOrders&&n.orders.length===0),p(5),fn(he(22,dd)),u("modal",!0),q("visible",n.visible),p(2),fn(he(23,dd)),u("modal",!0),q("visible",n.confirmAmountDialog))},dependencies:[oe,K,No,Ho,Ke,jo,qo,ne,ls,Q,Re,Ko,Ne,Qo,pn],styles:['.order-slots-container[_ngcontent-%COMP%]{padding:20px;background-color:#f8f9fa;min-height:100vh}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{margin-bottom:20px}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-end;margin-bottom:15px}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{color:#5d157c;font-size:14px;font-weight:500;margin-bottom:8px;display:block}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{width:150px;height:40px;padding:8px 12px;border:1px solid #e0e0e0;border-radius:8px;background:#fff;font-size:14px;color:#333}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#5d157c;box-shadow:0 0 0 2px #5d157c1a}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]     .p-dropdown{width:150px;height:40px;border:1px solid #e0e0e0;border-radius:8px;background:#fff}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-label{padding:8px 12px;font-size:14px;color:#333}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-trigger{width:32px;color:#666}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-service[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-service[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{color:#5d157c;font-size:14px;font-weight:500;margin-bottom:8px;display:block}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-service[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]     .p-dropdown{width:200px;height:40px;border:1px solid #e0e0e0;border-radius:8px;background:#fff}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-service[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-label{padding:8px 12px;font-size:14px;color:#333}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-service[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-trigger{width:32px;color:#666}@media (max-width: 768px){.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]{flex-direction:row;gap:15px}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{width:100%}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-single[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]     .p-dropdown{width:100%!important}.order-slots-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-row-service[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]     .p-dropdown{width:100%!important}}.order-slots-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:30px}.order-slots-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .service-selection[_ngcontent-%COMP%]   .service-label[_ngcontent-%COMP%]{color:#5d157c;font-size:14px;font-weight:500;margin-bottom:8px;display:block}.order-slots-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .service-selection[_ngcontent-%COMP%]   .service-dropdown[_ngcontent-%COMP%]     .p-dropdown{width:200px;height:40px;border:1px solid #e0e0e0;border-radius:8px;background:#fff}.order-slots-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .service-selection[_ngcontent-%COMP%]   .service-dropdown[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-label{padding:8px 12px;font-size:14px;color:#333}.order-slots-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .service-selection[_ngcontent-%COMP%]   .service-dropdown[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-trigger{width:32px;color:#666}.order-slots-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .service-selection[_ngcontent-%COMP%]   .service-display[_ngcontent-%COMP%]   .service-name[_ngcontent-%COMP%]{display:inline-block;padding:8px 12px;background:#fff;border:1px solid #e0e0e0;border-radius:8px;font-size:14px;color:#333;min-width:200px;height:24px;line-height:24px}.order-slots-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .new-order-btn[_ngcontent-%COMP%]{background:#5d157c;color:#fff;border:none;border-radius:8px;padding:10px 20px;font-size:14px;font-weight:500;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s ease}.order-slots-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .new-order-btn[_ngcontent-%COMP%]:hover{background:#4a1265;transform:translateY(-1px)}.order-slots-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .new-order-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.order-slots-container[_ngcontent-%COMP%]   .hidden-filters[_ngcontent-%COMP%]{display:none}.order-slots-container[_ngcontent-%COMP%]   .row.control[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.order-slots-container[_ngcontent-%COMP%]   .row.control[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#4f126a;font-size:.688rem;font-weight:400}.order-slots-container[_ngcontent-%COMP%]   .row.control[_ngcontent-%COMP%]   .new-order-btn[_ngcontent-%COMP%]{background-color:#5d157c;padding:0 .75rem;color:#fff;font-size:.875rem;font-weight:400;height:2.25rem;border-radius:.75rem}.order-slots-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#5d157c;font-size:18px;font-weight:700;margin-bottom:20px}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]{margin-bottom:30px}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;max-width:600px}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid[_ngcontent-%COMP%]   .time-slot-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:16px;text-align:center;min-height:80px;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:all .2s ease}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid[_ngcontent-%COMP%]   .time-slot-card[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%]{color:#5d157c;font-size:14px;font-weight:500;margin-bottom:4px}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid[_ngcontent-%COMP%]   .time-slot-card[_ngcontent-%COMP%]   .availability-count[_ngcontent-%COMP%]{color:#5d157c;font-size:14px;font-weight:500}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid[_ngcontent-%COMP%]   .time-slot-card.unavailable[_ngcontent-%COMP%]{background:#f5f5f5;border-color:#d0d0d0}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid[_ngcontent-%COMP%]   .time-slot-card.unavailable[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid[_ngcontent-%COMP%]   .time-slot-card.unavailable[_ngcontent-%COMP%]   .availability-count[_ngcontent-%COMP%]{color:#999}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid[_ngcontent-%COMP%]   .time-slot-card.available[_ngcontent-%COMP%]{background:#fff;border-color:#5d157c}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid[_ngcontent-%COMP%]   .time-slot-card.available[_ngcontent-%COMP%]:hover{background:#f8f5ff;transform:translateY(-2px);box-shadow:0 4px 12px #5d157c26}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid.skeleton-grid[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{background:#f0f0f0;border:1px solid #e0e0e0;border-radius:8px;padding:16px;min-height:80px;display:flex;flex-direction:column;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid.skeleton-grid[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-time[_ngcontent-%COMP%]{width:80%;height:16px;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;border-radius:4px;margin-bottom:8px}.order-slots-container[_ngcontent-%COMP%]   .time-slots-grid-container[_ngcontent-%COMP%]   .time-slots-grid.skeleton-grid[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-availability[_ngcontent-%COMP%]{width:40%;height:14px;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;border-radius:4px}.order-slots-container[_ngcontent-%COMP%]   .no-slots-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px;text-align:center;background:#fff;border-radius:12px;border:1px solid #e0e0e0;max-width:600px}.order-slots-container[_ngcontent-%COMP%]   .no-slots-message[_ngcontent-%COMP%]   .no-slots-icon[_ngcontent-%COMP%]{margin-bottom:20px}.order-slots-container[_ngcontent-%COMP%]   .no-slots-message[_ngcontent-%COMP%]   .no-slots-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#999}.order-slots-container[_ngcontent-%COMP%]   .no-slots-message[_ngcontent-%COMP%]   .no-slots-title[_ngcontent-%COMP%]{color:#333;font-size:20px;font-weight:600;margin:0 0 12px}.order-slots-container[_ngcontent-%COMP%]   .no-slots-message[_ngcontent-%COMP%]   .no-slots-description[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0;line-height:1.5;max-width:400px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{margin-top:20px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#5d157c}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 20px #00000014;border:1px solid #f0f0f0;width:100%;max-width:100%;overflow-x:auto}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]{width:100%;min-width:100%;border-collapse:separate;border-spacing:0;table-layout:fixed}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5d157c,#6a1fd9);color:#fff;position:relative}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.3) 50%,transparent 100%)}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 24px;text-align:center;font-weight:600;font-size:14px;border:none;position:relative}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:last-child):after{content:"";position:absolute;right:0;top:25%;bottom:25%;width:1px;background:#fff3}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th.th-name[_ngcontent-%COMP%]{text-align:left;font-weight:700;font-size:15px;width:40%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th.th-assign[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:15px;width:35%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th.th-action[_ngcontent-%COMP%]{text-align:right;font-weight:700;font-size:15px;width:25%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]{border-bottom:1px solid #f5f5f5;transition:all .3s cubic-bezier(.4,0,.2,1);background-color:#fff;position:relative}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]:hover{background-color:#f8f5ff;transform:translateY(-1px);box-shadow:0 4px 12px #5d157c1a;z-index:1}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table.even-row[_ngcontent-%COMP%]{background-color:#fafafa}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table.even-row[_ngcontent-%COMP%]:hover{background-color:#f0ebff}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]:last-child{border-bottom:none}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 24px;vertical-align:middle;border:none;position:relative}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-name[_ngcontent-%COMP%]{width:40%;word-wrap:break-word;overflow-wrap:break-word}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;font-size:15px;color:#2c3e50;margin-bottom:6px;letter-spacing:.3px;word-break:break-word;line-height:1.3}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-name[_ngcontent-%COMP%]   .subname[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d;font-weight:500;text-transform:uppercase;letter-spacing:.5px;background:#ecf0f1;padding:2px 8px;border-radius:12px;display:inline-block;white-space:nowrap}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]{text-align:center;width:35%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:180px;min-width:120px;padding:10px 14px;border:2px solid #e8e8e8;border-radius:10px;background:#fff;font-size:13px;font-weight:500;color:#2c3e50;transition:all .3s ease;cursor:pointer}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#5d157c;box-shadow:0 2px 8px #5d157c1a}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#5d157c;box-shadow:0 0 0 3px #5d157c26;transform:translateY(-1px)}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{background-color:#f8f9fa;color:#6c757d;cursor:not-allowed;opacity:.7}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   .slot-loading[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);color:#5d157c;font-size:14px;pointer-events:none;z-index:10}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   .slot-loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:spin 1s linear infinite}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-act[_ngcontent-%COMP%]{text-align:right;width:25%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-act[_ngcontent-%COMP%]   .act-icons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:8px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-act[_ngcontent-%COMP%]   .act-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;color:#7f8c8d;cursor:pointer;padding:12px;border-radius:8px;transition:all .3s cubic-bezier(.4,0,.2,1);background:#f8f9fa;border:2px solid transparent;flex-shrink:0}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-act[_ngcontent-%COMP%]   .act-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5d157c,#6a1fd9);color:#fff;transform:translateY(-2px) scale(1.05);box-shadow:0 4px 12px #5d157c4d;border-color:#fff3}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-act[_ngcontent-%COMP%]   .act-icons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-shrink:0;white-space:nowrap}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f5ff,#f0ebff);border-top:2px solid #e8e8e8}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]{padding:0;border:none}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{padding:24px;background:linear-gradient(135deg,#f8f5ff,#f0ebff);border-radius:0 0 12px 12px;position:relative}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:24px;right:24px;height:1px;background:linear-gradient(90deg,transparent 0%,#5D157C 50%,transparent 100%);opacity:.3}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]   .action-title[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]   .action-collapse[_ngcontent-%COMP%]{cursor:pointer;padding:4px;border-radius:4px;transition:background-color .2s ease}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]   .action-collapse[_ngcontent-%COMP%]:hover{background-color:#0000000d}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]   .action-collapse[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:#666;cursor:pointer;transition:all .2s ease}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]   .action-collapse[_ngcontent-%COMP%]   i.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]   .action-collapse[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#5d157c}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:flex-start;flex-wrap:wrap;width:100%;min-height:60px;padding:8px 0;max-width:100%;overflow-x:auto}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;border:none;border-radius:8px;cursor:pointer;transition:all .2s ease;font-size:12px;font-weight:500;box-shadow:0 2px 4px #0000001a}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.accept-btn[_ngcontent-%COMP%]{width:44px;height:44px;background-color:#10b981;color:#fff;border-radius:8px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.accept-btn[_ngcontent-%COMP%]:hover{background-color:#059669;transform:translateY(-1px);box-shadow:0 4px 8px #10b9814d}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.accept-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.reject-btn[_ngcontent-%COMP%]{width:44px;height:44px;background-color:#ef4444;color:#fff;border-radius:8px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.reject-btn[_ngcontent-%COMP%]:hover{background-color:#dc2626;transform:translateY(-1px);box-shadow:0 4px 8px #ef44444d}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.reject-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.remove-btn[_ngcontent-%COMP%]{width:44px;height:44px;background-color:#ef4444;color:#fff;border-radius:8px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.remove-btn[_ngcontent-%COMP%]:hover{background-color:#dc2626;transform:translateY(-1px);box-shadow:0 4px 8px #ef44444d}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.remove-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]{width:44px;height:44px;background-color:#5d157c;color:#fff;border-radius:8px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]:hover{background-color:#4a1265;transform:translateY(-1px);box-shadow:0 4px 8px #5d157c4d}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.complete-btn[_ngcontent-%COMP%]{width:44px;height:44px;background-color:#059669;color:#fff;border-radius:8px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.complete-btn[_ngcontent-%COMP%]:hover{background-color:#047857;transform:translateY(-1px);box-shadow:0 4px 8px #0596694d}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.complete-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px;align-items:center;justify-content:center;border-radius:8px;padding:10px 16px;font-size:12px;font-weight:500;min-width:80px;text-align:center;box-shadow:0 2px 4px #0000001a}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-bottom:4px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;line-height:1;font-weight:500}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.accepted[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.accepted[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d1fae5}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.rejected[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.rejected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fecaca}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.completed[_ngcontent-%COMP%]{background-color:#059669;color:#fff}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.completed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d1fae5}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.completed[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]{margin-top:4px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.completed[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;padding:2px 6px;border-radius:6px;font-weight:500}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.completed[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]   span.payment-paid[_ngcontent-%COMP%]{background:#22c55e33;color:#16a34a}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.completed[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]   span.payment-unpaid[_ngcontent-%COMP%]{background:#ef444433;color:#dc2626}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-cell[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .status-badge.completed[_ngcontent-%COMP%]   .payment-status[_ngcontent-%COMP%]   span.payment-pending[_ngcontent-%COMP%]{background:#f59e0b33;color:#d97706}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .no-orders-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px;text-align:center;background:linear-gradient(135deg,#fff,#f8f9fa);border-radius:20px;border:2px solid #e8e8e8;box-shadow:0 8px 32px #0000000f;position:relative;overflow:hidden}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .no-orders-message[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#5d157c,#6a1fd9,#5d157c);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 2s infinite}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .no-orders-message[_ngcontent-%COMP%]   .no-orders-icon[_ngcontent-%COMP%]{margin-bottom:24px;padding:20px;background:linear-gradient(135deg,#f8f5ff,#f0ebff);border-radius:50%;border:3px solid #e8e8e8}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .no-orders-message[_ngcontent-%COMP%]   .no-orders-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:56px;color:#5d157c;opacity:.7}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .no-orders-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;font-size:22px;font-weight:700;margin:0 0 12px;letter-spacing:.5px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .no-orders-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;font-size:16px;margin:0;font-weight:500;line-height:1.6}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@media (max-width: 768px){.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;font-size:13px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th.th-name[_ngcontent-%COMP%]{width:35%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th.th-assign[_ngcontent-%COMP%]{width:40%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th.th-action[_ngcontent-%COMP%]{width:25%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-name[_ngcontent-%COMP%]{width:35%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]{width:40%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-act[_ngcontent-%COMP%]{width:25%}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   td.td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{max-width:140px;min-width:100px;font-size:12px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{padding:16px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]{gap:8px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{min-width:70px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.accept-btn[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.reject-btn[_ngcontent-%COMP%]{width:36px;height:36px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.accept-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.reject-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.remove-btn[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.complete-btn[_ngcontent-%COMP%]{padding:6px 10px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.remove-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.complete-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;margin-bottom:2px}.order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.remove-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.edit-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .orders-table-content[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   .action-btn.complete-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:9px}}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer[_ngcontent-%COMP%]{margin:.125rem;border-radius:.5rem;width:6.5rem;border:1px solid #5d157c;text-align:center;padding:.5rem;transition:all .2s ease}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#5d157c;font-weight:700;display:block;margin-bottom:.25rem}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer[_ngcontent-%COMP%]   .load[_ngcontent-%COMP%]{font-size:.75rem;color:#666;display:block}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer[_ngcontent-%COMP%]   .load.full[_ngcontent-%COMP%]{color:#dc3545;font-weight:600}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:.625rem;font-weight:600;display:block;margin-top:.25rem;text-transform:uppercase}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer.available[_ngcontent-%COMP%]{border-color:#28a745;background-color:#28a7450d}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer.available[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer.available[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{color:#28a745}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer.unavailable[_ngcontent-%COMP%]{border-color:#dc3545;background-color:#dc35450d}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer.unavailable[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer.unavailable[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{color:#dc3545}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .skeleton-slots[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .skeleton-slots[_ngcontent-%COMP%]   .skeleton-slot[_ngcontent-%COMP%]{width:6.5rem;height:4rem;border-radius:.5rem;background:#f3f4f6;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:.5rem;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .skeleton-slots[_ngcontent-%COMP%]   .skeleton-slot[_ngcontent-%COMP%]   .skeleton-time-label[_ngcontent-%COMP%]{width:60%;height:.75rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;border-radius:.25rem}.order-slots-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .skeleton-slots[_ngcontent-%COMP%]   .skeleton-slot[_ngcontent-%COMP%]   .skeleton-load-info[_ngcontent-%COMP%]{width:40%;height:.5rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;border-radius:.25rem}.order-slots-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;background:#f8f9fa;border-radius:.5rem;margin:1rem 0}.order-slots-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.order-slots-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#dc3545}.order-slots-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-bottom:1rem;text-align:center}.order-slots-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#5d157c;color:#fff;border:none;border-radius:.375rem;font-weight:500;cursor:pointer;transition:all .2s ease}.order-slots-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background:#3c0e50}.order-slots-container[_ngcontent-%COMP%]   .publish-user-btn-wrap[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:30px}.order-slots-container[_ngcontent-%COMP%]   .publish-user-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#5d157c;color:#fff;border:none;border-radius:8px;padding:12px 24px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.order-slots-container[_ngcontent-%COMP%]   .publish-user-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#4a1265;transform:translateY(-1px);box-shadow:0 4px 12px #5d157c4d}.order-slots-container[_ngcontent-%COMP%]   .grid-filter[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.5rem}.order-slots-container[_ngcontent-%COMP%]   .grid-filter[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:40%}.order-slots-container[_ngcontent-%COMP%]   .grid-filter[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]     p-dropdown .p-dropdown.p-component.p-inputwrapper{padding:0}.order-slots-container[_ngcontent-%COMP%]   .grid-filter[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]     p-dropdown .p-dropdown.p-component.p-inputwrapper span.p-element.p-dropdown-label.p-inputtext.p-placeholder{padding:0;padding-left:.5rem}.order-slots-container[_ngcontent-%COMP%]   .grid-filter[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]     p-dropdown .p-dropdown.p-component.p-inputwrapper.p-inputwrapper-filled .p-element.p-dropdown-label.p-inputtext{padding:0;padding-left:.5rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{margin-bottom:3rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-name[_ngcontent-%COMP%]{padding-left:.5rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#171a1f;font-weight:700}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-name[_ngcontent-%COMP%]   .subname[_ngcontent-%COMP%]{color:#565d6d;font-size:11px;font-weight:400}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]{font-size:11px}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-act[_ngcontent-%COMP%]{text-align:center}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-act[_ngcontent-%COMP%]   .act-icons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:.5rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-order-seq[_ngcontent-%COMP%], .order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-flag[_ngcontent-%COMP%]{text-align:center}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{background:#f9f2fd;padding:1rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]   .action-title[_ngcontent-%COMP%]{color:#171a1f;font-size:.875rem;font-weight:700}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1rem 0;gap:.25rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#5d157c;color:#fff;padding:0 1rem;border-radius:6px;height:1.8rem;font-size:.875rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.remove-btn[_ngcontent-%COMP%]{color:#de3b40;border:1px solid #de3b40;background-color:#fff}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.accept[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;border-radius:6px;padding:8px 12px;height:1.8rem;min-width:40px;display:flex;align-items:center;justify-content:center;margin:0 .4rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.accept[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.accept[_ngcontent-%COMP%]:hover{background:#218838;transform:translateY(-1px);box-shadow:0 2px 8px #28a7454d}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.reject[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;border-radius:6px;padding:8px 12px;height:1.8rem;min-width:40px;display:flex;align-items:center;justify-content:center;margin:0 .4rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.reject[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.order-slots-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.reject[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-1px);box-shadow:0 2px 8px #dc35454d}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid grey;border-radius:5px;padding:.3rem}.form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem .9rem;margin:.5rem;border-radius:5px}.form-container[_ngcontent-%COMP%]   button.submit-button[_ngcontent-%COMP%]{color:#fff;background-color:#5d157c}.form-container[_ngcontent-%COMP%]   button.cancel-button[_ngcontent-%COMP%]{color:#9095a1}  .p-confirm-dialog .p-dialog{border-radius:16px!important;box-shadow:0 10px 30px #00000026!important;border:none!important;max-width:400px!important}  .p-confirm-dialog .p-dialog .p-dialog-header{display:none!important}  .p-confirm-dialog .p-dialog .p-dialog-content{padding:40px 30px 30px!important;text-align:center!important}  .p-confirm-dialog .p-dialog .p-dialog-content .p-confirm-dialog-message{font-size:18px!important;font-weight:600!important;color:#5d157c!important;line-height:1.4!important;margin-bottom:30px!important;padding:0!important}  .p-confirm-dialog .p-dialog .p-dialog-content .p-confirm-dialog-message:before{content:"Are you sure you want to";display:block;font-size:16px;font-weight:500;color:#5d157c;margin-bottom:4px}  .p-confirm-dialog .p-dialog .p-dialog-content .p-confirm-dialog-message:after{content:"?";font-size:20px;font-weight:700;color:#5d157c}  .p-confirm-dialog .p-dialog .p-dialog-content .p-confirm-dialog-message span,   .p-confirm-dialog .p-dialog .p-dialog-content .p-confirm-dialog-message div{display:none!important}  .p-confirm-dialog .p-dialog .p-dialog-footer{padding:0 30px 30px!important;border:none!important;background:transparent!important;text-align:center!important}  .p-confirm-dialog .p-dialog .p-dialog-footer .p-button{border-radius:12px!important;padding:12px 24px!important;font-weight:500!important;font-size:14px!important;border:none!important;min-width:100px!important;transition:all .2s ease!important}  .p-confirm-dialog .p-dialog .p-dialog-footer .p-button.p-confirm-dialog-reject{background-color:#f0f0f0!important;color:#666!important}  .p-confirm-dialog .p-dialog .p-dialog-footer .p-button.p-confirm-dialog-reject:hover{background-color:#e0e0e0!important;transform:translateY(-1px)!important}  .p-confirm-dialog .p-dialog .p-dialog-footer .p-button.p-confirm-dialog-reject:focus{box-shadow:none!important}  .p-confirm-dialog .p-dialog .p-dialog-footer .p-button.p-confirm-dialog-accept{background-color:#f8f5ff!important;color:#5d157c!important}  .p-confirm-dialog .p-dialog .p-dialog-footer .p-button.p-confirm-dialog-accept:hover{background-color:#f0ebff!important;transform:translateY(-1px)!important}  .p-confirm-dialog .p-dialog .p-dialog-footer .p-button.p-confirm-dialog-accept:focus{box-shadow:none!important}  .p-confirm-dialog .p-dialog .p-dialog-footer .p-button:not(:last-child){margin-right:16px!important}@keyframes _ngcontent-%COMP%_skeleton-loading{0%{background-position:-200% 0}to{background-position:200% 0}}']})};var xh=()=>({width:"25rem"}),yh=o=>({$implicit:o});function Sh(o,t){if(o&1&&(d(0,"div",11)(1,"span",12),f(2),l(),d(3,"span",13),f(4),l()()),o&2){let e=t.$implicit;p(2),V(" ",e.label," "),p(2),V("( ",e.load," )")}}function wh(o,t){o&1&&Ao(0)}function Th(o,t){if(o&1&&(d(0,"tr",25)(1,"td",26),M(2,wh,1,0,"ng-container",27),l()()),o&2){let e=C().$implicit,n=C(),i=le(12);p(),to("colspan",n.columns.length),p(),u("ngTemplateOutlet",i)("ngTemplateOutletContext",wt(3,yh,e))}}function kh(o,t){if(o&1){let e=k();We(0),d(1,"tr",14)(2,"td",15)(3,"div",16),f(4),l(),d(5,"div",17),f(6),l()(),d(7,"td",18)(8,"div",19)(9,"select")(10,"option",20),f(11),I(12,"translate"),l(),d(13,"option"),f(14),I(15,"translate"),l()()()(),d(16,"td",21)(17,"div",22)(18,"i",23),x("click",function(){let i=O(e).$implicit,r=C();return P(r.rowClicked(i))}),l()()()(),M(19,Th,3,5,"tr",24),Ge()}if(o&2){let e=t.$implicit;p(4),E(e.name),p(2),E(e.subName),p(5),E(D(12,5,"groupManage.time_slot_example")),p(3),E(D(15,7,"groupManage.time_slot_example")),p(5),u("ngIf",e.isActionEnabled)}}function Eh(o,t){if(o&1){let e=k();d(0,"div",29)(1,"div",30)(2,"div",31),f(3," Abc enterprise "),l(),d(4,"div"),b(5,"i",32),l()(),d(6,"div",33)(7,"button",34),x("click",function(){O(e);let i=C().$implicit,r=C();return P(r.deleteDialog(i))}),b(8,"i",35),f(9),I(10,"translate"),l(),d(11,"button",36),x("click",function(){O(e);let i=C().$implicit,r=C();return P(r.showEditDialog(i))}),b(12,"i",37),f(13),I(14,"translate"),l()()()}o&2&&(p(9),V(" ",D(10,2,"groupManage.remove")," "),p(4),V(" ",D(14,4,"groupManage.edit")," "))}function Ih(o,t){if(o&1&&M(0,Eh,15,6,"div",28),o&2){let e=t.$implicit;u("ngIf",e)}}function Dh(o,t){if(o&1){let e=k();d(0,"add-sales",38),x("onCancelTrigger",function(){O(e);let i=C();return P(i.visible=!1)}),l()}o&2&&u("defaultExpander",!0)("isHeaderClickBlockExpand",!0)}var Ui=class o{constructor(t,e){this.confirmationService=t;this.messageService=e}rowToBeEdited;newOrderDialogEnable=!1;visible=!1;confirmAmountDialog=!1;assign;orderType;assignees=[];orderTypes=[];timeSlots=[{label:"6-7",load:4},{label:"6-7",load:4},{label:"6-7",load:4},{label:"6-7",load:4},{label:"6-7",load:4},{label:"6-7",load:4}];columns=[{displayName:"Name",displayValue:"name"},{displayName:"Assign",displayValue:"assign"},{displayName:"Act",displayValue:"quickAction"}];gridData=[];ngOnInit(){this.gridData=[{isActionEnabled:!1,action:"",flag:"",assign:"",order:"1",quickAction:"",name:"Mahati",subName:"Appointment"},{order:"2",isActionEnabled:!1,action:"",flag:"",assign:"",quickAction:"",name:"Chandru",subName:"Token"},{order:"3",isActionEnabled:!1,action:"",flag:"",assign:"",quickAction:"",name:"Suresh",subName:"Token"},{order:"4",isActionEnabled:!1,action:"",flag:"",assign:"",quickAction:"",name:"Vishnu",subName:"Appointment"}]}editRow(t){console.log(t)}rowClicked(t){t.isActionEnabled=!t.isActionEnabled}showEditDialog(t){this.visible=!0,this.rowToBeEdited=t}deleteDialog(t){this.confirmationService.confirm({target:t.target,message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",acceptButtonStyleClass:"p-button-danger p-button-text",rejectButtonStyleClass:"p-button-text p-button-text",acceptIcon:"none",rejectIcon:"none",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"Record deleted"})},reject:()=>{}})}static \u0275fac=function(e){return new(e||o)(y(Ie),y(Uo))};static \u0275cmp=N({type:o,selectors:[["group-manage"]],decls:17,vars:13,consts:[["actionTemplate",""],[1,"group-manage-container"],[1,"header"],[1,"time-slot-container"],[1,"time-slot"],["class","time-displayer",4,"ngFor","ngForOf"],[1,"table-wrapper"],[3,"actionTemplate","data","columns"],[4,"ngFor","ngForOf"],[3,"visibleChange","modal","visible"],["pTemplate","headless"],[1,"time-displayer"],[1,"label"],[1,"load"],[1,"tr-action-table"],[1,"td-name"],[1,"name"],[1,"subname"],[1,"td-slot"],[1,"select-wrap"],["value",""],[1,"td-act"],[1,"act-icons"],[1,"pi","pi-ellipsis-h",3,"click"],["class","action-row",4,"ngIf"],[1,"action-row"],[1,""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","action-container",4,"ngIf"],[1,"action-container"],[1,"action-header"],[1,"action-title"],[1,"pi","pi-angle-up"],[1,"action-btn-container"],[1,"remove-btn",3,"click"],[1,"pi","pi-trash"],[1,"edit-btn",3,"click"],[1,"pi","pi-pencil"],[3,"onCancelTrigger","defaultExpander","isHeaderClickBlockExpand"]],template:function(e,n){if(e&1){let i=k();d(0,"div",1),b(1,"app-weekly-calendar"),d(2,"div",2),f(3),I(4,"translate"),l(),d(5,"div",3)(6,"div",4),M(7,Sh,5,2,"div",5),l()(),d(8,"div",6)(9,"grid-with-action",7),M(10,kh,20,9,"ng-container",8),l(),M(11,Ih,1,1,"ng-template",null,0,de),l()(),b(13,"p-toast")(14,"p-confirmDialog"),d(15,"p-dialog",9),G("visibleChange",function(a){return O(i),W(n.visible,a)||(n.visible=a),P(a)}),M(16,Dh,1,2,"ng-template",10),l()}if(e&2){let i=le(12);p(3),V(" ",D(4,10,"groupManage.availability")," "),p(4),u("ngForOf",n.timeSlots),p(2),u("actionTemplate",i)("data",n.gridData)("columns",n.columns),p(),u("ngForOf",n.gridData),p(5),fn(he(12,xh)),u("modal",!0),q("visible",n.visible)}},dependencies:[oe,K,No,ks,Es,Ho,jo,qo,Ko,Ne,Qo,pn,bt],styles:[".group-manage-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#4f126a;font-size:1rem;font-weight:700;margin-top:1rem}.group-manage-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]{margin-bottom:1rem}.group-manage-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.group-manage-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer[_ngcontent-%COMP%]{margin:.125rem;border-radius:.5rem;width:6.5rem;border:1px solid #5d157c;text-align:center}.group-manage-container[_ngcontent-%COMP%]   .time-slot-container[_ngcontent-%COMP%]   .time-slot[_ngcontent-%COMP%]   .time-displayer[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#5d157c;font-weight:700;display:block}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{margin-bottom:3rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-name[_ngcontent-%COMP%]{padding-left:.5rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#171a1f;font-weight:700}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-name[_ngcontent-%COMP%]   .subname[_ngcontent-%COMP%]{color:#565d6d;font-size:11px;font-weight:400}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-slot[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]{font-size:11px}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-act[_ngcontent-%COMP%]{text-align:center}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-act[_ngcontent-%COMP%]   .act-icons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:.5rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-order-seq[_ngcontent-%COMP%], .group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .tr-action-table[_ngcontent-%COMP%]   .td-flag[_ngcontent-%COMP%]{text-align:center}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{background:#f9f2fd;padding:1rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-header[_ngcontent-%COMP%]   .action-title[_ngcontent-%COMP%]{color:#171a1f;font-size:.875rem;font-weight:700}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:1rem 0;gap:.25rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#5d157c;color:#fff;padding:0 1rem;border-radius:6px;height:1.8rem;font-size:.875rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.remove-btn[_ngcontent-%COMP%]{color:#de3b40;border:1px solid #de3b40;background-color:#fff}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.accept[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;border-radius:6px;padding:8px 12px;height:1.8rem;min-width:40px;display:flex;align-items:center;justify-content:center;margin:0 .4rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.accept[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.accept[_ngcontent-%COMP%]:hover{background:#218838;transform:translateY(-1px);box-shadow:0 2px 8px #28a7454d}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.reject[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;border-radius:6px;padding:8px 12px;height:1.8rem;min-width:40px;display:flex;align-items:center;justify-content:center;margin:0 .4rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.reject[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.group-manage-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .action-row[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]   .action-btn-container[_ngcontent-%COMP%]   button.reject[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-1px);box-shadow:0 2px 8px #dc35454d}"]})};var Ah=["navTabsContainer"],Vh=o=>["/providers",o];function Rh(o,t){if(o&1&&(d(0,"header",9)(1,"div",10)(2,"h1"),f(3),l(),d(4,"div",11)(5,"span",12),f(6,"ALL Time Earning /Month"),l(),d(7,"span",13),f(8),l()()()()),o&2){let e=C();p(3),V("Hello ",e.userName,""),p(5),V("\u20B9",e.monthlyEarning,"")}}function Nh(o,t){if(o&1&&(d(0,"div",16)(1,"mat-icon",17),f(2),l(),d(3,"div",18)(4,"p"),f(5),l(),d(6,"h3"),f(7),I(8,"number"),l()()()),o&2){let e=t.$implicit;pe("warning",e.color==="warning"),p(2),E(e.mat_icon),p(3),E(e.label),p(2),E(D(8,5,e.value))}}function Lh(o,t){if(o&1&&(d(0,"div",14),M(1,Nh,9,7,"div",15),l()),o&2){let e=C();p(),u("ngForOf",e.stats)}}function Bh(o,t){if(o&1){let e=k();d(0,"button",19),x("click",function(){let i=O(e).$implicit,r=C();return P(r.setActiveTab(i))}),f(1),l()}if(o&2){let e=t.$implicit,n=C();pe("active",n.activeTab===e),p(),V(" ",e," ")}}function zh(o,t){if(o&1&&(d(0,"div",26)(1,"div",27)(2,"mat-icon",17),f(3),l(),d(4,"h3"),f(5),l()(),d(6,"p"),f(7),l()()),o&2){let e=t.$implicit;u("routerLink",wt(4,Vh,e.link)),p(3),E(e.mat_icon),p(2),E(e.title),p(2),E(e.description)}}function jh(o,t){if(o&1){let e=k();d(0,"button",31),x("click",function(){let i=O(e).$implicit,r=C(3);return P(r.setupLink(i))}),d(1,"mat-icon",17),f(2),l(),f(3),l()}if(o&2){let e=t.$implicit;p(2),E(e.mat_icon),p(),V(" ",e.label," ")}}function qh(o,t){if(o&1&&(d(0,"section",20)(1,"h2",28),f(2),l(),d(3,"div",29),M(4,jh,4,2,"button",30),l()()),o&2){let e=t.$implicit;p(),u("ngClass",e.className),p(),E(e.header),p(2),u("ngForOf",e.entity)}}function Wh(o,t){if(o&1){let e=k();d(0,"div",33),x("click",function(){let i=O(e).$implicit,r=C(3);return P(r.goToInfo(i.link))}),d(1,"div",34)(2,"div",35)(3,"div",36),f(4),l(),d(5,"div",37),f(6),l()(),d(7,"div",35),b(8,"img",38),l()()()}if(o&2){let e=t.$implicit;p(4),E(e.title),p(2),E(e.desc),p(2),u("src",e.image,Sn)}}function Gh(o,t){if(o&1&&(d(0,"section",20)(1,"h2"),f(2,"About Us Setup"),l(),M(3,Wh,9,3,"div",32),l()),o&2){let e=C(2);p(3),u("ngForOf",e.buisnessSetupCards)}}function Uh(o,t){if(o&1&&(We(0),d(1,"section",20)(2,"h2",21),f(3,"Daily Transactions"),l(),d(4,"div",22),M(5,zh,8,6,"div",23),l()(),M(6,qh,5,3,"section",24)(7,Gh,4,1,"section",25),Ge()),o&2){let e=C();p(5),u("ngForOf",e.dailyTransactions),p(),u("ngForOf",e.setupSections),p(),u("ngIf",e.role=="admin"||e.role=="")}}function Hh(o,t){o&1&&b(0,"business-dashboard")}function Yh(o,t){o&1&&b(0,"orders-overview")}function $h(o,t){o&1&&b(0,"order-dues")}function Xh(o,t){o&1&&b(0,"order-slots")}function Kh(o,t){o&1&&b(0,"group-manage")}function Qh(o,t){o&1&&b(0,"my-transactions")}var Hi=class o{constructor(t,e,n,i){this.router=t;this.route=e;this.dashboardService=n;this.authService=i;try{let r=this.router.getCurrentNavigation();if(!r){console.log("\u26A0\uFE0F No active navigation detected (likely a page reload)");return}let a=r.extras?.state;a?(this.userTabAccess=a.userTabAccess,this.accessibleTabs=this.userTabAccess?.tabs||[],this.role=a.card?.role,this.filterNavTabs(),this.filterSetupSections(),this.filterDailyTransactions()):(console.log("ELSE - No navigation state found"),console.log("NavTab-->",this.navTabs,this.activeTab))}catch(r){console.error("\u274C Exception caught:",r)}}navTabsContainer;touchStartY=0;touchEndY=0;touchStartX=0;touchEndX=0;userName="";monthlyEarning=0;setupSections=[];orderSummaryDetail;userTabAccess=null;accessibleTabs=[];role="";providerChangeSubscription;ngOnInit(){this.initializeDashboard(),this.setupProviderChangeListener(),this.setupQueryParamsListener()}loadUserTabAccess(){console.log("Checking for navigation state...");let t=this.router.getCurrentNavigation();console.log("Router navigation:",t);let e=t?.extras?.state;if(e||(e=window.history.state,console.log("Browser history state:",e)),!e){setTimeout(()=>{let n=this.router.getCurrentNavigation();console.log("Delayed navigation:",n);let i=n?.extras?.state||window.history.state;i&&i.userTabAccess?(this.userTabAccess=i.userTabAccess,this.accessibleTabs=i.userTabAccess.tabs||[],console.log("User tab access loaded (delayed):",this.userTabAccess),console.log("Accessible tabs (delayed):",this.accessibleTabs),this.filterNavTabs(),this.filterSetupSections(),this.filterDailyTransactions()):(console.log("No tab restrictions found even with delay, showing all tabs1"),this.accessibleTabs=this.navTabs)},100);return}console.log("Final state:",e),e&&e.userTabAccess?(this.userTabAccess=e.userTabAccess,this.accessibleTabs=e.userTabAccess.tabs||[],console.log("User tab access loaded:",this.userTabAccess),console.log("Accessible tabs:",this.accessibleTabs),this.filterNavTabs()):(this.accessibleTabs=this.navTabs,console.log("No tab restrictions, showing all tabs"))}filterNavTabs(){if(this.accessibleTabs&&this.accessibleTabs.length>0){let t={dashboard:"Dashboards",orders:"Orders",slots:"Slots",group:"Group",products:"Explore",sales:"Transaction",expenses:"Dues",members:"Explore"};this.navTabs=this.navTabs.filter(e=>{let n=Object.keys(t).find(i=>t[i]===e);return n?this.accessibleTabs.includes(n):!0}),this.activeTab=this.navTabs[0],console.log("Filtered navTabs:",this.navTabs,this.activeTab)}}initializeDashboard(){let t=this.authService.getProviderInfo();this.userName=t?.[0]?.display_name||"",this.setupSections=[{header:"Product Setup",className:"product-setup",entity:this.productSetup},{header:"Subscription Setup",className:"subscription-setup",entity:this.subscriptionSetup},{header:"Admin Setup",className:"admin-setup",entity:this.adminSetup}],this.filterSetupSections(),this.filterDailyTransactions(),this.triggerGetData()}filterSetupSections(){this.accessibleTabs&&this.accessibleTabs.length>0&&(this.setupSections=this.setupSections.map(t=>{let e=t.entity.filter(n=>({product:["products"],category:["products"],slots:["slots"],"member-card-setup":["members"],"setup-registration":["members"],"employee-setup":["group"],group:["group"],"order-review":["orders"],settings:["dashboard"]}[n.link||""]||[]).some(a=>this.accessibleTabs.includes(a)));return J(H({},t),{entity:e})}).filter(t=>t.entity.length>0))}filterDailyTransactions(){if(this.accessibleTabs&&this.accessibleTabs.length>0){let t={"add-sales":["sales"],expenses:["expenses"],members:["members"],enquiry:["orders"]};this.dailyTransactions=this.dailyTransactions.filter(e=>(t[e.link||""]||[]).some(i=>this.accessibleTabs.includes(i)))}}setupProviderChangeListener(){this.providerChangeSubscription=this.authService.providerChange$.subscribe(t=>{console.log("Provider changed in admin-dashboard:",t),t&&(this.userName=t.display_name||"",this.triggerGetData())})}setupQueryParamsListener(){this.route.queryParams.subscribe(t=>{t.tab&&this.navTabs.includes(t.tab)&&this.setActiveTab(t.tab)})}ngOnDestroy(){this.providerChangeSubscription&&this.providerChangeSubscription.unsubscribe()}stats=[{label:"Orders",value:1e4,icon:"cube",mat_icon:"store"},{label:"Delivered",value:9500,icon:"truck",mat_icon:"local_shipping"},{label:"Pending",value:500,icon:"clock",color:"warning",mat_icon:"pending_actions"},{label:"Overdue",value:400,icon:"clock",color:"warning",mat_icon:"hourglass_bottom"}];navTabs=["Explore","Dashboards","Orders","Dues","Slots","Group","Transaction"];dailyTransactions=[{title:"Sales",description:"Monitor revenue and performance",icon:"shopping-bag",mat_icon:"shopping_bag_outline",link:"add-sales"},{title:"Expense",description:"Log and track costs and optimize budgeting",icon:"credit-card",mat_icon:"receipt_long",link:"expenses"},{title:"Member",description:"Manage member subscriptions and engagement",icon:"users",mat_icon:"group",link:"members"},{title:"Enquiry",description:"Handle inquiries and enhance customer service",icon:"help-circle",mat_icon:"assignment_ind",link:"enquiry"}];productSetup=[{label:"Add Product",mat_icon:"inventory_2",link:"product"},{label:"Category Setup",mat_icon:"category",link:"category"},{label:"Slots Setting",mat_icon:"schedule",link:"slots"}];subscriptionSetup=[{label:"Card Setup",mat_icon:"badge",link:"member-card-setup"},{label:"Registration Setup",mat_icon:"app_registration",link:"setup-registration"},{label:"Offer Setup",mat_icon:"percent"},{label:"Subscription Setup",mat_icon:"badge",link:"subscription-setup"},{label:"Approval",mat_icon:"approval"}];adminSetup=[{label:"Add Employee",mat_icon:"person_add",link:"employee-setup"},{label:"Add Group",mat_icon:"group_add",link:"group"},{label:"Admin Setup",mat_icon:"engineering",link:"info/saved-provider-list"},{label:"Factory Setting",mat_icon:"settings",link:"settings"},{label:"Order review",mat_icon:"rate_review",link:"order-review"},{label:"Bank Detail",mat_icon:"credit_card",link:"info/bank-detail"}];buisnessSetupCards=[{title:"Business Profile",desc:"Update and manage information that represents your business to the public. Ensure all details are accurate and current.",image:"assets/images/bprofile.png",link:"about-us"},{title:"Business Card",desc:"Create and customize your business card to showcase essential contact details and branding.",image:"assets/images/bcard.png",link:"contact-us"}];activeTab="Explore";activePage="dashboard";swipeHandled=!1;goToInfo(t){this.router.navigate(["providers","info"],{state:{userType:"provider",link:t}})}goActionCard(t){this.router.navigate(["providers",t])}setupLink(t){t.link&&this.router.navigate(["providers",...t.link.split("/")])}triggerGetData(){console.log("=== TRIGGER DATA START ===");let t=this.authService.getSelectedProviderId();if(console.log("Selected Provider ID:",t),!t){console.warn("No provider selected, skipping data load");return}let e=new Date,n={year:e.getFullYear().toString(),month:(e.getMonth()+1).toString()};console.log("Query params:",n),this.dashboardService.getProviderDashboardData(Xt[0],t,n).subscribe(i=>{console.log("Dashboard data response:",i),this.orderSummaryDetail=i,this.monthlyEarning=this.orderSummaryDetail.order_value,this.stats=[{label:"Orders",value:i.order_total_count,icon:"cube",mat_icon:"store"},{label:"Delivered",value:i.order_delivered_count,icon:"truck",mat_icon:"local_shipping"},{label:"Pending",value:i.order_pending_count,icon:"clock",color:"warning",mat_icon:"pending_actions"},{label:"Overdue",value:i.order_overdue_value,icon:"clock",color:"warning",mat_icon:"hourglass_bottom"}],console.log("=== TRIGGER DATA END ===")})}onTouchStart(t){this.touchStartX=t.changedTouches[0].screenX,this.touchStartY=t.changedTouches[0].screenY,this.swipeHandled=!1}onTouchEnd(t){this.touchEndX=t.changedTouches[0].screenX,this.touchEndY=t.changedTouches[0].screenY,this.swipeHandled||(this.handleSwipeGesture(),this.swipeHandled=!0)}handleSwipeGesture(){let t=this.touchEndX-this.touchStartX,e=this.touchEndY-this.touchStartY,n=80,i=40;if(Math.abs(t)<n||Math.abs(t)<Math.abs(e))return;let r=this.navTabs.indexOf(this.activeTab);t>0&&r>0?this.setActiveTab(this.navTabs[r-1]):t<0&&r<this.navTabs.length-1&&this.setActiveTab(this.navTabs[r+1])}setActiveTab(t){console.log(t),this.activeTab=t,setTimeout(()=>this.scrollToActiveTab(),0),this.scrollToActiveTab()}scrollToActiveTab(){let t=this.navTabsContainer?.nativeElement;if(!t)return;let n=Array.from(t.querySelectorAll("button")).find(i=>i.classList.contains("active"));if(n){let i=t.offsetWidth,r=n.offsetLeft,a=n.offsetWidth,s=r-i/2+a/2;n.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}}prevTab(){let t=this.navTabs.indexOf(this.activeTab);t>0&&(this.activeTab=this.navTabs[t-1])}nextTab(){let t=this.navTabs.indexOf(this.activeTab);t<this.navTabs.length-1&&(this.activeTab=this.navTabs[t+1])}static \u0275fac=function(e){return new(e||o)(y(rt),y(zo),y(Je),y(B))};static \u0275cmp=N({type:o,selectors:[["app-admin-dashboard"]],viewQuery:function(e,n){if(e&1&&ft(Ah,5),e&2){let i;ht(i=_t())&&(n.navTabsContainer=i.first)}},decls:15,vars:10,consts:[["navTabsContainer",""],[1,"dashboard-container"],["class","header",4,"ngIf"],["class","stats-container",4,"ngIf"],[1,"nav-tabs-wrapper"],[1,"nav-tabs"],[3,"active","click",4,"ngFor","ngForOf"],[1,"swipe-area",3,"touchstart","touchend"],[4,"ngIf"],[1,"header"],[1,"header-content"],[1,"earning-info"],[1,"label"],[1,"amount"],[1,"stats-container"],["class","stat-card",3,"warning",4,"ngFor","ngForOf"],[1,"stat-card"],["fontSet","material-icons-outlined"],[1,"stat-info"],[3,"click"],[1,"section"],[1,"daily-trx"],[1,"cards-grid"],["class","action-card",3,"routerLink",4,"ngFor","ngForOf"],["class","section",4,"ngFor","ngForOf"],["class","section",4,"ngIf"],[1,"action-card",3,"routerLink"],[1,"action-card-title-card"],[3,"ngClass"],[1,"button-group"],["class","action-button",3,"click",4,"ngFor","ngForOf"],[1,"action-button",3,"click"],["class","business-card-setup",3,"click",4,"ngFor","ngForOf"],[1,"business-card-setup",3,"click"],[1,"row"],[1,"column"],[1,"title"],[1,"desc"],[3,"src"]],template:function(e,n){if(e&1){let i=k();d(0,"div",1),M(1,Rh,9,2,"header",2)(2,Lh,2,1,"div",3),d(3,"nav",4)(4,"div",5,0),M(6,Bh,2,3,"button",6),l()(),d(7,"div",7),x("touchstart",function(a){return O(i),P(n.onTouchStart(a))})("touchend",function(a){return O(i),P(n.onTouchEnd(a))}),M(8,Uh,8,3,"ng-container",8)(9,Hh,1,0,"business-dashboard",8)(10,Yh,1,0,"orders-overview",8)(11,$h,1,0,"order-dues",8)(12,Xh,1,0,"order-slots",8)(13,Kh,1,0,"group-manage",8)(14,Qh,1,0,"my-transactions",8),l()()}e&2&&(p(),u("ngIf",n.role=="admin"||n.role==""),p(),u("ngIf",n.role=="admin"||n.role==""),p(4),u("ngForOf",n.navTabs),p(2),u("ngIf",n.activeTab=="Explore"),p(),u("ngIf",n.activeTab==="Dashboards"),p(),u("ngIf",n.activeTab==="Orders"),p(),u("ngIf",n.activeTab==="Dues"),p(),u("ngIf",n.activeTab==="Slots"),p(),u("ngIf",n.activeTab==="Group"),p(),u("ngIf",n.activeTab==="Transaction"))},dependencies:[$e,oe,K,os,Yo,Ri,zi,ji,Wi,Ui,Bo],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:1rem;max-width:1200px;margin:0 auto}.dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4a1d96;font-size:1rem;margin-bottom:.5rem;font-weight:700}.dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .earning-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .earning-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#666;font-size:.875rem;font-weight:400}.dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .earning-info[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#4a1d96;font-weight:700;font-size:1.25rem}.dashboard-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;overflow:scroll;scrollbar-width:none}.dashboard-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{border:1px solid #5D157C;background:#f9f2fd;padding:1rem;border-radius:.5rem;display:flex;align-items:center;box-shadow:0 2px 4px #0000000d;flex-direction:column}.dashboard-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:1.875rem;width:1.875rem;height:1.875rem;color:#5d157c}.dashboard-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{text-align:center}.dashboard-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5d157c;font-size:.875rem;font-weight:700}.dashboard-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card.warning[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f59e0b}.dashboard-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4a1d96;margin:0;font-size:1rem}.dashboard-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.875rem}.dashboard-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{display:flex;gap:12px;background-color:#fff;overflow-x:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;scrollbar-width:none;margin-bottom:1rem}.dashboard-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.dashboard-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-shrink:0;padding:8px 16px;border:none;border-radius:12px;background-color:#f8eaff;color:#6a1b9a;font-weight:500;font-size:14px;cursor:pointer;transition:background-color .3s}.dashboard-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#d19ce6;color:#4a0072}.dashboard-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#eacbfa}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1f2937;font-size:1rem;font-weight:700;margin-bottom:.5rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:not(.daily-trx){font-size:1.25rem;margin-bottom:.5rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:.5rem;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52;flex:1}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-card-title-card[_ngcontent-%COMP%]{color:#5d157c;display:flex;justify-content:center;gap:.5rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-card-title-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#5d157c;font-weight:700;margin-bottom:.5rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2f4ad6;font-size:.75rem;margin:0;text-align:center}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{background:#5d157c;color:#fff;border:none;border-radius:.5rem;cursor:pointer;display:flex;align-items:center;gap:.5rem;font-size:.875rem;width:48%;padding:.3rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;height:1.25rem;width:1.25rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .business-card-setup[_ngcontent-%COMP%]{display:flex;box-shadow:0 0 1.5px #1c191d45,0 0 2px #1c191d52;border-radius:6px;padding:.75rem;margin-bottom:1rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .business-card-setup[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .business-card-setup[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]:first-child{width:90%;margin-right:1rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .business-card-setup[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;color:#171a1f;font-weight:700}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .business-card-setup[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:#9095a1;font-weight:400}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]   .stats-container[_ngcontent-%COMP%]{display:flex}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:row}.dashboard-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:48%}}.nav-tabs-wrapper[_ngcontent-%COMP%]{overflow-x:auto;scrollbar-width:none}.nav-tabs-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.nav-tabs[_ngcontent-%COMP%]{display:flex;gap:1rem;min-width:max-content}.nav-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;white-space:nowrap;cursor:pointer;border:none;background:none}.nav-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid #5D157C}"]})};function Jh(o,t){o&1&&(d(0,"div",11),f(1," Category Name is required. "),l())}function Zh(o,t){o&1&&(d(0,"div",11),f(1," Parent Category is required. "),l())}function e_(o,t){o&1&&(d(0,"div",11),f(1," Valid order is required. "),l())}var Yi=class o{constructor(t,e,n,i){this.fb=t;this.categoryServ=e;this.authService=n;this.toast=i;this.categoryForm=this.fb.group({name:["",R.required],parent_id:[null],img:[""],priority:["",[R.required]]})}fileUploadComponent;parentCategories=[];editFormValues=void 0;saveSuccess=new Ee;categoryForm;formExpanded=!1;submitBtnText="Add";ngOnChanges(t){t.editFormValues&&t.editFormValues.currentValue!=null&&this.setEditFormValue()}ngOnInit(){}setEditFormValue(){this.submitBtnText="Update",this.categoryForm.controls.name?.setValue(this.editFormValues?.name),this.categoryForm.controls.parent_id?.setValue(this.editFormValues?.parent_id),this.categoryForm.controls.img?.setValue(this.editFormValues?.img),this.categoryForm.controls.priority?.setValue(this.editFormValues?.priority),this.formExpanded=!0}onSubmit(){if(this.categoryForm.valid){console.log("Form Data:",this.categoryForm.value);let t=this.editFormValues?.product_category_id,e=this.categoryForm.value;e.provider_id=this.authService.getSelectedProviderId(),this.categoryServ.createOrUpdate(e,t).subscribe({next:n=>{console.log(n),this.saveSuccess.emit(n),this.editFormValues=void 0,this.categoryForm.reset(),this.fileUploadComponent.reset(),this.formExpanded=!1,this.toast.success("Success","Category saved successfully")},error:n=>{console.error("Error saving category:",n),this.toast.error("Error","Failed to save category. Please try again.")}})}}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.submitBtnText=="Add"?(this.categoryForm.reset(),this.formExpanded=!1):this.setEditFormValue()}afterUploadFile(t){this.categoryForm?.get("img")?.setValue(t[0])}static \u0275fac=function(e){return new(e||o)(y(Ce),y(En),y(B),y(ee))};static \u0275cmp=N({type:o,selectors:[["add-category"]],viewQuery:function(e,n){if(e&1&&ft(lt,5),e&2){let i;ht(i=_t())&&(n.fileUploadComponent=i.first)}},inputs:{parentCategories:"parentCategories",editFormValues:"editFormValues"},outputs:{saveSuccess:"saveSuccess"},features:[Ye],decls:18,vars:12,consts:[[3,"buttonEventTriggered","compName","title","inputForm","isExpanded","submitBtnText"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","type","text","placeholder","Category Name","formControlName","name"],["class","error-message",4,"ngIf"],["for","types"],["formControlName","parent_id","optionValue","product_category_id","optionLabel","name","styleClass","full-width-dropdown","placeholder","Select a Parent Category",1,"custom-dropdown",3,"options"],["for","priority"],["id","priority","type","text","placeholder","order","formControlName","priority"],[3,"uploadedUrls","enableMultiple","uploadedFileName"],[1,"error-message"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(1,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(2,"div",2)(3,"label",3),f(4,"Category Name"),l(),b(5,"input",4),M(6,Jh,2,0,"div",5),l(),d(7,"div",2)(8,"label",6),f(9," Parent Category (optional)"),l(),b(10,"p-dropdown",7),M(11,Zh,2,0,"div",5),l(),d(12,"div",2)(13,"label",8),f(14,"Priority"),l(),b(15,"input",9),M(16,e_,2,0,"div",5),l(),d(17,"file-upload",10),x("uploadedUrls",function(r){return n.afterUploadFile(r)}),l()()()),e&2){let i,r,a,s;u("compName","add-category")("title","Add Category")("inputForm",n.categoryForm)("isExpanded",n.formExpanded)("submitBtnText",n.submitBtnText),p(),u("formGroup",n.categoryForm),p(5),u("ngIf",((i=n.categoryForm.get("name"))==null?null:i.invalid)&&((i=n.categoryForm.get("name"))==null?null:i.touched)),p(4),u("options",n.parentCategories),p(),u("ngIf",((r=n.categoryForm.get("parent_id"))==null?null:r.invalid)&&((r=n.categoryForm.get("parent_id"))==null?null:r.touched)),p(5),u("ngIf",((a=n.categoryForm.get("priority"))==null?null:a.invalid)&&((a=n.categoryForm.get("priority"))==null?null:a.touched)),p(),u("enableMultiple",!1)("uploadedFileName",(s=n.categoryForm.get("img"))==null?null:s.value)}},dependencies:[K,lt,Ke,ve,ne,Q,be,Oe,Pe,ye],styles:[".full-width-dropdown{width:100%}  .full-width-dropdown>span{padding:.5rem}"]})};function n_(o,t){if(o&1){let e=k();d(0,"div",6),x("click",function(i){let r=O(e).$implicit;return C().handleActionClick(r,i),P(i.stopPropagation())}),d(1,"p-inputSwitch",7),G("ngModelChange",function(i){let r=O(e).$implicit;return W(r.enable,i)||(r.enable=i),P(i)}),l()()}if(o&2){let e=t.$implicit;p(),q("ngModel",e.enable)}}var $i=class o{constructor(t,e,n,i){this.authService=t;this.categoryService=e;this.confirmationService=n;this.toast=i}pageIndex=0;contentPerPage=Xe;total=0;searchTerm="";ngOnInit(){this.triggerGetCategories(void 0)}columns=[{displayName:"Name",displayValue:"name"},{displayName:"Parent",displayValue:"parent_name"},{displayName:"Action",displayValue:"action"}];parentCategories=[];categories=[];editCategory;edit(t){console.log(t),this.editCategory=t}remove(t){this.confirmDelete(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this category?",header:"Delete Category",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.categoryService.delete(t.product_category_id).subscribe({next:e=>{console.log(e),this.triggerGetCategories(void 0),this.toast.success("Success","Category deleted successfully")},error:e=>{console.error(e),this.toast.error("Failed","Failed to delete category")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}handleActionClick(t,e){e?.preventDefault(),console.log(t.enable),this.categoryService.update(t).subscribe({next:n=>{this.toast.success("Success","Category Updated successfully")},error:n=>{console.error("Error updating category:",n),this.toast.error("Error","Failed to update category. Please try again.")}})}triggerGetCategories(t){let e={skip:this.pageIndex*this.contentPerPage,limit:this.contentPerPage};this.searchTerm&&this.searchTerm.trim()!==""&&(e.search=this.searchTerm.trim()),this.categoryService.listWithTotal(e).subscribe(n=>{this.total=n.total,this.convertCategorySet(n.data)})}convertCategorySet(t){this.parentCategories=t.filter(n=>n.parent_id===null);let e=t.map(n=>{let i=this.parentCategories.find(r=>r.product_category_id===n.parent_id);return J(H({},n),{parent_name:i?.name,id:n.product_category_id??0,action:"viewTemplate"})});setTimeout(()=>{this.categories=e},200)}onPageChange(t){this.pageIndex=t,this.triggerGetCategories(void 0)}onContentPerPageChange(t){this.contentPerPage=t,this.pageIndex=0,this.triggerGetCategories(void 0)}onSearchChange(t){this.searchTerm=t,this.pageIndex=0,this.triggerGetCategories(void 0)}static \u0275fac=function(e){return new(e||o)(y(B),y(En),y(Ie),y(ee))};static \u0275cmp=N({type:o,selectors:[["app-category"]],decls:8,vars:12,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"saveSuccess","parentCategories","editFormValues"],[3,"onEditTrigger","onDeleteTrigger","pageChange","searchDataChange","contentPerPageChange","dataSet","columns","showDateFilter","actionTemplate","totalRecords","pageIndex","contentPerPage"],[1,"view",3,"click"],[3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3)(3,"add-category",4),x("saveSuccess",function(a){return O(i),P(n.triggerGetCategories(a))}),l()()(),b(4,"p-confirmDialog"),d(5,"simple-grid",5),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))}),l(),M(6,n_,2,1,"ng-template",null,0,de)}if(e&2){let i=le(7);u("title","Category")("icon","category")("showBack",!0),p(3),u("parentCategories",n.parentCategories)("editFormValues",n.editCategory),p(2),u("dataSet",n.categories)("columns",n.columns)("showDateFilter",!1)("actionTemplate",i)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)}},dependencies:[Le,me,Me,Qe,Q,Re,Ne,Yi],styles:[".full-width-dropdown{width:100%}  .full-width-dropdown>span{padding:.5rem}"]})};function o_(o,t){o&1&&(d(0,"div",10),f(1," Name is required. "),l())}function i_(o,t){o&1&&(d(0,"div"),f(1," Mobile number is required. "),l())}function r_(o,t){o&1&&(d(0,"div"),f(1," Enter a valid 10-digit mobile number. "),l())}function a_(o,t){if(o&1&&(d(0,"div",10),M(1,i_,2,0,"div",11)(2,r_,2,0,"div",11),l()),o&2){let e,n,i=C();p(),u("ngIf",(e=i.memberForm.get("member_mobile_number"))==null||e.errors==null?null:e.errors.required),p(),u("ngIf",(n=i.memberForm.get("member_mobile_number"))==null||n.errors==null?null:n.errors.pattern)}}function s_(o,t){if(o&1&&b(0,"input",13),o&2){let e=C(2).$implicit;Ze("id",e.label_name),u("formControlName",e.label_name)}}function c_(o,t){if(o&1&&(d(0,"textarea",14),f(1," "),l()),o&2){let e=C(2).$implicit;Ze("id",e.label_name),u("formControlName",e.label_name)}}function l_(o,t){if(o&1&&(d(0,"div"),M(1,s_,1,2,"input",13)(2,c_,2,2,"textarea",14),l()),o&2){let e=C().$implicit,n=C();p(),Fo(e.element_type===n.formElementType.BOX||e.element_type===n.formElementType.TEXT_BOX?1:e.element_type===n.formElementType.AREA?2:-1)}}function d_(o,t){if(o&1&&(d(0,"div",2)(1,"label",12),f(2),l(),M(3,l_,3,1,"div",11),l()),o&2){let e,n=t.$implicit,i=C();p(),Ze("for",n.label_name),p(),V(" ",n.label_name," "),p(),u("ngIf",(e=i.memberForm.get("member_json_form_obj"))==null?null:e.get(n.label_name))}}var Xi=class o{constructor(t,e,n,i,r){this.fb=t;this.authService=e;this.memberService=n;this.setupService=i;this.toast=r;this.memberForm=this.fb.group({member_name:["",R.required],member_mobile_number:["",[R.required,R.pattern(/^[6-9]\d{9}$/)]],member_json_form_obj:this.fb.group({})})}memberForm;editFormValues;saveSuccess=new Ee;formExpanded=!1;formElementType=no;regiseteredForm;registerFormRecords=[];submitBtnText="Add";ngOnInit(){let t=this.authService.getSelectedProviderId();this.setupService.getRegisteredForm("user",t).subscribe(e=>{this.regiseteredForm=e[0];let n=this.regiseteredForm.form_data[0].elements;n.forEach(i=>{this.addMemberJsonForm(i)}),this.registerFormRecords=n})}ngOnChanges(t){t.editFormValues&&t.editFormValues.currentValue!=null&&this.setEditFormValue()}addMemberJsonForm(t){let e=this.memberForm.get("member_json_form_obj");t.hasOwnProperty("label_name")&&e.addControl(t.label_name,new Ut)}setEditFormValue(){this.submitBtnText="Update";let t=this.memberForm.get("member_json_form_obj");if(this.memberForm.controls.member_name?.setValue(this.editFormValues?.member_name),this.memberForm.controls.member_mobile_number?.setValue(this.editFormValues?.member_mobile_number),this.editFormValues?.member_json_form){let e=this.editFormValues?.member_json_form;Object.keys(this.editFormValues?.member_json_form).length===0&&t.reset(),this.editFormValues?.member_json_form.forEach((n,i)=>{let r=Object.keys(n).filter(a=>a!=="display_for_user")[0];r&&(t.contains(r)||t.addControl(r,new Ut),t.controls[r].setValue(e[i][r]))})}this.formExpanded=!0}onSubmit(){if(this.memberForm.valid){console.log("Form Data:",this.memberForm.value);let t=this.memberForm.value;t.provider_id=this.authService.getSelectedProviderId(),t.member_mobile_number=t.member_mobile_number.toString(),t.myid_enabled=!0;let e=this.editFormValues?.member_id;t.member_json_form=this.registerFormRecords.map(n=>({[n.label_name]:t.member_json_form_obj[n.label_name],display_for_user:n.display_for_user})),this.memberService.createOrUpdate(t,e).subscribe({next:n=>{console.log(n),this.saveSuccess.emit(n),this.editFormValues=void 0,this.memberForm.reset(),this.formExpanded=!1,this.toast.success("Success","Member saved successfully")},error:n=>{console.error("Error:",n),this.toast.error("Error","Failed to add or update member")}}),console.log(t)}}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.submitBtnText=="Add"?this.memberForm.reset():this.setEditFormValue()}static \u0275fac=function(e){return new(e||o)(y(Ce),y(B),y($t),y(Ht),y(ee))};static \u0275cmp=N({type:o,selectors:[["add-member-form"]],inputs:{editFormValues:"editFormValues"},outputs:{saveSuccess:"saveSuccess"},features:[Ye],decls:14,vars:11,consts:[[3,"buttonEventTriggered","compName","title","inputForm","isExpanded","submitBtnText"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","type","text","placeholder","Name","formControlName","member_name"],["class","error-message",4,"ngIf"],["for","mobile"],["id","mobile","type","number","placeholder","Mobile no.","formControlName","member_mobile_number"],["formGroupName","member_json_form_obj",3,"title","defaultExpandedStatus"],["class","form-group",4,"ngFor","ngForOf"],[1,"error-message"],[4,"ngIf"],[3,"for"],["type","text",3,"formControlName","id"],[3,"formControlName","id"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(1,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(2,"div",2)(3,"label",3),f(4,"Name:"),l(),b(5,"input",4),M(6,o_,2,0,"div",5),l(),d(7,"div",2)(8,"label",6),f(9," Mobile Number:"),l(),b(10,"input",7),M(11,a_,3,2,"div",5),l(),d(12,"expander-template",8),M(13,d_,4,3,"div",9),l()()()),e&2){let i,r;u("compName","add-member")("title","Add Member")("inputForm",n.memberForm)("isExpanded",n.formExpanded)("submitBtnText",n.submitBtnText),p(),u("formGroup",n.memberForm),p(5),u("ngIf",((i=n.memberForm.get("member_name"))==null?null:i.invalid)&&((i=n.memberForm.get("member_name"))==null?null:i.touched)),p(5),u("ngIf",((r=n.memberForm.get("member_mobile_number"))==null?null:r.touched)&&((r=n.memberForm.get("member_mobile_number"))==null?null:r.invalid)),p(),u("title","Advance Registration")("defaultExpandedStatus",!0),p(),u("ngForOf",n.registerFormRecords)}},dependencies:[oe,K,In,ve,ne,at,Q,be,Oe,Pe,Tn,ye],styles:["form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{font-size:.875rem;color:#4f126a;margin:10px 0}"]})};function g_(o,t){if(o&1){let e=k();d(0,"div",6),x("click",function(){let i=O(e).$implicit,r=C();return P(r.handleActionClick(i))}),f(1,"View"),l()}}var Ki=class o{constructor(t,e,n,i){this.memberService=t;this.authService=e;this.confirmationService=n;this.toast=i}pageIndex=0;contentPerPage=Xe;total=0;searchTerm="";ngOnInit(){this.triggerGetMember(void 0)}columns=[{displayName:"Name",displayValue:"member_name"},{displayName:"Number",displayValue:"member_mobile_number"},{displayName:"Action",displayValue:"action"}];membersData=[];editMember=void 0;edit(t){console.log(t),this.editMember=t}remove(t){console.log(t),this.confirmDelete(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this member?",header:"Delete Member",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.memberService.delete(t.member_id).subscribe({next:e=>{console.log(e),this.triggerGetMember(void 0),this.toast.success("Success","Member deleted successfully")},error:e=>{console.error(e),this.toast.error("Failed","Failed to delete member")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}handleActionClick(t){console.log(t)}triggerGetMember(t){console.log("triggered");let e={skip:this.pageIndex*this.contentPerPage,limit:this.contentPerPage};this.searchTerm&&this.searchTerm.trim()!==""&&(e.search=this.searchTerm.trim()),this.memberService.listWithTotal(e).subscribe(n=>{this.total=n.total,this.convertMemberSet(n.data)})}convertMemberSet(t){let e=t.map(n=>J(H({},n),{id:n.member_id??0,action:"viewTemplate"}));setTimeout(()=>{this.membersData=e},200)}onPageChange(t){this.pageIndex=t,this.triggerGetMember(void 0)}onContentPerPageChange(t){this.contentPerPage=t,this.pageIndex=0,this.triggerGetMember(void 0)}onSearchChange(t){this.searchTerm=t,this.pageIndex=0,this.triggerGetMember(void 0)}static \u0275fac=function(e){return new(e||o)(y($t),y(B),y(Ie),y(ee))};static \u0275cmp=N({type:o,selectors:[["app-add-member"]],decls:8,vars:11,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"saveSuccess","editFormValues"],[3,"onEditTrigger","onDeleteTrigger","pageChange","searchDataChange","contentPerPageChange","dataSet","columns","showDateFilter","actionTemplate","totalRecords","pageIndex","contentPerPage"],[1,"view",3,"click"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3)(3,"add-member-form",4),x("saveSuccess",function(a){return O(i),P(n.triggerGetMember(a))}),l()()(),b(4,"p-confirmDialog"),d(5,"simple-grid",5),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))}),l(),M(6,g_,2,0,"ng-template",null,0,de)}if(e&2){let i=le(7);u("title","Members")("icon","group")("showBack",!0),p(3),u("editFormValues",n.editMember),p(2),u("dataSet",n.membersData)("columns",n.columns)("showDateFilter",!1)("actionTemplate",i)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)}},dependencies:[Le,me,Me,Ne,Xi],styles:[".view[_ngcontent-%COMP%]{color:#fff;background:#5d157c;border-radius:12px}"]})};var Xn=class o extends vt{constructor(e,n){let i=n.getSelectedProviderId();console.log("updated!!!",i);let r=o.getQueryParam({provider_id:i}),a={create:ie.ENQUIRY.URL,update:ie.ENQUIRY.URL,list:`${ie.ENQUIRY.LIST}`,delete:ie.ENQUIRY.URL};super(e,"enquiry_id",a,"enquiry");this.authServ=n}static getQueryParam(e){let n=new URLSearchParams;for(let[i,r]of Object.entries(e))r!=null&&n.append(i,String(r));return n.toString()}static \u0275fac=function(n){return new(n||o)(Fe(ct),Fe(B))};static \u0275prov=He({token:o,factory:o.\u0275fac,providedIn:"root"})};function m_(o,t){o&1&&(d(0,"div",12),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"enquiry.member_required")," "))}function u_(o,t){o&1&&(d(0,"div",12),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"enquiry.valid_type_required")," "))}function f_(o,t){o&1&&(d(0,"div",12),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"enquiry.valid_mobile_required")," "))}function h_(o,t){o&1&&(d(0,"div",12),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"enquiry.valid_description_required")," "))}var Qi=class o{constructor(t,e,n,i,r,a){this.fb=t;this.authService=e;this.enquiryService=n;this.productService=i;this.memberService=r;this.toast=a;this.enquiryForm=this.fb.group({enquiry_text:["",R.required],mobile_number:[""],product_id:[""],user_id:[""],name:[""]})}products=[];members=[];enquiryForm;formExpanded=!1;editFormValues;saveSuccess=new Ee;filteredMembers=this.members;selectedMember;submitBtnText="Add";selectedMemberId;ngOnInit(){this.productService.list().subscribe(t=>{this.products=t}),this.memberService.listWithTotal().subscribe(t=>{this.members=t.data})}ngOnChanges(t){t.editFormValues&&t.editFormValues.currentValue!=null&&this.setEditFormValue()}onSelectMember(t){let e=t.value,n=this.members.find(i=>i.member_id===e);this.enquiryForm.controls.mobile_number?.setValue(n?.member_mobile_number),this.enquiryForm.controls.name?.setValue(n?.member_name)}setEditFormValue(){this.submitBtnText="Update",this.selectedMemberId=this.editFormValues?.user_id,this.enquiryForm.patchValue({enquiry_text:this.editFormValues?.enquiry_text,mobile_number:this.editFormValues?.mobile_number,product_id:this.editFormValues?.product_id,user_id:this.editFormValues?.user_id}),this.formExpanded=!0}onSubmit(){if(this.enquiryForm.valid){console.log("Form Data:",this.enquiryForm.value);let t=this.editFormValues?.enquiry_id,e=this.enquiryForm.value;e.provider_id=this.authService.getSelectedProviderId(),this.enquiryService.createOrUpdate(e,t).subscribe({next:n=>{console.log(n),this.saveSuccess.emit(n),this.editFormValues=void 0,this.enquiryForm.reset(),this.formExpanded=!0,this.toast.success("Success","Enquiry saved successfully")},error:n=>{console.error("Error occurred:",n),this.toast.error("Error",n?.message||"Failed to save enquiry")}})}}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.submitBtnText=="Add"?(this.enquiryForm.reset(),this.formExpanded=!1):this.setEditFormValue()}static \u0275fac=function(e){return new(e||o)(y(Ce),y(B),y(Xn),y(Dt),y($t),y(ee))};static \u0275cmp=N({type:o,selectors:[["add-enquiry"]],inputs:{editFormValues:"editFormValues"},outputs:{saveSuccess:"saveSuccess"},features:[Ye],decls:30,vars:38,consts:[[3,"buttonEventTriggered","compName","title","inputForm","isExpanded","submitBtnText"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["formControlName","user_id","optionValue","member_id","optionLabel","member_name","styleClass","full-width-dropdown",1,"custom-dropdown",3,"onChange","options","placeholder"],["class","error-message",4,"ngIf"],["for","product"],["formControlName","product_id","optionValue","product_id","optionLabel","product_name","styleClass","full-width-dropdown",1,"custom-dropdown",3,"options","placeholder"],["for","mobile"],["id","mobile","type","number","formControlName","mobile_number",3,"placeholder"],["for","description"],["id","description","type","text","formControlName","enquiry_text",3,"placeholder"],[1,"error-message"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),I(1,"translate"),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(2,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(3,"div",2)(4,"label",3),f(5),I(6,"translate"),l(),d(7,"p-dropdown",4),I(8,"translate"),x("onChange",function(r){return n.onSelectMember(r)}),l(),M(9,m_,3,3,"div",5),d(10,"label",6),f(11),I(12,"translate"),l(),b(13,"p-dropdown",7),I(14,"translate"),M(15,u_,3,3,"div",5),l(),d(16,"div",2)(17,"label",8),f(18),I(19,"translate"),l(),b(20,"input",9),I(21,"translate"),M(22,f_,3,3,"div",5),l(),d(23,"div",2)(24,"label",10),f(25),I(26,"translate"),l(),b(27,"input",11),I(28,"translate"),M(29,h_,3,3,"div",5),l()()()),e&2){let i,r,a,s;u("compName","add-enquiry")("title",D(1,20,"enquiry.add_enquiry"))("inputForm",n.enquiryForm)("isExpanded",n.formExpanded)("submitBtnText",n.submitBtnText),p(2),u("formGroup",n.enquiryForm),p(3),E(D(6,22,"enquiry.customer_name")),p(2),u("options",n.members)("placeholder",D(8,24,"enquiry.select_member")),p(2),u("ngIf",((i=n.enquiryForm.get("user_id"))==null?null:i.invalid)&&((i=n.enquiryForm.get("user_id"))==null?null:i.touched)),p(2),V(" ",D(12,26,"enquiry.product"),""),p(2),u("options",n.products)("placeholder",D(14,28,"enquiry.select_product")),p(2),u("ngIf",((r=n.enquiryForm.get("member_id"))==null?null:r.invalid)&&((r=n.enquiryForm.get("member_id"))==null?null:r.touched)),p(3),V(" ",D(19,30,"enquiry.mobile_number"),""),p(2),u("placeholder",D(21,32,"enquiry.mobile_placeholder")),p(2),u("ngIf",((a=n.enquiryForm.get("mobile_number"))==null?null:a.invalid)&&((a=n.enquiryForm.get("mobile_number"))==null?null:a.touched)),p(3),V(" ",D(26,34,"enquiry.description"),""),p(2),u("placeholder",D(28,36,"enquiry.description_placeholder")),p(2),u("ngIf",((s=n.enquiryForm.get("enquiry_text"))==null?null:s.invalid)&&((s=n.enquiryForm.get("enquiry_text"))==null?null:s.touched))}},dependencies:[K,Ke,ve,ne,at,Q,be,Oe,Pe,ye,bt]})};function b_(o,t){if(o&1){let e=k();d(0,"div",6),x("click",function(i){let r=O(e).$implicit,a=C();return P(a.handleActionClick(r,i))}),b(1,"i",7),l()}}var Ji=class o{constructor(t,e,n,i,r,a){this.enquiryService=t;this.authServ=e;this.productService=n;this.fb=i;this.confirmationService=r;this.toast=a;this.enquiryForm=this.fb.group({customerName:["",R.required],mobile_number:["",[R.required,R.pattern(/^[0-9]{10}$/)]],enquiry_text:["",R.required],product_id:["",R.required]}),this.provider_id=e.getSelectedProviderId()}enquiryForm;pageIndex=0;contentPerPage=5;total=0;searchTerm="";provider_id=0;ngOnInit(){this.triggerGetEnq(void 0)}columns=[{displayName:"Mobile",displayValue:"mobile_number"},{displayName:"Message",displayValue:"enquiry_text"}];enquiryData=[];editEnquiry;edit(t){console.log(t),this.editEnquiry=t}remove(t){console.log(t),this.confirmDelete(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this enquiry?",header:"Delete Enquiry",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.enquiryService.delete(t.enquiry_id).subscribe({next:e=>{console.log(e),this.triggerGetEnq(void 0),this.toast.success("Success","Enquiry deleted successfully")},error:e=>{console.error(e),this.toast.error("Failed","Failed to delete enquiry")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}handleActionClick(t,e){e.stopPropagation(),console.log(t)}triggerGetEnq(t){console.log("triggered");let e={skip:this.pageIndex*this.contentPerPage,limit:this.contentPerPage,provider_id:this.provider_id};this.searchTerm&&this.searchTerm.trim()!==""&&(e.search=this.searchTerm.trim()),this.enquiryService.listWithTotal(e).subscribe(n=>{this.total=n.total,this.convertGroupSet(n.data)})}convertGroupSet(t){let e=t.map(n=>J(H({},n),{id:n.enquiry_id??0,action:"viewTemplate"}));setTimeout(()=>{this.enquiryData=e},200)}onPageChange(t){this.pageIndex=t,this.triggerGetEnq(void 0)}onContentPerPageChange(t){this.contentPerPage=t,this.pageIndex=0,this.triggerGetEnq(void 0)}onSearchChange(t){this.searchTerm=t,this.pageIndex=0,this.triggerGetEnq(void 0)}static \u0275fac=function(e){return new(e||o)(y(Xn),y(B),y(Dt),y(Ce),y(Ie),y(ee))};static \u0275cmp=N({type:o,selectors:[["app-enquiry"]],decls:8,vars:11,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"saveSuccess","editFormValues"],[3,"onEditTrigger","onDeleteTrigger","pageChange","searchDataChange","contentPerPageChange","dataSet","columns","showDateFilter","actionTemplate","totalRecords","pageIndex","contentPerPage"],[1,"view",3,"click"],[1,"pi","pi-paperclip"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3)(3,"add-enquiry",4),x("saveSuccess",function(a){return O(i),P(n.triggerGetEnq(a))}),l()()(),b(4,"p-confirmDialog"),d(5,"simple-grid",5),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))}),l(),M(6,b_,2,0,"ng-template",null,0,de)}if(e&2){let i=le(7);u("title","Enquiry")("icon","assignment_ind")("showBack",!0),p(3),u("editFormValues",n.editEnquiry),p(2),u("dataSet",n.enquiryData)("columns",n.columns)("showDateFilter",!1)("actionTemplate",i)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)}},dependencies:[Le,me,Me,Ne,Qi]})};var Kn=class o extends vt{constructor(e,n){let i=n.getSelectedProviderId(),r={create:ie.EXPENSE.URL,update:ie.EXPENSE.URL,list:`${ie.EXPENSE.URL}/${i}`,delete:ie.EXPENSE.URL};super(e,"expense_id",r,"expenses");this.authServ=n}static \u0275fac=function(n){return new(n||o)(Fe(ct),Fe(B))};static \u0275prov=He({token:o,factory:o.\u0275fac,providedIn:"root"})};function v_(o,t){if(o&1&&(d(0,"mat-button-toggle",11),f(1),l()),o&2){let e=t.$implicit;u("value",e.value),p(),V(" ",e.name," ")}}function O_(o,t){o&1&&(d(0,"div",12),f(1," Valid type is required. "),l())}function P_(o,t){o&1&&(d(0,"span"),f(1," Amount is required. "),l())}function M_(o,t){o&1&&(d(0,"span"),f(1," Amount must contain digits only "),l())}function x_(o,t){if(o&1&&(d(0,"div",12),M(1,P_,2,0,"span",13)(2,M_,2,0,"span",13),l()),o&2){let e,n,i=C();p(),u("ngIf",(e=i.expenseForm.get("expense_amount"))==null||e.errors==null?null:e.errors.required),p(),u("ngIf",(n=i.expenseForm.get("expense_amount"))==null||n.errors==null?null:n.errors.pattern)}}function y_(o,t){o&1&&(d(0,"div",12),f(1," Expense Date is required. "),l())}var Zi=class o{constructor(t,e,n,i){this.fb=t;this.expenseService=e;this.authServ=n;this.toast=i;this.expenseForm=this.fb.group({expense_amount:["",[R.required,R.pattern("^[0-9]*$")]],expense_type:["",[R.required]],expense_description:[""],expense_image_url:[""],ex_date:["",R.required]})}types=Qs;submitBtnText="Add";fileUploadComponent;editFormValues;saveSuccess=new Ee;formExpanded=!1;expenseForm;ngOnChanges(t){t.editFormValues&&t.editFormValues.currentValue!=null&&this.setEditFormValue()}setEditFormValue(){this.submitBtnText="Update",this.expenseForm.controls.expense_amount?.setValue(this.editFormValues?.expense_amount),this.expenseForm.controls.expense_type?.setValue(this.editFormValues?.expense_type),this.expenseForm.controls.expense_description?.setValue(this.editFormValues?.expense_description),this.expenseForm.controls.expense_image_url?.setValue(this.editFormValues?.expense_image_url);let t=this.editFormValues?.ex_date?new Date(this.editFormValues?.ex_date):null;this.expenseForm.controls.ex_date?.setValue(t),this.formExpanded=!0}onSubmit(){if(console.log("SUBMIT"),this.expenseForm.valid){console.log("Form Data:",this.expenseForm.value);let t=this.editFormValues?.expense_id,e=this.expenseForm.value;e.provider_id=this.authServ.getSelectedProviderId(),this.expenseService.createOrUpdate(e,t).subscribe({next:n=>{console.log(n),this.saveSuccess.emit(n),this.editFormValues=void 0,this.expenseForm.controls.ex_date?.reset(),this.expenseForm.reset(),this.fileUploadComponent.reset(),this.formExpanded=!1,this.toast.success("Success","Expense saved successfully")},error:n=>{console.error("Error saving expense:",n);let i=n?.error?.message||"Failed to save expense";this.toast.error("Error",i)}})}}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.submitBtnText=="Add"?(this.expenseForm.reset(),this.formExpanded=!1):(this.setEditFormValue(),this.formExpanded=!1)}selectType(t){this.expenseForm.get("expense_type")?.setValue(t)}afterUploadFile(t){console.log("After File Upload"),this.expenseForm?.get("expense_image_url")?.setValue(t[0])}static \u0275fac=function(e){return new(e||o)(y(Ce),y(Kn),y(B),y(ee))};static \u0275cmp=N({type:o,selectors:[["add-expenses"]],viewQuery:function(e,n){if(e&1&&ft(lt,5),e&2){let i;ht(i=_t())&&(n.fileUploadComponent=i.first)}},inputs:{editFormValues:"editFormValues"},outputs:{saveSuccess:"saveSuccess"},features:[Ye],decls:23,vars:13,consts:[[3,"buttonEventTriggered","compName","title","inputForm","showBtnContainer","submitBtnText","isExpanded"],[1,"expense-form",3,"ngSubmit","formGroup"],[1,"form-group"],["formControlName","expense_type","appearance","legacy","name","expenseType","multiple","false",1,"type-toggle-group"],["class","chip-toggle",3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["matInput","","id","expense_amount","type","text","formControlName","expense_amount","placeholder","Eg: 2000","pattern","^[0-9]*$"],["matInput","","id","expense_description","type","text","formControlName","expense_description","placeholder","Eg: Petrol",1,"styled-input"],["for","ex_date"],["formControlName","ex_date"],[3,"uploadedUrls","enableMultiple","uploadedFileName"],[1,"chip-toggle",3,"value"],[1,"error-message"],[4,"ngIf"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(1,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(2,"div",2)(3,"label"),f(4,"Type"),l(),d(5,"mat-button-toggle-group",3),M(6,v_,2,2,"mat-button-toggle",4),l(),M(7,O_,2,0,"div",5),l(),d(8,"div",2)(9,"label"),f(10,"Amount"),l(),b(11,"input",6),M(12,x_,3,2,"div",5),l(),d(13,"div",2)(14,"label"),f(15,"Description (optional)"),l(),b(16,"input",7),l(),d(17,"div",2)(18,"label",8),f(19,"Date"),l(),b(20,"date-picker-on-range",9),M(21,y_,2,0,"div",5),l(),d(22,"file-upload",10),x("uploadedUrls",function(r){return n.afterUploadFile(r)}),l()()()),e&2){let i,r,a,s;u("compName","add-expense")("title","Add Expense")("inputForm",n.expenseForm)("showBtnContainer",!0)("submitBtnText",n.submitBtnText)("isExpanded",n.formExpanded),p(),u("formGroup",n.expenseForm),p(5),u("ngForOf",n.types),p(),u("ngIf",((i=n.expenseForm.get("expense_type"))==null?null:i.invalid)&&((i=n.expenseForm.get("expense_type"))==null?null:i.touched)),p(5),u("ngIf",(r=n.expenseForm.get("expense_amount"))==null?null:r.touched),p(9),u("ngIf",((a=n.expenseForm.get("ex_date"))==null?null:a.invalid)&&((a=n.expenseForm.get("ex_date"))==null?null:a.touched)),p(),u("enableMultiple",!1)("uploadedFileName",(s=n.expenseForm.get("expense_image_url"))==null?null:s.value)}},dependencies:[oe,K,lt,kn,Jo,Ds,Fs,ve,ne,Q,be,ps,Oe,Pe,ye],styles:[".full-width-dropdown{width:100%}  .full-width-dropdown>span{padding:.5rem}.expense-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:360px;margin:auto;font-family:Segoe UI,sans-serif}.expense-form[_ngcontent-%COMP%]   .type-toggle-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;box-shadow:none}.expense-form[_ngcontent-%COMP%]   .type-toggle-group[_ngcontent-%COMP%]   .chip-toggle[_ngcontent-%COMP%]{border-radius:16px;padding:6px 16px;border:1px solid #ccc;background-color:#f5f5f5;color:#333;font-size:14px;line-height:20px;transition:all .2s ease-in-out}.expense-form[_ngcontent-%COMP%]   .type-toggle-group[_ngcontent-%COMP%]   .chip-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:linear-gradient(135deg,#5D157C 0%,#8e20bd 50%,#3c0e50 100%)!important;color:#fff;border-color:linear-gradient(135deg,#5D157C 0%,#8e20bd 50%,#3c0e50 100%)}.expense-form[_ngcontent-%COMP%]   .type-toggle-group[_ngcontent-%COMP%]   .chip-toggle[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.expense-form[_ngcontent-%COMP%]   .type-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle-button[_ngcontent-%COMP%]{box-shadow:none}.expense-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background-color:linear-gradient(135deg,#5D157C 0%,#8e20bd 50%,#3c0e50 100%);color:#fff;padding:10px 16px;border:none;border-radius:10px;cursor:pointer;font-weight:600;display:flex;align-items:center;justify-content:center;gap:8px;transition:background-color .3s}.expense-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background-color:#5b0a73}.expense-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.expense-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}"]})};function w_(o,t){if(o&1){let e=k();d(0,"div",6),x("click",function(i){let r=O(e).$implicit,a=C();return P(a.handleActionClick(r,i))}),b(1,"i",7),l()}}var er=class o{constructor(t,e,n,i,r){this.expenseService=t;this.authService=e;this.confirmationService=n;this.toast=i;this.dialog=r}pageIndex=0;contentPerPage=Xe;total=0;imageList=[];searchTerm="";date_from=null;date_to=null;ngOnInit(){this.triggerGetExp(void 0)}columns=[{displayName:"Date",displayValue:"ex_date"},{displayName:"Expense",displayValue:"expense_description"},{displayName:"Action",displayValue:"action"}];expenseData=[];editExpense;edit(t){console.log(t),this.editExpense=t}remove(t){console.log(t),this.confirmDelete(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this expense?",header:"Delete Expense",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.expenseService.delete(t.expense_id).subscribe({next:e=>{console.log(e),this.triggerGetExp(void 0),this.toast.success("Success","Expense deleted successfully")},error:e=>{console.error(e),this.toast.error("Failed","Failed to delete expense")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}handleActionClick(t,e){e?.preventDefault(),e?.stopPropagation(),console.log(t),t?.expense_image_url!=""?(this.imageList.push(t?.expense_image_url),this.dialog.open(Dn,{data:{images:this.imageList},panelClass:"image-preview-dialog",maxWidth:"100vw",maxHeight:"60vh",height:"60vh",width:"100vw",disableClose:!1})):this.toast.error("","No Files")}triggerGetExp(t){console.log("triggered",t);let e={skip:this.pageIndex*this.contentPerPage,limit:this.contentPerPage};this.searchTerm&&this.searchTerm.trim()!==""&&(e.search=this.searchTerm.trim()),this.date_from&&this.date_to&&(e.date_from=this.date_from,e.date_to=this.date_to),this.expenseService.listWithTotal(e).subscribe(n=>{this.total=n.total,this.convertExpenseSet(n.data)})}handlePageChange(t){this.expenseService.list({skip:t.skip,limit:t.limit}).subscribe(e=>{this.convertExpenseSet(e)})}convertExpenseSet(t){let e=t.map(n=>J(H({},n),{id:n.expense_id??0,action:"viewTemplate"}));setTimeout(()=>{this.expenseData=e},200)}downloadFile(t){}fetchFilterData(t){let{startDate:e,endDate:n}=t;this.expenseService.listWithTotal({date_from:e,date_to:n}).subscribe(i=>{this.total=i.total,this.convertExpenseSet(i.data)})}onPageChange(t){this.pageIndex=t,this.triggerGetExp(void 0)}onContentPerPageChange(t){this.contentPerPage=t,this.pageIndex=0,this.triggerGetExp(void 0)}onDateFilterChange(t){this.date_from=t?.startDate||null,this.date_to=t?.endDate||null,this.pageIndex=0,this.triggerGetExp(void 0)}onSearchChange(t){this.searchTerm=t,this.pageIndex=0,this.triggerGetExp(void 0)}static \u0275fac=function(e){return new(e||o)(y(Kn),y(B),y(Ie),y(ee),y(Ct))};static \u0275cmp=N({type:o,selectors:[["app-expenses"]],decls:8,vars:11,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"saveSuccess","editFormValues"],[3,"onEditTrigger","onDeleteTrigger","pageChange","searchDataChange","contentPerPageChange","onDateFilterSelected","dataSet","columns","showDateFilter","actionTemplate","totalRecords","pageIndex","contentPerPage"],[1,"view",3,"click"],[1,"pi","pi-paperclip"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3)(3,"add-expenses",4),x("saveSuccess",function(a){return O(i),P(n.triggerGetExp(a))}),l()()(),d(4,"simple-grid",5),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))})("onDateFilterSelected",function(a){return O(i),P(n.onDateFilterChange(a))}),l(),b(5,"p-confirmDialog"),M(6,w_,2,0,"ng-template",null,0,de)}if(e&2){let i=le(7);u("title","Expenses")("icon","receipt_long")("showBack",!0),p(3),u("editFormValues",n.editExpense),p(),u("dataSet",n.expenseData)("columns",n.columns)("showDateFilter",!0)("actionTemplate",i)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)}},dependencies:[Le,me,Me,Ne,Zi]})};var Qn=class o extends vt{constructor(e,n){let i=n.getSelectedProviderId();console.log("Provider ID in SubscriptionSetupService:",i);let r={create:ie.SUBSCRIPTION_SETUP.URL.replace("{provider_id}",i?.toString()||"0"),update:ie.SUBSCRIPTION_SETUP.URL.replace("{provider_id}",i?.toString()||"0"),list:ie.SUBSCRIPTION_SETUP.URL.replace("{provider_id}",i?.toString()||"0"),delete:ie.SUBSCRIPTION_SETUP.URL.replace("{provider_id}",i?.toString()||"0")};console.log("Subscription setup URLs:",r),console.log("CrudService config: primaryKey=plan_id, responseKey=subscription_plans");super(e,"plan_id",r,"subscription_plans");this.authServ=n}createSubscriptionPlan(e){return this.create(e)}getSubscriptionPlans(){return this.list()}updateSubscriptionPlan(e,n){let i=`${this.url.update}/${n}`;return console.log("Update URL:",i),console.log("Update payload:",e),this.http.put(i,e)}deleteSubscriptionPlan(e){return this.delete(e)}createOrUpdateSubscriptionPlan(e){return this.createOrUpdate(e,e.plan_id)}updateProviderUrl(e){let n={create:ie.SUBSCRIPTION_SETUP.URL.replace("{provider_id}",e.toString()),update:ie.SUBSCRIPTION_SETUP.URL.replace("{provider_id}",e.toString()),list:ie.SUBSCRIPTION_SETUP.URL.replace("{provider_id}",e.toString()),delete:ie.SUBSCRIPTION_SETUP.URL.replace("{provider_id}",e.toString())};this.setUrl(n)}static \u0275fac=function(n){return new(n||o)(Fe(ct),Fe(B))};static \u0275prov=He({token:o,factory:o.\u0275fac,providedIn:"root"})};var T_=()=>({name:"Pre Cycle",value:"pre_cycle"}),k_=()=>({name:"Post Cycle",value:"post_cycle"}),E_=(o,t)=>[o,t];function I_(o,t){o&1&&(d(0,"span"),f(1," Plan name is required. "),l())}function D_(o,t){o&1&&(d(0,"span"),f(1," Plan name must be at least 3 characters long. "),l())}function F_(o,t){if(o&1&&(d(0,"div",19),M(1,I_,2,0,"span",20)(2,D_,2,0,"span",20),l()),o&2){let e,n,i=C();p(),u("ngIf",(e=i.subscriptionForm.get("name"))==null||e.errors==null?null:e.errors.required),p(),u("ngIf",(n=i.subscriptionForm.get("name"))==null||n.errors==null?null:n.errors.minlength)}}function A_(o,t){o&1&&(d(0,"div",19),f(1," Group selection is required. "),l())}function V_(o,t){o&1&&(d(0,"div",19),f(1," Plan type is required. "),l())}function R_(o,t){o&1&&(d(0,"span"),f(1," Price is required. "),l())}function N_(o,t){o&1&&(d(0,"span"),f(1," Price must be 0 or greater. "),l())}function L_(o,t){if(o&1&&(d(0,"div",19),M(1,R_,2,0,"span",20)(2,N_,2,0,"span",20),l()),o&2){let e,n,i=C();p(),u("ngIf",(e=i.subscriptionForm.get("price"))==null||e.errors==null?null:e.errors.required),p(),u("ngIf",(n=i.subscriptionForm.get("price"))==null||n.errors==null?null:n.errors.min)}}function B_(o,t){o&1&&(d(0,"div",19),f(1," Subscription start date is required. "),l())}function z_(o,t){o&1&&(d(0,"div",19),f(1," Payment type selection is required. "),l())}var tr=class o{constructor(t,e,n,i,r){this.fb=t;this.subscriptionSetupService=e;this.groupService=n;this.authServ=i;this.toast=r;this.subscriptionForm=this.fb.group({name:["",[R.required,R.minLength(3)]],description:[""],billing_type:["",[R.required]],duration_days:[""],price:["",[R.required,R.min(0)]],group_id:["",[R.required]],billing_cycle:["pre_cycle"],subscription_cycle_start:["",[R.required]],payment_type:["pre_paid",[R.required]]})}planTypes=Js;groups=[];loadingGroups=!1;submitBtnText="Add";editFormValues;saveSuccess=new Ee;formExpanded=!1;subscriptionForm;occurances=[{name:"Weekly",code:"weekly"},{name:"Monthly",code:"monthly"},{name:"Quarterly",code:"quarterly"},{name:"Yearly",code:"yearly"}];ngOnInit(){this.loadGroups()}loadGroups(){this.loadingGroups=!0;let t=this.authServ.getSelectedProviderId();if(!t){this.toast.error("Error","Provider ID not found"),this.loadingGroups=!1;return}this.groupService.listGroup(t,{skip:0,limit:100}).subscribe({next:e=>{this.groups=e.groups||[],this.loadingGroups=!1,console.log("Groups loaded:",this.groups)},error:e=>{console.error("Error loading groups:",e),this.toast.error("Error","Failed to load groups"),this.loadingGroups=!1}})}ngOnChanges(t){t.editFormValues&&t.editFormValues.currentValue!=null&&this.setEditFormValue()}setEditFormValue(){console.log("Setting edit form values:",this.editFormValues),this.submitBtnText="Update",this.formExpanded=!0;let t=this.editFormValues;this.subscriptionForm.controls.name?.setValue(t?.name||t?.plan_name||""),this.subscriptionForm.controls.description?.setValue(t?.description||t?.plan_description||""),this.subscriptionForm.controls.billing_type?.setValue(t?.billing_type||t?.plan_type||""),this.subscriptionForm.controls.price?.setValue(t?.price||0),this.subscriptionForm.controls.billing_cycle?.setValue("pre_cycle"),this.subscriptionForm.controls.payment_type?.setValue("pre_paid");let e=t?.group_id||18;if(this.subscriptionForm.controls.group_id?.setValue(e),console.log("Setting group_id to:",e),console.log("Available groups:",this.groups),t?.subscription_cycle_start){let n=new Date(t.subscription_cycle_start);this.subscriptionForm.controls.subscription_cycle_start?.setValue(this.formatDateForInput(n))}else this.subscriptionForm.controls.subscription_cycle_start?.setValue(this.formatDateForInput(new Date));t?.billing_type||t?.plan_type?this.calculateDurationFromPlanType(t.billing_type||t.plan_type):this.subscriptionForm.controls.duration_days?.setValue(t?.duration_days||""),console.log("Form values set:",this.subscriptionForm.value)}onSubmit(){if(console.log("SUBMIT"),this.subscriptionForm.valid){console.log("Form Data:",this.subscriptionForm.value);let t={name:this.subscriptionForm.get("name")?.value,description:this.subscriptionForm.get("description")?.value||"",billing_type:this.subscriptionForm.get("billing_type")?.value,duration_days:Number(this.subscriptionForm.get("duration_days")?.value),price:Number(this.subscriptionForm.get("price")?.value),provider_id:this.authServ.getSelectedProviderId()||0,group_id:Number(this.subscriptionForm.get("group_id")?.value),features:{},billing_cycle:this.subscriptionForm.get("billing_cycle")?.value,subscription_cycle_start:this.subscriptionForm.get("subscription_cycle_start")?.value?new Date(this.subscriptionForm.get("subscription_cycle_start")?.value).toISOString():new Date().toISOString(),is_active:!0};console.log("Payload:",t);let e=this.editFormValues?.plan_id||this.editFormValues?.id;console.log("Plan ID for update:",e),e?this.subscriptionSetupService.updateSubscriptionPlan(t,e).subscribe({next:n=>{console.log("Update response:",n),this.saveSuccess.emit(n),this.resetForm(),this.toast.success("Success","Subscription plan updated successfully")},error:n=>{console.error("Error updating subscription plan:",n);let i=n?.error?.message||"Failed to update subscription plan";this.toast.error("Error",i)}}):this.subscriptionSetupService.createSubscriptionPlan(t).subscribe({next:n=>{console.log("Create response:",n),this.saveSuccess.emit(n),this.resetForm(),this.toast.success("Success","Subscription plan saved successfully")},error:n=>{console.error("Error saving subscription plan:",n);let i=n?.error?.message||"Failed to save subscription plan";this.toast.error("Error",i)}})}else this.subscriptionForm.markAllAsTouched(),this.toast.error("Validation Error","Please fill all required fields")}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.submitBtnText=="Add"?this.resetForm():(this.editFormValues=void 0,this.submitBtnText="Add",this.formExpanded=!1)}onPlanTypeChange(t){let e=t.value;console.log("Plan type changed to:",e),this.calculateDurationFromPlanType(e)}calculateDurationFromPlanType(t){switch(t){case"weekly":this.subscriptionForm.get("duration_days")?.setValue(7);break;case"monthly":this.subscriptionForm.get("duration_days")?.setValue(30);break;case"quarterly":this.subscriptionForm.get("duration_days")?.setValue(90);break;case"yearly":this.subscriptionForm.get("duration_days")?.setValue(365);break;default:console.log("Unknown plan type:",t);break}}onGroupChange(t){let e=t.value;console.log("Group changed to:",e)}onBillingCycleChange(t){let e=t.value;console.log("Billing cycle changed to:",e)}onPaymentTypeChange(t){this.subscriptionForm.get("payment_type")?.setValue(t),console.log("Payment type changed to:",t)}toggleActive(){let t=this.subscriptionForm.get("is_active")?.value;this.subscriptionForm.get("is_active")?.setValue(!t)}formatDateForInput(t){let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0");return`${e}-${n}-${i}T${r}:${a}`}resetForm(){this.editFormValues=void 0,this.submitBtnText="Add",this.subscriptionForm.reset(),this.subscriptionForm.controls.billing_cycle.setValue("pre_cycle"),this.subscriptionForm.controls.payment_type.setValue("pre_paid"),this.formExpanded=!1}static \u0275fac=function(e){return new(e||o)(y(Ce),y(Qn),y(Fn),y(B),y(ee))};static \u0275cmp=N({type:o,selectors:[["add-subscription-setup"]],inputs:{editFormValues:"editFormValues"},outputs:{saveSuccess:"saveSuccess"},features:[Ye],decls:50,vars:23,consts:[[3,"buttonEventTriggered","compName","title","inputForm","isExpanded","submitBtnText"],[3,"ngSubmit","formGroup"],[1,"form-group"],["matInput","","id","name","type","text","formControlName","name","placeholder","Eg: Premium Monthly Plan"],["class","error-message",4,"ngIf"],["matInput","","id","description","formControlName","description","placeholder","Describe the benefits of this plan...","rows","3",1,"styled-textarea"],["formControlName","group_id","optionLabel","group_name","optionValue","group_id","styleClass","custom-dropdown",3,"onChange","options","placeholder","disabled","loading"],["formControlName","billing_type","optionLabel","name","optionValue","code","styleClass","custom-dropdown","placeholder","Select Plan Type",3,"onChange","options"],["id","price","type","number","placeholder","Subscription Price","formControlName","price","min","0","step","0.01"],["formControlName","billing_cycle","optionLabel","name","optionValue","value","styleClass","custom-dropdown","placeholder","Select Billing Cycle",3,"onChange","options"],["formControlName","subscription_cycle_start"],[1,"section-title"],[1,"payment-options"],[1,"radio-option"],["type","radio","id","pre-paid","name","paymentType","value","pre_paid","formControlName","payment_type",3,"change"],["for","pre-paid",1,"radio-label"],[1,"radio-custom"],["type","radio","id","post-paid","name","paymentType","value","post_paid","formControlName","payment_type",3,"change"],["for","post-paid",1,"radio-label"],[1,"error-message"],[4,"ngIf"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(1,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(2,"div",2)(3,"label"),f(4,"Plan Name"),l(),b(5,"input",3),M(6,F_,3,2,"div",4),l(),d(7,"div",2)(8,"label"),f(9,"Plan Description (optional)"),l(),b(10,"textarea",5),l(),d(11,"div",2)(12,"label"),f(13,"Group"),l(),d(14,"p-dropdown",6),x("onChange",function(r){return n.onGroupChange(r)}),l(),M(15,A_,2,0,"div",4),l(),d(16,"div",2)(17,"label"),f(18,"Plan Type"),l(),d(19,"p-dropdown",7),x("onChange",function(r){return n.onPlanTypeChange(r)}),l(),M(20,V_,2,0,"div",4),l(),d(21,"div",2)(22,"label"),f(23,"Subscription Price"),l(),b(24,"input",8),M(25,L_,3,2,"div",4),l(),d(26,"div",2)(27,"label"),f(28,"Billing Cycle"),l(),d(29,"p-dropdown",9),x("onChange",function(r){return n.onBillingCycleChange(r)}),l()(),d(30,"div",2)(31,"label"),f(32,"Subscription Start Date"),l(),b(33,"date-picker-on-range",10),M(34,B_,2,0,"div",4),l(),d(35,"div",2)(36,"label",11),f(37,"Payment"),l(),d(38,"div",12)(39,"div",13)(40,"input",14),x("change",function(){return n.onPaymentTypeChange("pre_paid")}),l(),d(41,"label",15),b(42,"span",16),f(43," Pre Paid "),l()(),d(44,"div",13)(45,"input",17),x("change",function(){return n.onPaymentTypeChange("post_paid")}),l(),d(46,"label",18),b(47,"span",16),f(48," Post Paid "),l()()(),M(49,z_,2,0,"div",4),l()()()),e&2){let i,r,a,s,c,g;u("compName","add-subcription")("title","Add Subscription")("inputForm",n.subscriptionForm)("isExpanded",n.formExpanded)("submitBtnText",n.submitBtnText),p(),u("formGroup",n.subscriptionForm),p(5),u("ngIf",(i=n.subscriptionForm.get("name"))==null?null:i.touched),p(8),u("options",n.groups)("placeholder",n.loadingGroups?"Loading groups...":"Select a Group")("disabled",n.loadingGroups)("loading",n.loadingGroups),p(),u("ngIf",((r=n.subscriptionForm.get("group_id"))==null?null:r.invalid)&&((r=n.subscriptionForm.get("group_id"))==null?null:r.touched)),p(4),u("options",n.occurances),p(),u("ngIf",((a=n.subscriptionForm.get("billing_type"))==null?null:a.invalid)&&((a=n.subscriptionForm.get("billing_type"))==null?null:a.touched)),p(5),u("ngIf",((s=n.subscriptionForm.get("price"))==null?null:s.invalid)&&((s=n.subscriptionForm.get("price"))==null?null:s.touched)),p(4),u("options",ut(20,E_,he(18,T_),he(19,k_))),p(5),u("ngIf",((c=n.subscriptionForm.get("subscription_cycle_start"))==null?null:c.invalid)&&((c=n.subscriptionForm.get("subscription_cycle_start"))==null?null:c.touched)),p(15),u("ngIf",((g=n.subscriptionForm.get("payment_type"))==null?null:g.invalid)&&((g=n.subscriptionForm.get("payment_type"))==null?null:g.touched))}},dependencies:[K,kn,Jo,Ke,ve,ne,at,wn,Q,be,ds,Oe,Pe,ye],styles:['.subscription-form[_ngcontent-%COMP%]{padding:1rem;font-family:Roboto,sans-serif}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#333;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #e1e5e9;border-radius:8px;font-size:14px;transition:border-color .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#5d157c;box-shadow:0 0 0 3px #5d157c1a}.styled-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.type-toggle-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;border:2px solid #e1e5e9;border-radius:8px;padding:.5rem}.chip-toggle[_ngcontent-%COMP%]{border-radius:20px!important;border:1px solid #e1e5e9!important;background-color:#f8f9fa!important;color:#6c757d!important;font-weight:500;padding:.5rem 1rem;transition:all .3s ease}.chip-toggle[_ngcontent-%COMP%]:hover{background-color:#e9ecef!important;border-color:#5d157c!important}.chip-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#5d157c!important;color:#fff!important;border-color:#5d157c!important}.toggle-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem;border:2px solid #e1e5e9;border-radius:8px;background-color:#f8f9fa}.toggle-label[_ngcontent-%COMP%]{font-weight:500;color:#333}.help-text[_ngcontent-%COMP%]{display:block;margin-top:.25rem;font-size:12px;color:#6c757d}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:.25rem;display:block}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}  .p-inputswitch-checked .p-inputswitch-slider{background:#5d157c}  .p-inputswitch .p-inputswitch-slider{background:#e1e5e9;border:1px solid #e1e5e9}  .custom-dropdown{width:100%!important}  .custom-dropdown .p-dropdown{width:100%!important;border:2px solid #e1e5e9;border-radius:8px;transition:all .3s ease;background:#fff}  .custom-dropdown .p-dropdown:hover{border-color:#9ca3af}  .custom-dropdown .p-dropdown:focus-within{border-color:#5d157c;box-shadow:0 0 0 3px #5d157c1a}  .custom-dropdown .p-dropdown .p-dropdown-label{padding:.75rem;font-size:14px;color:#333}  .custom-dropdown .p-dropdown .p-dropdown-trigger{color:#6c757d;width:2rem}  .custom-dropdown .p-dropdown-panel{border:2px solid #5D157C;border-radius:8px;box-shadow:0 4px 12px #00000026}  .custom-dropdown .p-dropdown-panel .p-dropdown-items .p-dropdown-item{padding:.75rem 1rem;font-size:14px;transition:all .2s ease}  .custom-dropdown .p-dropdown-panel .p-dropdown-items .p-dropdown-item:hover{background-color:#f8ecfc;color:#5d157c}  .custom-dropdown .p-dropdown-panel .p-dropdown-items .p-dropdown-item.p-highlight{background-color:#5d157c;color:#fff}  .full-width-dropdown{width:100%!important}  .full-width-dropdown .p-dropdown{width:100%!important}.section-title[_ngcontent-%COMP%]{color:#5d157c!important;font-weight:700!important;font-size:16px!important;margin-bottom:1rem!important;display:block!important}.payment-options[_ngcontent-%COMP%]{display:flex;gap:24px;margin-top:.5rem}.payment-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]{display:flex;align-items:center}.payment-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.payment-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-size:14px;font-weight:500;color:#333}.payment-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e1e5e9;border-radius:50%;margin-right:8px;position:relative;transition:all .3s ease;background:#fff}.payment-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;border-radius:50%;background:#5d157c;opacity:0;transition:opacity .3s ease}.payment-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-label[_ngcontent-%COMP%]{color:#5d157c;font-weight:600}.payment-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-label[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]{border-color:#5d157c}.payment-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-label[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]:after{opacity:1}.payment-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:hover + .radio-label[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]{border-color:#9ca3af}@media (max-width: 768px){.subscription-form[_ngcontent-%COMP%]{padding:.5rem}.type-toggle-group[_ngcontent-%COMP%]{flex-direction:column}.chip-toggle[_ngcontent-%COMP%]{width:100%;text-align:center}.payment-options[_ngcontent-%COMP%]{flex-direction:row;gap:16px}.toggle-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}}']})};function q_(o,t){if(o&1){let e=k();d(0,"div",6),x("click",function(i){let r=O(e).$implicit,a=C();return P(a.handleActionClick(r,i))}),d(1,"p-inputSwitch",7),G("ngModelChange",function(i){let r=O(e).$implicit;return W(r.is_active,i)||(r.is_active=i),P(i)}),l()()}if(o&2){let e=t.$implicit;p(),q("ngModel",e.is_active)}}var nr=class o{constructor(t,e,n,i){this.subscriptionSetupService=t;this.authService=e;this.confirmationService=n;this.toast=i}pageIndex=0;contentPerPage=Xe;total=0;searchTerm="";ngOnInit(){let t=this.authService.getSelectedProviderId();if(console.log("=== SUBSCRIPTION SETUP INIT ==="),console.log("Current provider ID:",t),t)this.subscriptionSetupService.updateProviderUrl(t),console.log("Provider URL updated for ID:",t);else{console.error("No provider ID found!"),this.toast.error("Error","No provider selected");return}this.triggerGetSubscriptionPlans(void 0)}columns=[{displayName:"Plan Name",displayValue:"name"},{displayName:"Type",displayValue:"billing_type"},{displayName:"Duration",displayValue:"duration_days"},{displayName:"Price",displayValue:"price"},{displayName:"Status",displayValue:"is_active"},{displayName:"Action",displayValue:"action"}];subscriptionData=[];editSubscriptionPlan;edit(t){console.log("Edit data:",t),this.editSubscriptionPlan=t}remove(t){console.log(t),this.confirmDelete(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this subscription plan?",header:"Delete Subscription Plan",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{let e=t.plan_id||t.id;console.log("Deleting plan ID:",e),this.subscriptionSetupService.deleteSubscriptionPlan(e).subscribe({next:n=>{console.log(n),this.triggerGetSubscriptionPlans(void 0),this.toast.success("Success","Subscription plan deleted successfully")},error:n=>{console.error(n),this.toast.error("Failed","Failed to delete subscription plan")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}handleActionClick(t,e){e?.preventDefault(),e?.stopPropagation(),console.log(t)}triggerGetSubscriptionPlans(t){console.log("triggered",t);let e={skip:this.pageIndex*this.contentPerPage,limit:this.contentPerPage};this.searchTerm&&this.searchTerm.trim()!==""&&(e.search=this.searchTerm.trim()),console.log("Query params:",e),console.log("=== TRYING DIRECT LIST METHOD ==="),this.subscriptionSetupService.getSubscriptionPlans().subscribe({next:n=>{console.log("=== DIRECT LIST RESPONSE ==="),console.log("Raw API response:",n),console.log("Response type:",typeof n),console.log("Is array:",Array.isArray(n)),console.log("Response keys:",n?Object.keys(n):"null/undefined"),n&&typeof n=="object"&&!Array.isArray(n)?(console.log("Object response, checking for data array..."),n.data?(console.log("Found data array:",n.data),this.total=n.total||n.count||n.data.length,this.convertSubscriptionSet(n.data)):n.subscription_plans?(console.log("Found subscription_plans array:",n.subscription_plans),this.total=n.total||n.count||n.subscription_plans.length,this.convertSubscriptionSet(n.subscription_plans)):(console.log("No data array found in response object"),this.total=0,this.subscriptionData=[])):Array.isArray(n)?(console.log("Direct array response"),this.total=n.length,this.convertSubscriptionSet(n)):(console.log("Unexpected response format"),this.total=0,this.subscriptionData=[])},error:n=>{console.error("=== DIRECT LIST ERROR ==="),console.error("Error fetching subscription plans:",n),this.toast.error("Error","Failed to load subscription plans"),this.total=0,this.subscriptionData=[]}})}handlePageChange(t){this.subscriptionSetupService.list({skip:t.skip,limit:t.limit}).subscribe(e=>{this.convertSubscriptionSet(e)})}convertSubscriptionSet(t){console.log("=== CONVERTING SUBSCRIPTION PLANS ==="),console.log("Input data:",t),console.log("Input type:",typeof t),console.log("Is array:",Array.isArray(t));let e=[];if(Array.isArray(t)?(e=t,console.log("Using array directly, length:",e.length)):t&&typeof t=="object"&&(t.data&&Array.isArray(t.data)?(e=t.data,console.log("Using newPlans.data, length:",e.length)):t.subscription_plans&&Array.isArray(t.subscription_plans)?(e=t.subscription_plans,console.log("Using newPlans.subscription_plans, length:",e.length)):t.plans&&Array.isArray(t.plans)?(e=t.plans,console.log("Using newPlans.plans, length:",e.length)):(console.log("No array found in object, checking object keys:",Object.keys(t)),(t.plan_id||t.plan_name||t.name)&&(e=[t],console.log("Single object wrapped in array")))),console.log("Final plans array:",e),console.log("Plans array length:",e?.length||0),e&&e.length>0){let n=e.map((i,r)=>{console.log(`Processing plan ${r}:`,i);let a=J(H({},i),{id:i.id??i.plan_id??r,action:"viewTemplate",name:i.name||i.plan_name||`Plan ${r+1}`,billing_type:i.billing_type||i.plan_type||"unknown",description:i.description||i.plan_description||"",duration_days:i.duration_days||0,price:i.price||0,is_active:i.is_active!==void 0?i.is_active:!0,group_id:i.group_id||18,subscription_cycle_start:i.subscription_cycle_start||new Date().toISOString()});return console.log(`Converted plan ${r}:`,a),a});console.log("All converted plans:",n),setTimeout(()=>{this.subscriptionData=n,console.log("=== FINAL SUBSCRIPTION DATA SET ==="),console.log("subscriptionData:",this.subscriptionData),console.log("subscriptionData length:",this.subscriptionData.length)},200)}else console.log("No plans to convert, setting empty array"),setTimeout(()=>{this.subscriptionData=[],console.log("subscriptionData set to empty array")},200)}onPageChange(t){this.pageIndex=t,this.triggerGetSubscriptionPlans(void 0)}onContentPerPageChange(t){this.contentPerPage=t,this.pageIndex=0,this.triggerGetSubscriptionPlans(void 0)}onSearchChange(t){this.searchTerm=t,this.pageIndex=0,this.triggerGetSubscriptionPlans(void 0)}static \u0275fac=function(e){return new(e||o)(y(Qn),y(B),y(Ie),y(ee))};static \u0275cmp=N({type:o,selectors:[["app-subscription-setup"]],decls:8,vars:10,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"saveSuccess","editFormValues"],[3,"onEditTrigger","onDeleteTrigger","pageChange","searchDataChange","contentPerPageChange","dataSet","columns","actionTemplate","totalRecords","pageIndex","contentPerPage"],[1,"view",3,"click"],[3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3)(3,"add-subscription-setup",4),x("saveSuccess",function(a){return O(i),P(n.triggerGetSubscriptionPlans(a))}),l()()(),d(4,"simple-grid",5),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))}),l(),b(5,"p-confirmDialog"),M(6,q_,2,1,"ng-template",null,0,de)}if(e&2){let i=le(7);u("title","Subscription Plans")("icon","subscriptions")("showBack",!0),p(3),u("editFormValues",n.editSubscriptionPlan),p(),u("dataSet",n.subscriptionData)("columns",n.columns)("actionTemplate",i)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)}},dependencies:[Le,me,Me,Qe,Q,Re,Ne,tr]})};function W_(o,t){o&1&&(d(0,"div",16),f(1," Valid Name is required. "),l())}function G_(o,t){o&1&&(d(0,"div"),f(1," Mobile number is required. "),l())}function U_(o,t){o&1&&(d(0,"div"),f(1," Enter a valid 10-digit mobile number. "),l())}function H_(o,t){if(o&1&&(d(0,"div",16),M(1,G_,2,0,"div",17)(2,U_,2,0,"div",17),l()),o&2){let e,n,i=C();p(),u("ngIf",(e=i.employeeSetupForm.get("mobile"))==null||e.errors==null?null:e.errors.required),p(),u("ngIf",(n=i.employeeSetupForm.get("mobile"))==null||n.errors==null?null:n.errors.pattern)}}function Y_(o,t){o&1&&(d(0,"div",16),f(1," Valid designation is required. "),l())}function $_(o,t){if(o&1){let e=k();d(0,"button",18),x("click",function(){let i=O(e).$implicit,r=C();return P(r.toggleTab(i.value))}),f(1),l()}if(o&2){let e=t.$implicit,n=C();pe("selected",n.selectedTabs.includes(e.value))("disabled",n.isTabSelectionDisabled),u("disabled",n.isTabSelectionDisabled),p(),V(" ",e.label," ")}}function X_(o,t){o&1&&(d(0,"small",19),f(1,"Choose which tabs this employee role can access"),l())}function K_(o,t){o&1&&(d(0,"small",19),f(1,"Tab access is automatically configured based on the selected role"),l())}function Q_(o,t){if(o&1&&b(0,"input",21),o&2){let e=C(2).$implicit;Ze("id",e.label_name),u("formControlName",e.label_name)}}function J_(o,t){if(o&1&&(d(0,"textarea",22),f(1," "),l()),o&2){let e=C(2).$implicit;Ze("id",e.label_name),u("formControlName",e.label_name)}}function Z_(o,t){if(o&1&&(d(0,"div"),M(1,Q_,1,2,"input",21)(2,J_,2,2,"textarea",22),l()),o&2){let e=C().$implicit,n=C();p(),Fo(e.element_type===n.formElementType.BOX||e.element_type===n.formElementType.TEXT_BOX?1:e.element_type===n.formElementType.AREA?2:-1)}}function e0(o,t){if(o&1&&(d(0,"div",2)(1,"label",20),f(2),l(),M(3,Z_,3,1,"div",17),l()),o&2){let e,n=t.$implicit,i=C();p(),Ze("for",n.label_name),p(),V(" ",n.label_name," "),p(),u("ngIf",(e=i.employeeSetupForm.get("employee_json_form"))==null?null:e.get(n.label_name))}}var or=class o{constructor(t,e,n,i,r,a){this.fb=t;this.authService=e;this.empSetupServ=n;this.setupService=i;this.toast=r;this.rbacService=a;this.employeeSetupForm=this.fb.group({name:["",R.required],mobile:["",[R.required,R.pattern(/^[6-9]\d{9}$/)]],designation:["",[R.required]],employee_json_form:this.fb.group({})}),this.employeeSetupForm.get("designation")?.valueChanges.subscribe(s=>{this.updateTabSelectionForRole(s)})}application_role=Zs;submitBtnText="Add";availableTabs=[{label:"Dashboard",value:"dashboard"},{label:"Orders",value:"orders"},{label:"Products",value:"products"},{label:"Sales",value:"sales"},{label:"Expenses",value:"expenses"},{label:"Members",value:"members"},{label:"Settings",value:"settings"}];selectedTabs=["dashboard"];isTabSelectionDisabled=!1;ngOnChanges(t){t.editFormValues&&t.editFormValues.currentValue!=null&&this.setEditFormValue()}ngOnInit(){let t=this.authService.getSelectedProviderId();this.setupService.getRegisteredForm("employee",t).subscribe(e=>{this.regiseteredForm=e[0];let n=this.regiseteredForm.form_data[0].elements;n.forEach(i=>{this.addEmployeeJsonForm(i)}),this.registerFormRecords=n})}formElementType=no;regiseteredForm;registerFormRecords=[];formExpanded=!1;employeeSetupForm;editFormValues=void 0;saveSuccess=new Ee;onSubmit(){if(this.employeeSetupForm.valid){console.log("Form Data:",this.employeeSetupForm.value);let t=this.employeeSetupForm.value,e={employee_name:t.name,employee_mobile_number:t.mobile.toString(),myid_role:t.designation,employee_designation:t.designation,employee_json_form:t.employee_json_form,employee_status:"Active",employee_end_date:"2025-12-31",provider_id:this.authService.getSelectedProviderId(),user_id:this.authService.getUserId()},n=this.editFormValues?.employee_id;this.empSetupServ.createOrUpdate(e,n).subscribe({next:i=>{console.log(i),this.saveSuccess.emit(i),this.configureEmployeeTabs(t.designation),this.editFormValues=void 0,this.employeeSetupForm.reset(),this.formExpanded=!1,this.selectedTabs=["dashboard"],this.isTabSelectionDisabled=!1,this.toast.success("Success","Employee saved successfully")},error:i=>{console.error("Error saving employee:",i),this.toast.error("Error","Failed to save employee. Please try again.")}}),console.log(e)}}addEmployeeJsonForm(t){let e=this.employeeSetupForm.get("employee_json_form");t.hasOwnProperty("label_name")&&e.addControl(t.label_name,new Ut)}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.submitBtnText=="Add"?this.employeeSetupForm.reset():this.setEditFormValue()}setEditFormValue(){this.submitBtnText="Update";let t=this.employeeSetupForm.get("employee_json_form");if(this.employeeSetupForm.controls.name?.setValue(this.editFormValues?.employee_name),this.employeeSetupForm.controls.mobile?.setValue(this.editFormValues?.employee_mobile_number),this.employeeSetupForm.controls.designation?.setValue(this.editFormValues?.myid_role),this.editFormValues?.employee_json_form){let e=this.editFormValues?.employee_json_form;Object.keys(this.editFormValues?.employee_json_form).length===0&&t.reset(),Object.keys(this.editFormValues?.employee_json_form).forEach(n=>{let i=n;t.contains(i)||t.addControl(i,new Ut),t.controls[i].setValue(e[n])})}this.formExpanded=!0}updateTabSelectionForRole(t){if(t)switch(t.toLowerCase()){case"admin":this.selectedTabs=["dashboard","orders","products","sales","expenses","members","settings"],this.isTabSelectionDisabled=!0;break;case"manager":this.selectedTabs=["orders","products","sales","expenses","members","settings"],this.isTabSelectionDisabled=!0;break;case"employee":this.selectedTabs=["orders"],this.isTabSelectionDisabled=!0;break;default:this.selectedTabs=["dashboard"],this.isTabSelectionDisabled=!1;break}}toggleTab(t){if(this.isTabSelectionDisabled)return;let e=this.selectedTabs.indexOf(t);e>-1?this.selectedTabs.splice(e,1):this.selectedTabs.push(t)}configureEmployeeTabs(t){let n={provider_id:this.authService.getSelectedProviderId(),role:t.toLowerCase(),tabs:this.selectedTabs};this.rbacService.configureTabs(n).subscribe({next:i=>{console.log("Tab configuration successful:",i),this.toast.success("Success","Employee tabs configured successfully")},error:i=>{console.error("Error configuring tabs:",i),this.toast.error("Warning","Employee saved but tab configuration failed")}})}static \u0275fac=function(e){return new(e||o)(y(Ce),y(B),y(ln),y(Ht),y(ee),y(As))};static \u0275cmp=N({type:o,selectors:[["add-employee"]],inputs:{editFormValues:"editFormValues"},outputs:{saveSuccess:"saveSuccess"},features:[Ye],decls:26,vars:16,consts:[[3,"buttonEventTriggered","compName","title","inputForm","isExpanded","submitBtnText"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","type","text","placeholder","Employee Name","formControlName","name"],["class","error-message",4,"ngIf"],["for","mobile"],["id","mobile","type","number","placeholder","Mobile Number","formControlName","mobile"],["for","designation"],["id","designation","formControlName","designation",1,"custom-dropdown",3,"options"],["for","tabs"],[1,"tab-selection-container"],["type","button","class","tab-button",3,"selected","disabled","click",4,"ngFor","ngForOf"],["class","help-text",4,"ngIf"],["formGroupName","employee_json_form",3,"title","defaultExpandedStatus"],["class","form-group",4,"ngFor","ngForOf"],[1,"error-message"],[4,"ngIf"],["type","button",1,"tab-button",3,"click","disabled"],[1,"help-text"],[3,"for"],["type","text",3,"formControlName","id"],[3,"formControlName","id"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(1,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(2,"div",2)(3,"label",3),f(4,"Employee Name:"),l(),b(5,"input",4),M(6,W_,2,0,"div",5),l(),d(7,"div",2)(8,"label",6),f(9,"Mobile:"),l(),b(10,"input",7),M(11,H_,3,2,"div",5),l(),d(12,"div",2)(13,"label",8),f(14,"Application Role"),l(),b(15,"p-dropdown",9),M(16,Y_,2,0,"div",5),l(),d(17,"div",2)(18,"label",10),f(19,"Accessible Tabs"),l(),d(20,"div",11),M(21,$_,2,6,"button",12),l(),M(22,X_,2,0,"small",13)(23,K_,2,0,"small",13),l(),d(24,"expander-template",14),M(25,e0,4,3,"div",15),l()()()),e&2){let i,r,a;u("compName","add-employee")("title","Add Employee")("inputForm",n.employeeSetupForm)("isExpanded",n.formExpanded)("submitBtnText",n.submitBtnText),p(),u("formGroup",n.employeeSetupForm),p(5),u("ngIf",((i=n.employeeSetupForm.get("name"))==null?null:i.invalid)&&((i=n.employeeSetupForm.get("name"))==null?null:i.touched)),p(5),u("ngIf",((r=n.employeeSetupForm.get("mobile"))==null?null:r.touched)&&((r=n.employeeSetupForm.get("mobile"))==null?null:r.invalid)),p(4),u("options",n.application_role),p(),u("ngIf",((a=n.employeeSetupForm.get("designation"))==null?null:a.invalid)&&((a=n.employeeSetupForm.get("designation"))==null?null:a.touched)),p(5),u("ngForOf",n.availableTabs),p(),u("ngIf",!n.isTabSelectionDisabled),p(),u("ngIf",n.isTabSelectionDisabled),p(),u("title","Advance MyId Setup")("defaultExpandedStatus",!0),p(),u("ngForOf",n.registerFormRecords)}},dependencies:[oe,K,In,Ke,ve,ne,at,Q,be,Oe,Pe,Tn,ye],styles:[".full-width-dropdown{width:100%}  .full-width-dropdown>span{padding:.5rem}.tab-selection-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-top:8px}.tab-button[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #A080C0;color:#a080c0;border-radius:8px;padding:10px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;min-width:100px;text-align:center}.tab-button[_ngcontent-%COMP%]:hover{background-color:#f8f5ff;border-color:#8b6bb3;color:#8b6bb3}.tab-button.selected[_ngcontent-%COMP%]{background-color:#a080c0;color:#fff;border-color:#a080c0}.tab-button.selected[_ngcontent-%COMP%]:hover{background-color:#8b6bb3;border-color:#8b6bb3}.tab-button.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.tab-button.disabled[_ngcontent-%COMP%]:hover{background-color:#fff;border-color:#a080c0;color:#a080c0}.tab-button.disabled.selected[_ngcontent-%COMP%]{background-color:#a080c0;color:#fff;border-color:#a080c0}.tab-button.disabled.selected[_ngcontent-%COMP%]:hover{background-color:#a080c0;border-color:#a080c0;color:#fff}.help-text[_ngcontent-%COMP%]{color:#666;font-size:12px;margin-top:8px;display:block}"]})};function n0(o,t){if(o&1){let e=k();d(0,"div",6),x("click",function(i){let r=O(e).$implicit,a=C();return P(a.handleActionClick(r,i))}),l()}}var ir=class o{constructor(t,e,n,i){this.empSetupServ=t;this.authService=e;this.confirmationService=n;this.toast=i}pageIndex=0;contentPerPage=Xe;total=0;searchTerm="";ngOnInit(){this.triggerGetEmp(void 0)}columns=[{displayName:"Name",displayValue:"employee_name"},{displayName:"Mobile",displayValue:"employee_mobile_number"},{displayName:"Application Role",displayValue:"myid_role"}];empData=[];editEmployee=void 0;edit(t){this.editEmployee=H({},t)}remove(t){console.log(t),this.confirmDelete(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this employee?",header:"Delete Employee",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.empSetupServ.delete(t.employee_id).subscribe({next:e=>{console.log(e),this.triggerGetEmp(void 0),this.toast.success("Success","Employee deleted successfully")},error:e=>{console.error(e),this.toast.error("Failed","Failed to delete employee")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}handleActionClick(t,e){e.stopPropagation(),console.log(t)}triggerGetEmp(t){console.log("triggered");let e={skip:this.pageIndex*this.contentPerPage,limit:this.contentPerPage};this.searchTerm&&this.searchTerm.trim()!==""&&(e.search=this.searchTerm.trim()),this.empSetupServ.listWithTotal(e).subscribe(n=>{this.total=n.total,this.convertEmployeeSet(n.data)})}convertEmployeeSet(t){let e=t.map(n=>J(H({},n),{id:n.employee_id??0}));setTimeout(()=>{this.empData=e},200)}onPageChange(t){this.pageIndex=t,this.triggerGetEmp(void 0)}onContentPerPageChange(t){this.contentPerPage=t,this.pageIndex=0,this.triggerGetEmp(void 0)}onSearchChange(t){this.searchTerm=t,this.pageIndex=0,this.triggerGetEmp(void 0)}static \u0275fac=function(e){return new(e||o)(y(ln),y(B),y(Ie),y(ee))};static \u0275cmp=N({type:o,selectors:[["employee-list"]],decls:8,vars:10,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"saveSuccess","editFormValues"],[3,"onEditTrigger","onDeleteTrigger","pageChange","contentPerPageChange","searchDataChange","dataSet","columns","actionTemplate","totalRecords","pageIndex","contentPerPage"],[1,"view",3,"click"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3)(3,"add-employee",4),x("saveSuccess",function(a){return O(i),P(n.triggerGetEmp(a))}),l()()(),b(4,"p-confirmDialog"),d(5,"simple-grid",5),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))}),l(),M(6,n0,1,0,"ng-template",null,0,de)}if(e&2){let i=le(7);u("title","Employee Setup")("icon","person")("showBack",!0),p(3),u("editFormValues",n.editEmployee),p(2),u("dataSet",n.empData)("columns",n.columns)("actionTemplate",i)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)}},dependencies:[Le,me,Me,Ne,or]})};function o0(o,t){o&1&&(d(0,"div",19),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"settings.content_required")," "))}function i0(o,t){o&1&&(d(0,"div",19),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"settings.valid_from_required")," "))}function r0(o,t){o&1&&(d(0,"div",19),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"settings.valid_to_required")," "))}function a0(o,t){o&1&&(d(0,"div",19),f(1),I(2,"translate"),l()),o&2&&(p(),V(" ",D(2,1,"settings.content_required")," "))}var rr=class o{constructor(t){this.fb=t;this.settingsForm=this.fb.group({enable:["",R.required],blockerPageContent:["",R.required],from:["",[R.required]],to:["",[R.required]],annoucement:["",[R.required]]})}settingsForm;onSubmit(){this.settingsForm.valid&&console.log("Form Data:",this.settingsForm.value)}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){}static \u0275fac=function(e){return new(e||o)(y(Ce))};static \u0275cmp=N({type:o,selectors:[["app-settings"]],decls:43,vars:40,consts:[[3,"title","icon","showBack"],[3,"ngSubmit","formGroup"],[1,"form-group","switch-btn"],["for","enableMyID"],["id","enableMyID","formControlName","enable"],[1,"card-wrapper"],[1,"card"],[3,"buttonEventTriggered","compName","title","inputForm","showCancelBtn"],[1,"form-group"],["for","blockerPageContent"],["rows","5","cols","30","pInputTextarea","","formControlName","blockerPageContent"],["class","error-message",4,"ngIf"],["for","from"],["formControlName","from"],["for","toDate"],["formControlName","to"],[3,"buttonEventTriggered","compName","title","inputForm","showCancelBtn","submitBtnText"],["for","annoucement"],["rows","5","cols","30","pInputTextarea","","formControlName","annoucement"],[1,"error-message"]],template:function(e,n){if(e&1&&(b(0,"app-title-card",0),I(1,"translate"),d(2,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(3,"div",2)(4,"label",3),f(5),I(6,"translate"),l(),b(7,"p-inputSwitch",4),l(),d(8,"div",5)(9,"mat-card",6)(10,"form-template",7),I(11,"translate"),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(12,"div",8)(13,"label",9),f(14),I(15,"translate"),l(),d(16,"textarea",10),f(17,"            "),l(),M(18,o0,3,3,"div",11),l(),d(19,"div",8)(20,"label",12),f(21),I(22,"translate"),l(),b(23,"date-picker-on-range",13),M(24,i0,3,3,"div",11),l(),d(25,"div",8)(26,"label",14),f(27),I(28,"translate"),l(),b(29,"date-picker-on-range",15),M(30,r0,3,3,"div",11),l()()()(),d(31,"div",5)(32,"mat-card",6)(33,"form-template",16),I(34,"translate"),I(35,"translate"),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(36,"div",8)(37,"label",17),f(38),I(39,"translate"),l(),d(40,"textarea",18),f(41,"            "),l(),M(42,a0,3,3,"div",11),l()()()()()),e&2){let i,r,a,s;u("title",D(1,22,"settings.title"))("icon","settings")("showBack",!0),p(2),u("formGroup",n.settingsForm),p(3),V(" ",D(6,24,"settings.enable_myid"),""),p(5),u("compName","settings")("title",D(11,26,"settings.display_blocker_page"))("inputForm",n.settingsForm)("showCancelBtn",!1),p(4),E(D(15,28,"settings.content")),p(4),u("ngIf",((i=n.settingsForm.get("blockerPageContent"))==null?null:i.invalid)&&((i=n.settingsForm.get("blockerPageContent"))==null?null:i.touched)),p(3),E(D(22,30,"settings.from")),p(3),u("ngIf",((r=n.settingsForm.get("fromDate"))==null?null:r.invalid)&&((r=n.settingsForm.get("fromDate"))==null?null:r.touched)),p(3),E(D(28,32,"settings.to")),p(3),u("ngIf",((a=n.settingsForm.get("toDate"))==null?null:a.invalid)&&((a=n.settingsForm.get("toDate"))==null?null:a.touched)),p(3),u("compName","send-announcement")("title",D(34,34,"settings.send_announcement_title"))("inputForm",n.settingsForm)("showCancelBtn",!1)("submitBtnText",D(35,36,"settings.send")),p(5),E(D(39,38,"settings.announcement")),p(4),u("ngIf",((s=n.settingsForm.get("annoucement"))==null?null:s.invalid)&&((s=n.settingsForm.get("annoucement"))==null?null:s.touched))}},dependencies:[K,me,kn,Me,Vs,Qe,ve,ne,Q,be,Oe,Pe,ye,bt],styles:[".template-container{margin:.2rem}  .template-container .form-container{padding:.3rem!important}  .form-group{margin-top:1rem;margin-bottom:1rem}  .form-group label{color:#4f126a;font-weight:700;font-size:1rem}  .form-group.switch-btn{display:flex;align-items:center}  .form-group.switch-btn label{margin-right:1rem}"]})};var s0=(o,t)=>t.id;function c0(o,t){o&1&&b(0,"div",4)}function l0(o,t){if(o&1){let e=k();d(0,"div",5)(1,"div",6),x("click",function(){let i=O(e).$implicit,r=C();return P(r.selectColor(i))}),l(),d(2,"div",7),f(3),l()()}if(o&2){let e=t.$implicit;pe("selected",e.selected),p(),Lt("background",e.value),p(2),V(" ",e.name," ")}}var ar=class o{label="";colors=[];selectedColor=null;ngOnInit(){this.colors.length||(this.colors=io,this.selectedColor=this.colors[0])}selectColor(t){this.selectedColor=t,this.colors=this.colors.map(e=>J(H({},e),{selected:e.id===t.id})),this.onChange(this.selectedColor),this.onTouched()}onChange=()=>{};onTouched=()=>{};writeValue(t){t?(this.selectedColor=t,this.markSelected(t)):(this.selectedColor=null,this.colors.forEach(e=>e.selected=!1))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){}markSelected(t){this.colors.forEach(e=>e.selected=e.id===t.id)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=N({type:o,selectors:[["color-picker-on-range"]],inputs:{label:"label",colors:"colors"},features:[Vo([{provide:is,useExisting:Na(()=>o),multi:!0}])],decls:7,vars:1,consts:[[1,"color-range-container"],[1,"color-range"],["class","color",4,"ngFor"],[1,"color-container",3,"selected"],[1,"color"],[1,"color-container"],[1,"color-displayer",3,"click"],[1,"color-title"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"label"),f(2),l(),d(3,"div",1),M(4,c0,1,0,"div",2),za(5,l0,4,5,"div",3,s0),l()()),e&2&&(p(2),E(n.label),p(3),ja(n.colors))},styles:[".color-range-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#5d157c;font-size:.875rem;font-weight:700}.color-range-container[_ngcontent-%COMP%]   .color-range[_ngcontent-%COMP%]{display:flex;gap:.5rem;overflow:auto;margin-left:1rem;scrollbar-width:none}.color-range-container[_ngcontent-%COMP%]   .color-range[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color-displayer[_ngcontent-%COMP%]{height:3rem;width:3rem;border-radius:50%;border-width:1px;border-color:#d9d9d9}.color-range-container[_ngcontent-%COMP%]   .color-range[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color-title[_ngcontent-%COMP%]{text-align:center}.color-range-container[_ngcontent-%COMP%]   .color-range[_ngcontent-%COMP%]   .color-container.selected[_ngcontent-%COMP%]   .color-displayer[_ngcontent-%COMP%]{border:3px solid blueviolet;box-shadow:0 0 0 2px #f3f5f6 inset}"]})};var p0=(o,t)=>({background:o,color:t}),g0=(o,t)=>[o,t];function m0(o,t){o&1&&b(0,"div",31)}function u0(o,t){o&1&&b(0,"div",31)}function f0(o,t){o&1&&b(0,"div",32)}function h0(o,t){o&1&&b(0,"div",32)}function _0(o,t){o&1&&b(0,"div",32)}function b0(o,t){if(o&1){let e=k();d(0,"div",26),x("click",function(){let i=O(e).index,r=C();return P(r.selectCard(i))}),We(1,12),M(2,m0,1,0,"div",13)(3,u0,1,0,"div",13)(4,f0,1,0,"div",14)(5,h0,1,0,"div",14)(6,_0,1,0,"div",14),Ge(),d(7,"div",27)(8,"div",16)(9,"span",17),f(10),l(),b(11,"i",18),l(),d(12,"div",28),f(13),l(),d(14,"div",29),f(15),l(),d(16,"div",30),b(17,"i",19),l()()()}if(o&2){let e=t.$implicit,n=t.index,i=C();Lt("background",e.card_color),u("ngClass",ut(14,g0,e.styleClass,i.selectedCardIndex===n?"selected":"")),p(),u("ngSwitch",e.card_type),p(),u("ngSwitchCase","CLASSIC"),p(),u("ngSwitchCase","PREMIUM"),p(),u("ngSwitchCase","ULTIMATE"),p(),u("ngSwitchCase","MODERN"),p(),u("ngSwitchCase","VIRTUAL"),p(4),E(e.card_type),p(),u("ngClass",e.icon),p(2),E(e.member),p(2),V("**** **** **** ",e.card_id,""),p(2),u("ngClass",e.brandLogo)}}function C0(o,t){o&1&&b(0,"div",31)}function v0(o,t){o&1&&b(0,"div",32)}function O0(o,t){o&1&&b(0,"div",31)}function P0(o,t){o&1&&b(0,"div",32)}function M0(o,t){o&1&&b(0,"div",32)}var sr=class o{constructor(t,e){this.auth=t;this.memberCardService=e}cards=[];selectedCardIndex=0;COLORS_RANGE=io;selectedColor=io[0];textColorRange=[{name:"white",value:"#FFF",id:1,selected:!0},{name:"black",value:"#000",id:2,selected:!1}];selectedTextColor=this.textColorRange[0];title="Shanmuga Silambam";description="Member Card";DEFAULT_CARD={card_id:0,card_name:"Default Card",card_type:"CLASSIC",card_description:"Default membership card",card_color:"#cccccc",provider_id:0,member:"John Doe",org:"DEFAULT ORG",icon:"pi pi-user",styleClass:"default-card",brandLogo:"assets/visa-logo.svg"};ngOnInit(){this.cards=[{card_id:1001,card_type:"CLASSIC",card_name:"Classic Card",card_description:"Classic member benefits",card_color:"linear-gradient(135deg, #1e1e2f, #5c32a8)",provider_id:1,member:"John Doe",org:"Classic League",icon:"pi pi-star",styleClass:"classic-card",brandLogo:"assets/visa-logo.svg"},{card_id:1002,card_type:"PREMIUM",card_name:"Premium Card",card_description:"Priority access with exclusive rewards",card_color:"linear-gradient(135deg, #00f9ff, #7700ff)",provider_id:1,member:"Jane Smith",org:"Premium Club",icon:"pi pi-crown",styleClass:"premium-card",brandLogo:"assets/mastercard-logo.svg"},{card_id:1003,card_type:"ULTIMATE",card_name:"Ultimate Card",card_description:"All-in-one elite experience",card_color:"linear-gradient(135deg, #ff6a00, #ff006e)",provider_id:1,member:"Aryan Patel",org:"Ultimate Society",icon:"pi pi-diamond",styleClass:"ultimate-card",brandLogo:"assets/rupay-logo.svg"},{card_id:1004,card_type:"MODERN",card_name:"Modern Card",card_description:"Digital-first lifestyle card",card_color:"linear-gradient(135deg,rgb(97, 147, 247), #007cf0)",provider_id:1,member:"Anika Mehta",org:"Neo Members",icon:"pi pi-mobile",styleClass:"modern-card",brandLogo:"assets/phonepe-logo.svg"},{card_id:1005,card_type:"VIRTUAL",card_name:"Virtual Card",card_description:"Safe and contactless membership",card_color:"linear-gradient(135deg, #6366f1, #a855f7)",provider_id:1,member:"Karan Verma",org:"Virtual Access",icon:"pi pi-lock",styleClass:"virtual-card",brandLogo:"assets/virtual-card.svg"}],this.selectedColor={name:"initial",value:this.cards[0].card_color,id:0,selected:!0}}nextCard(){this.cards.length>0&&(this.selectedCardIndex=Math.min(this.selectedCardIndex+1,this.cards.length-1),this.selectCard(this.selectedCardIndex))}prevCard(){this.cards.length>0&&(this.selectedCardIndex=Math.max(this.selectedCardIndex-1,0),this.selectCard(this.selectedCardIndex))}selectCard(t){this.selectedCardIndex=t,this.selectedColor={name:"fromCard",value:this.cards[t].card_color,id:0,selected:!0}}get selectedCard(){return this.cards[this.selectedCardIndex]||this.DEFAULT_CARD}get currentCardBackground(){return this.selectedColor?.value||this.selectedCard.card_color}saveCard(){let t=this.auth.getSelectedProviderId(),e=this.selectedCard,n=J(H({},e),{provider_id:t,card_color:this.selectedColor.value,card_name:this.title,card_description:this.description});this.memberCardService.createOrUpdate(n,e.card_id).subscribe(i=>{console.log("Saved successfully",i)})}static \u0275fac=function(e){return new(e||o)(y(B),y(Rs))};static \u0275cmp=N({type:o,selectors:[["app-member-card-setup"]],decls:47,vars:52,consts:[[3,"title","icon","showBack"],[1,"carousel-container"],[3,"click","disabled"],[1,"pi","pi-chevron-left"],[1,"carousel-wrapper"],[1,"carousel-track"],["class","carousel-card",3,"ngClass","background","click",4,"ngFor","ngForOf"],[1,"pi","pi-chevron-right"],[1,"color-section"],[3,"ngModelChange","ngModel","label"],[3,"ngModelChange","ngModel","colors","label"],[1,"preview-card",3,"ngClass","ngStyle"],[3,"ngSwitch"],["class","overlay-shape triangle",4,"ngSwitchCase"],["class","overlay-shape half-circle",4,"ngSwitchCase"],[1,"chip-nfc-row"],[1,"top-row"],[1,"card-type"],[1,"pi",3,"ngClass"],[1,"pi","pi-id-card",3,"ngClass"],[1,"card-details"],[1,"holder"],[1,"card-number"],[1,"form-section"],["type","text",3,"ngModelChange","ngModel","placeholder"],[3,"click"],[1,"carousel-card",3,"click","ngClass"],[1,"carousel-content"],[1,"card-member"],[1,"card-id"],[1,"brand-wrapper"],[1,"overlay-shape","triangle"],[1,"overlay-shape","half-circle"]],template:function(e,n){e&1&&(b(0,"app-title-card",0),I(1,"translate"),d(2,"div",1)(3,"button",2),x("click",function(){return n.prevCard()}),b(4,"i",3),l(),d(5,"div",4)(6,"div",5),M(7,b0,18,17,"div",6),l()(),d(8,"button",2),x("click",function(){return n.nextCard()}),b(9,"i",7),l()(),d(10,"div",8)(11,"color-picker-on-range",9),I(12,"translate"),G("ngModelChange",function(r){return W(n.selectedColor,r)||(n.selectedColor=r),r}),l(),d(13,"color-picker-on-range",10),I(14,"translate"),G("ngModelChange",function(r){return W(n.selectedTextColor,r)||(n.selectedTextColor=r),r}),l()(),d(15,"div",11),We(16,12),M(17,C0,1,0,"div",13)(18,v0,1,0,"div",14)(19,O0,1,0,"div",13)(20,P0,1,0,"div",14)(21,M0,1,0,"div",14),Ge(),d(22,"div",15)(23,"div",16)(24,"span",17),f(25),l(),b(26,"i",18),l(),b(27,"i",19),l(),d(28,"div",20)(29,"div",21),f(30),l(),d(31,"div",22),f(32),l()()(),d(33,"div",23)(34,"label"),f(35),I(36,"translate"),l(),d(37,"input",24),I(38,"translate"),G("ngModelChange",function(r){return W(n.title,r)||(n.title=r),r}),l(),d(39,"label"),f(40),I(41,"translate"),l(),d(42,"input",24),I(43,"translate"),G("ngModelChange",function(r){return W(n.description,r)||(n.description=r),r}),l(),d(44,"button",25),x("click",function(){return n.saveCard()}),f(45),I(46,"translate"),l()()),e&2&&(u("title",D(1,33,"memberCard.title"))("icon","wallet")("showBack",!0),p(3),u("disabled",n.selectedCardIndex===0),p(3),Lt("transform","translateX(-"+n.selectedCardIndex*100+"%)"),p(),u("ngForOf",n.cards),p(),u("disabled",n.selectedCardIndex===n.cards.length-1),p(3),q("ngModel",n.selectedColor),u("label",D(12,35,"memberCard.choose_background")),p(2),q("ngModel",n.selectedTextColor),u("colors",n.textColorRange)("label",D(14,37,"memberCard.choose_text_color")),p(2),u("ngClass",n.selectedCard.styleClass)("ngStyle",ut(49,p0,n.currentCardBackground,n.selectedTextColor.value)),p(),u("ngSwitch",n.selectedCard.card_type),p(),u("ngSwitchCase","CLASSIC"),p(),u("ngSwitchCase","PREMIUM"),p(),u("ngSwitchCase","ULTIMATE"),p(),u("ngSwitchCase","MODERN"),p(),u("ngSwitchCase","VIRTUAL"),p(4),E(n.selectedCard.card_type),p(),u("ngClass",n.selectedCard.icon),p(),u("ngClass",n.selectedCard.brandLogo),p(3),E(n.selectedCard.member),p(2),V("**** **** **** ",n.selectedCard.card_id,""),p(3),E(D(36,39,"memberCard.title_to_display")),p(2),q("ngModel",n.title),u("placeholder",D(38,41,"memberCard.title_placeholder")),p(3),E(D(41,43,"memberCard.description")),p(2),q("ngModel",n.description),u("placeholder",D(43,45,"memberCard.description_placeholder")),p(3),E(D(46,47,"memberCard.save")))},dependencies:[$e,oe,Ka,$a,Xa,me,ne,Q,Re,ar,bt],styles:[".carousel-container[_ngcontent-%COMP%]   .carousel-wrapper[_ngcontent-%COMP%]{overflow:hidden;width:340px}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]{width:320px;height:180px;position:relative;border-radius:18px;flex-shrink:0;margin:0 10px;padding:20px;color:#fff;box-shadow:0 3px 12px #0003;cursor:pointer}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .carousel-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .brand-wrapper[_ngcontent-%COMP%]{text-align:right}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{width:60px}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%]{position:absolute;opacity:.25;z-index:0}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{width:100px;height:100px;top:0;right:0;background:#fff6;clip-path:polygon(0 0,100% 0,0 100%)}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{width:100%;height:100%;background:radial-gradient(circle at 60% 30%,rgba(186,5,138,.3),transparent 60%)}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .quad[_ngcontent-%COMP%]{width:200px;height:200px;bottom:0;right:0;background:#fff3;clip-path:polygon(0 0,100% 0,100% 100%,30% 100%)}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .diag[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,rgba(255,255,255,.2),transparent)}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .half-circle[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;top:-30px;right:-30px;background:#ffffff4d}.preview-card[_ngcontent-%COMP%]{margin:2rem auto;width:340px;height:200px;border-radius:18px;position:relative;padding:20px;color:#fff;box-shadow:0 6px 12px #0000004d}.preview-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .nfc[_ngcontent-%COMP%]{width:30px}.preview-card[_ngcontent-%COMP%]   .card-logo-large[_ngcontent-%COMP%]{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);font-size:80px;font-weight:700;opacity:.08}.preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]{position:absolute;bottom:25px;left:20px}.preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.preview-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%]{position:absolute;z-index:0;opacity:.2}.carousel-card[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.carousel-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%]{position:absolute;z-index:0;opacity:.15}.carousel-card.ultimate-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%], .preview-card.ultimate-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%]{width:200px;height:200px;background:#ffffff26;clip-path:polygon(0 0,100% 0,60% 100%,0% 100%);bottom:0;right:0}.carousel-card.modern-card[_ngcontent-%COMP%], .preview-card.modern-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00c9a7,#00f2fe);border-radius:16px;position:relative;overflow:hidden}.carousel-card.modern-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%], .preview-card.modern-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%]{position:absolute;width:150%;height:150%;top:-30%;left:-30%;background:linear-gradient(135deg,transparent 40%,rgba(255,255,255,.15) 40%,rgba(255,255,255,.15) 60%,transparent 60%);transform:rotate(45deg);z-index:0}.carousel-card.modern-card[_ngcontent-%COMP%]   .carousel-content[_ngcontent-%COMP%], .carousel-card.modern-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%], .preview-card.modern-card[_ngcontent-%COMP%]   .carousel-content[_ngcontent-%COMP%], .preview-card.modern-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]{position:relative;z-index:2}.carousel-card.modern-card[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%], .preview-card.modern-card[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{z-index:2}.color-section[_ngcontent-%COMP%], .color-range-container[_ngcontent-%COMP%]{margin:1rem}.preview-card[_ngcontent-%COMP%]{height:180px;margin:1rem 1.5rem;padding:20px;border-radius:18px;color:#fff;position:relative;box-shadow:0 6px 12px #0000004d}.preview-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.preview-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .nfc[_ngcontent-%COMP%]{width:30px;height:auto}.preview-card[_ngcontent-%COMP%]   .card-logo-large[_ngcontent-%COMP%]{position:absolute;font-size:80px;font-weight:700;top:40%;left:50%;transform:translate(-50%,-50%);opacity:.1}.preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:20px}.preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .org[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%]{font-size:14px}.preview-card[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;width:60px}.form-section[_ngcontent-%COMP%]{margin-top:32px;padding:24px;background:#f9f9f9;border-radius:12px;box-shadow:0 2px 10px #0000000d;display:flex;flex-direction:column;gap:16px}.form-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.form-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 14px;border-radius:8px;background:#f5e8ff;border:1px solid #ccc;font-size:14px;outline:none;transition:border-color .2s}.form-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#5d157c}.form-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:12px;padding:12px 20px;background:#5d157c;color:#fff;border:none;border-radius:8px;font-weight:700;font-size:14px;cursor:pointer;transition:background .2s}.form-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.card-style[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]{width:325px;height:180px;border-radius:18px;color:#fff;position:relative;box-shadow:0 6px 12px #0000004d;padding:20px;overflow:hidden}.card-style[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .overlay-shape[_ngcontent-%COMP%]{position:absolute;z-index:0;opacity:.2;pointer-events:none}.card-style[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{width:100px;height:100px;background:#fff6;clip-path:polygon(0 0,100% 0,0 100%);top:0;right:0}.card-style[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{width:100%;height:100%;background:radial-gradient(circle at 70% 30%,rgba(255,255,255,.3),transparent 60%)}.card-style[_ngcontent-%COMP%]   .quad[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .quad[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .quad[_ngcontent-%COMP%]{width:200px;height:200px;background:#ffffff40;clip-path:polygon(0 0,100% 0,70% 100%,0% 100%);bottom:0;right:0}.card-style[_ngcontent-%COMP%]   .diag[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .diag[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .diag[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,rgba(255,255,255,.2),transparent)}.card-style[_ngcontent-%COMP%]   .half-circle[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .half-circle[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .half-circle[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;background:#ffffff4d;top:-40px;right:-40px}.card-style[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;z-index:2;position:relative}.card-style[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%], .card-style[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .nfc[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .nfc[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .chip-nfc-row[_ngcontent-%COMP%]   .nfc[_ngcontent-%COMP%]{width:30px;height:auto}.card-style[_ngcontent-%COMP%]   .card-logo-large[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .card-logo-large[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .card-logo-large[_ngcontent-%COMP%]{position:absolute;font-size:80px;font-weight:700;top:45%;left:50%;transform:translate(-50%,-50%);opacity:.08;z-index:1}.card-style[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:20px;z-index:2}.card-style[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.card-style[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .org[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .org[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .org[_ngcontent-%COMP%], .card-style[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%]{font-size:14px}.card-style[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%], .preview-card[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%], .carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;width:60px;z-index:2}.carousel-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;margin-top:20px}.carousel-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#333}.carousel-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.carousel-container[_ngcontent-%COMP%]   .carousel-wrapper[_ngcontent-%COMP%]{overflow:hidden;width:325px}.carousel-container[_ngcontent-%COMP%]   .carousel-track[_ngcontent-%COMP%]{display:flex;transition:transform .4s ease-in-out}.carousel-container[_ngcontent-%COMP%]   .carousel-card[_ngcontent-%COMP%]{flex-shrink:0;margin:0}.carousel-container[_ngcontent-%COMP%]   .carousel-card.selected[_ngcontent-%COMP%]{transform:scale(1.03);border:2px solid white}.preview-card[_ngcontent-%COMP%]{margin:auto}"]})};var Jn=class o extends vt{constructor(e,n){let i=o.getUrlObj("_SLOT_TYPE_");super(e,"category_id",i,"slots");this.authServ=n}createOrUpdate(e,n){let i=e.slot_type;return this.setUrl(o.getUrlObj(i)),super.createOrUpdate(e,n)}static getUrlObj(e){e="provider";let n=ie.SLOT.URL.replace("_SLOT_TYPE_",e);return{create:n,update:n,list:n,delete:n}}static \u0275fac=function(n){return new(n||o)(Fe(ct),Fe(B))};static \u0275prov=He({token:o,factory:o.\u0275fac,providedIn:"root"})};function x0(o,t){o&1&&(d(0,"div",20),f(1," Valid Slot Name is required. "),l())}function y0(o,t){o&1&&(d(0,"div",20),f(1," Start Time is required. "),l())}function S0(o,t){o&1&&(d(0,"div",20),f(1," End Time is required. "),l())}function w0(o,t){o&1&&(d(0,"div",20),f(1," Valid Limit is required. "),l())}function T0(o,t){o&1&&(d(0,"div",20),f(1," Slot type is required. "),l())}function k0(o,t){o&1&&(d(0,"div",20),f(1," product_id is required. "),l())}function E0(o,t){if(o&1&&(d(0,"div",2)(1,"label",21),f(2,"Product"),l(),b(3,"p-dropdown",22),M(4,k0,2,0,"div",5),l()),o&2){let e,n=C();p(3),u("options",n.products),p(),u("ngIf",((e=n.slotForm.get("product_id"))==null?null:e.invalid)&&((e=n.slotForm.get("product_id"))==null?null:e.touched))}}function I0(o,t){o&1&&(d(0,"div",20),f(1," Status is required. "),l())}function D0(o,t){o&1&&(d(0,"div",20),f(1," Enable is required. "),l())}var cr=class o{constructor(t,e,n){this.fb=t;this.authService=e;this.slotSetupService=n;this.slotForm=this.fb.group({start_time:[new Date,R.required],end_time:[new Date,[R.required]],slot_type:["",R.required],slot_name:["",R.required],product_id:[],slot_limit:["",[R.required]],status:["Available",R.required],enable:[!0,R.required]})}products=[];editFormValues;saveSuccess=new Ee;formExpanded=!1;statusOptions=ec;submitBtnText=Mr;slotForm;slot_types=[{label:"Provider",value:"provider"},{label:"Service",value:"service"}];ngOnChanges(t){t.editFormValues&&t.editFormValues.currentValue!=null&&this.setEditFormValue()}timeStringToDate(t){if(!t)return null;let[e,n,i]=t.split(":").map(Number);if(isNaN(e)||isNaN(n)||isNaN(i))return null;let r=new Date;return r.setHours(e,n,i,0),r}setEditFormValue(){this.submitBtnText=tc,this.editFormValues&&(this.slotForm.patchValue({start_time:this.timeStringToDate(this.editFormValues.start_time),end_time:this.timeStringToDate(this.editFormValues.end_time),slot_name:this.editFormValues.slot_name||"",slot_limit:this.editFormValues.slot_limit||"",slot_type:this.editFormValues.slot_type||null,product_id:this.editFormValues.product_id||null,status:this.editFormValues.status||null,enable:this.editFormValues.enable??!1}),this.formExpanded=!0)}formatToTimeString(t){let e=new Date(t),n=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0");return`${n}:${i}:${r}`}onSubmit(){if(this.slotForm.valid){console.log("Form Data:",this.slotForm.valid);let t=this.slotForm.value,e=this.formatToTimeString(t.start_time),n=this.formatToTimeString(t.end_time),i=J(H({},t),{start_time:e,end_time:n,provider_id:this.authService.getSelectedProviderId()}),r=this.editFormValues?.service_slot_id||this.editFormValues?.provider_slot_id;i.provider_id=this.authService.getSelectedProviderId(),this.slotSetupService.createOrUpdate(i,r).subscribe(a=>{console.log(a),this.saveSuccess.emit(a),this.editFormValues=void 0,this.slotForm.reset(),this.formExpanded=!0})}}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.submitBtnText==Mr?this.slotForm.reset():this.setEditFormValue()}static \u0275fac=function(e){return new(e||o)(y(Ce),y(B),y(Jn))};static \u0275cmp=N({type:o,selectors:[["add-slot"]],inputs:{products:"products",editFormValues:"editFormValues"},outputs:{saveSuccess:"saveSuccess"},features:[Ye],decls:39,vars:17,consts:[[3,"buttonEventTriggered","compName","isExpanded","submitBtnText","title","inputForm"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","description"],["id","slot_name","type","text","placeholder","Description","formControlName","slot_name"],["class","error-message",4,"ngIf"],["for","start_time"],["formControlName","start_time"],["for","end_time"],["formControlName","end_time"],["for","slot_limit"],["id","description","type","text","placeholder","limit","formControlName","slot_limit"],["for","slot_type"],["formControlName","slot_type","optionValue","value","optionLabel","label","styleClass","full-width-dropdown","placeholder","Select a Slot type",1,"custom-dropdown",3,"disabled","options"],["class","form-group",4,"ngIf"],["for","status"],["formControlName","status","optionLabel","label","optionValue","value","placeholder","Select a status",1,"w-full",3,"options"],[1,"switch-btn-group"],["for","enable"],["id","enable","formControlName","enable"],[1,"error-message"],["for","product"],["formControlName","product_id","optionValue","product_id","optionLabel","product_name","styleClass","full-width-dropdown","placeholder","Select a Product",1,"custom-dropdown",3,"options"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(1,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(2,"div",2)(3,"label",3),f(4," Slot Name"),l(),b(5,"input",4),M(6,x0,2,0,"div",5),l(),d(7,"div",2)(8,"label",6),f(9,"Start Time"),l(),b(10,"time-picker",7),M(11,y0,2,0,"div",5),l(),d(12,"div",2)(13,"label",8),f(14,"End Time"),l(),b(15,"time-picker",9),M(16,S0,2,0,"div",5),l(),d(17,"div",2)(18,"label",10),f(19," Limit"),l(),b(20,"input",11),M(21,w0,2,0,"div",5),l(),d(22,"div",2)(23,"label",12),f(24,"Type"),l(),b(25,"p-dropdown",13),M(26,T0,2,0,"div",5),l(),M(27,E0,5,2,"div",14),d(28,"div",2)(29,"label",15),f(30,"Status"),l(),b(31,"p-dropdown",16),M(32,I0,2,0,"div",5),l(),d(33,"div",2)(34,"div",17)(35,"label",18),f(36,"Enable"),l(),b(37,"p-inputSwitch",19),M(38,D0,2,0,"div",5),l()()()()),e&2){let i,r,a,s,c,g,m,h;u("compName","add-expense")("isExpanded",n.formExpanded)("submitBtnText",n.submitBtnText)("title","Add Slot")("inputForm",n.slotForm),p(),u("formGroup",n.slotForm),p(5),u("ngIf",((i=n.slotForm.get("slot_name"))==null?null:i.invalid)&&((i=n.slotForm.get("slot_name"))==null?null:i.touched)),p(5),u("ngIf",((r=n.slotForm.get("start_time"))==null?null:r.invalid)&&((r=n.slotForm.get("start_time"))==null?null:r.touched)),p(5),u("ngIf",((a=n.slotForm.get("end_time"))==null?null:a.invalid)&&((a=n.slotForm.get("end_time"))==null?null:a.touched)),p(5),u("ngIf",((s=n.slotForm.get("slot_limit"))==null?null:s.invalid)&&((s=n.slotForm.get("slot_limit"))==null?null:s.touched)),p(4),u("disabled",!!(n.editFormValues!=null&&n.editFormValues.provider_slot_id)||!!(n.editFormValues!=null&&n.editFormValues.service_slot_id))("options",n.slot_types),p(),u("ngIf",((c=n.slotForm.get("slot_type"))==null?null:c.invalid)&&((c=n.slotForm.get("slot_type"))==null?null:c.touched)),p(),u("ngIf",((g=n.slotForm.get("slot_type"))==null?null:g.value)==="service"),p(4),u("options",n.statusOptions),p(),u("ngIf",((m=n.slotForm.get("status"))==null?null:m.invalid)&&((m=n.slotForm.get("status"))==null?null:m.touched)),p(6),u("ngIf",((h=n.slotForm.get("enable"))==null?null:h.invalid)&&((h=n.slotForm.get("enable"))==null?null:h.touched))}},dependencies:[K,Ns,Ke,Qe,ve,ne,Q,be,Oe,Pe,ye],styles:[".switch-btn-group[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:space-between;width:100%;margin-bottom:1rem}.switch-btn-group.bolder[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:900;font-size:14px;color:#5d157c}.switch-btn-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#5d157c;font-weight:700;font-size:14px}.switch-btn-group[_ngcontent-%COMP%]     p-inputswitch>div{height:1.5rem}.switch-btn-group[_ngcontent-%COMP%]     .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background-color:#5d157c!important}"]})};function A0(o,t){if(o&1){let e=k();d(0,"div",6),x("click",function(i){let r=O(e).$implicit,a=C();return P(a.handleActionClick(r,i))}),d(1,"p-inputSwitch",7),G("ngModelChange",function(i){let r=O(e).$implicit;return W(r.enable,i)||(r.enable=i),P(i)}),l()()}if(o&2){let e=t.$implicit;p(),q("ngModel",e.enable)}}var lr=class o{constructor(t,e,n,i){this.slotSetupService=t;this.authService=e;this.toast=n;this.confirmationService=i}pageIndex=0;contentPerPage=Xe;total=0;searchTerm="";ngOnInit(){this.triggerGetSlots(void 0)}columns=[{displayName:"Slots",displayValue:"display_slot"},{displayName:"Action",displayValue:"action"}];slotsData=[];editSlot;edit(t){this.editSlot=t}remove(t){this.confirmDelete(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this slot?",header:"Delete Slot",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.slotSetupService.delete(t.provider_slot_id).subscribe({next:e=>{console.log(e),this.triggerGetSlots(void 0),this.toast.success("Success","Slot deleted successfully")},error:e=>{console.error(e),this.toast.error("Failed","Failed to delete clot")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}handleActionClick(t,e){e.stopPropagation(),console.log(t),this.slotSetupService.update(t).subscribe({next:n=>{this.toast.success("Success","Slots Updated successfully")},error:n=>{console.error("Error updating slot:",n),this.toast.error("Error","Failed to update slot. Please try again.")}})}triggerGetSlots(t){console.log("triggered");let e={offset:this.pageIndex*this.contentPerPage,limit:this.contentPerPage,provider_id:this.authService.getSelectedProviderId()};this.searchTerm&&this.searchTerm.trim()!==""&&(e.search=this.searchTerm.trim()),this.slotSetupService.listWithTotal(e).subscribe(n=>{this.total=n.total,this.convertGroupSet(n.data)})}convertTimeSlot(t){this.slotsData=t.map(e=>{let n=i=>new Date(`1970-01-01T${i}Z`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"});return console.log(n(e.start_time)),J(H({},e),{displaySlot:`${n(e.start_time)} - ${n(e.end_time)}`})})}convertGroupSet(t){let e=n=>new Date(`1970-01-01T${n}Z`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"});this.slotsData=t.map(n=>J(H({},n),{display_slot:`${e(n.start_time)} - ${e(n.end_time)}`,id:n.service_slot_id||n.provider_slot_id||0,action:"viewTemplate"}))}onPageChange(t){this.pageIndex=t,this.triggerGetSlots(void 0)}onContentPerPageChange(t){this.contentPerPage=t,this.pageIndex=0,this.triggerGetSlots(void 0)}onSearchChange(t){this.searchTerm=t,this.pageIndex=0,this.triggerGetSlots(void 0)}static \u0275fac=function(e){return new(e||o)(y(Jn),y(B),y(ee),y(Ie))};static \u0275cmp=N({type:o,selectors:[["app-slots-list"]],decls:8,vars:11,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"saveSuccess","editFormValues"],[3,"onEditTrigger","onDeleteTrigger","pageChange","contentPerPageChange","searchDataChange","dataSet","columns","actionTemplate","totalRecords","pageIndex","contentPerPage","isShowSearch"],[1,"view",3,"click"],[3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3)(3,"add-slot",4),x("saveSuccess",function(a){return O(i),P(n.triggerGetSlots(a))}),l()()(),d(4,"simple-grid",5),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))}),l(),b(5,"p-confirmDialog"),M(6,A0,2,1,"ng-template",null,0,de)}if(e&2){let i=le(7);u("title","Slot Setup")("icon","schedule")("showBack",!0),p(3),u("editFormValues",n.editSlot),p(),u("dataSet",n.slotsData)("columns",n.columns)("actionTemplate",i)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)("isShowSearch",!1)}},dependencies:[Le,me,Me,Qe,Q,Re,Ne,cr]})};function V0(o,t){o&1&&(d(0,"div",36),f(1," Name is required. "),l())}function R0(o,t){o&1&&(d(0,"div",36),f(1," Valid Title is required. "),l())}function N0(o,t){o&1&&(d(0,"div",36),f(1," Valid Description is required. "),l())}function L0(o,t){if(o&1){let e=k();d(0,"div",16)(1,"label",37),f(2,"Product Custom Form"),l(),d(3,"p-dropdown",38),x("onChange",function(){O(e);let i=C();return P(i.onFormNameChange())}),l()()}if(o&2){let e=C();p(3),u("options",e.formNames)}}function B0(o,t){o&1&&(d(0,"div",36),f(1," Valid Description is required. "),l())}function z0(o,t){o&1&&(d(0,"div",36),f(1," Valid purchasePrice is required. "),l())}function j0(o,t){o&1&&(d(0,"div",36),f(1," Valid Per Day Limit is required. "),l())}function q0(o,t){o&1&&(d(0,"div",36),f(1," Valid tax_percentage is required. "),l())}function W0(o,t){o&1&&(d(0,"div",36),f(1," Valid Public UI is required. "),l())}function G0(o,t){if(o&1){let e=k();d(0,"tr",42)(1,"td"),b(2,"input",43),l(),d(3,"td"),b(4,"input",44),l(),d(5,"td"),b(6,"input",45),l(),d(7,"td",46)(8,"button",47),x("click",function(){O(e);let i=C(2);return P(i.addVariant())}),b(9,"i",48),l(),d(10,"button",49),x("click",function(){let i=O(e).index,r=C(2);return P(r.removeVariant(i))}),b(11,"i",50),l()()()}if(o&2){let e=t.index,n=C(2);u("formGroupName",e),p(10),u("disabled",n.variants.length===1)}}function U0(o,t){if(o&1&&(d(0,"div",39)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),f(5,"Size"),l(),d(6,"th"),f(7,"Price"),l(),d(8,"th"),f(9,"Stock"),l(),d(10,"th"),f(11,"Actions"),l()()(),d(12,"tbody"),M(13,G0,12,2,"tr",41),l()()()),o&2){let e=C();p(13),u("ngForOf",e.variants.controls)}}var dr=class o{constructor(t,e,n,i,r,a,s){this.fb=t;this.authServ=e;this.productService=n;this.categoryService=i;this.setregService=r;this.toast=a;this.router=s;this.productForm=this.fb.group({is_service:[!1],product_name:["",R.required],title1:["",[R.required]],title2:["",[R.required]],product_category_id:[[]],category_id_tree:[[]],selling_price:[0,[R.required]],purchase_price:[0,[R.required]],per_day_limit:[0,[R.required]],product_image_url:[""],visibility:[!1],hasVariant:[!1],gstNumber:[""],available_stock:[0],tax_percentage:[0],variants:this.fb.array([]),product_subtype:["",R.required],form_registration_id:[null]}),this.initializeTreeData()}fileUploadComponent;productForm;editFormValues;saveSuccess=new Ee;formExpanded=!1;treeData=[];selectedCategories=[];registeredForms=[];formNames=[];subTypes=[{name:nt.STANDARD,code:nt.STANDARD},{name:nt.SUBSCRIBE,code:nt.SUBSCRIBE},{name:nt.FLEXIBLE,code:nt.FLEXIBLE},{name:nt.FORMS,code:nt.FORMS},{name:nt.HYBRID,code:nt.HYBRID}];ngOnInit(){this.addVariant(),this.productForm.get("product_subtype")?.valueChanges.subscribe(()=>{this.updateFormRegistrationValidator()})}get variants(){return this.productForm.get("variants")}createVariant(t){return this.fb.group({size:[t?.size||"",R.required],price:[t?.price??0,[R.required,R.min(0)]],stock:[t?.stock??0,[R.required,R.min(0)]]})}addVariant(){this.variants.push(this.createVariant())}removeVariant(t){this.variants.length>1&&this.variants.removeAt(t)}onFormNameChange(){let t=this.productForm.get("form_registration_id")?.value}ngOnChanges(t){t.editFormValues&&t.editFormValues.currentValue!=null&&this.setEditFormValue(),t.product_subtype&&t.product_subtype.currentValue!=null&&this.setEditFormValue()}updateFormRegistrationValidator(){let t=this.productForm.get("product_subtype")?.value,e=this.productForm.get("form_registration_id");t===nt.HYBRID||t===nt.FORMS?e?.setValidators(R.required):(e?.clearValidators(),e?.setValue("")),e?.updateValueAndValidity()}getRegisteredForms(){let t=this.authServ.getSelectedProviderId();return this.setregService.getRegisteredForm("product",t).subscribe({next:e=>{this.registeredForms=e||[],this.formNames=this.registeredForms.map(n=>({label:n.form_name,value:n.registration_id}))},error:e=>{console.error("Error loading forms:",e),this.registeredForms=[],this.formNames=[]}})}setEditFormValue(){this.editFormValues&&this.setregService.getRegisteredForm("product",this.authServ.getSelectedProviderId()).subscribe({next:t=>{this.registeredForms=t||[],this.formNames=this.registeredForms.map(i=>({label:i.form_name,value:i.registration_id?.toString()}));let e=this.editFormValues;if(!e)return;if(e.variants&&typeof e.variants=="string")try{e.variants=JSON.parse(e.variants)}catch(i){console.error("Invalid JSON in variants:",i),e.variants=[]}Object.keys(e).forEach(i=>{let r=i;if(r!=="variants"&&r!=="product_category_id"&&e[r]!==void 0&&this.productForm.controls[r]?.setValue(e[r]),r==="variants"){let a=e.variants||[];this.variants.clear(),a.forEach(s=>{this.variants.push(this.createVariant(s))})}}),this.selectedCategories=[],this.modifySelect(this.treeData);let n=this.subTypes.find(i=>i.code===e.product_subtype)?.code||nt.HYBRID;this.productForm.patchValue({product_subtype:n,form_registration_id:e.form_registration_id?.toString()||null}),this.productForm.controls.category_id_tree.setValue(this.selectedCategories),this.productForm.controls.hasVariant.setValue(this.variants.length>0),this.updateFormRegistrationValidator(),this.productForm.updateValueAndValidity(),this.formExpanded=!0},error:t=>{console.error("Error fetching registered forms:",t),this.formNames=[]}})}onSubmit(){if(this.productForm.valid){let t=this.editFormValues?.product_id,e=this.productForm.value;e.provider_id=this.authServ.getSelectedProviderId(),e.variants=JSON.stringify(this.variants.value),delete e.category_id_tree,[nt.HYBRID,nt.FORMS].includes(e.product_subtype)||(e.form_registration_id=null),this.productService.createOrUpdate(e,t).subscribe({next:n=>{console.log(n),this.saveSuccess.emit(n),this.editFormValues=void 0,this.productForm.reset(),this.formExpanded=!1,this.fileUploadComponent.reset(),this.toast.success("Success","Product saved successfully"),this.router.navigate(["providers","admin-dashboard"])},error:n=>{console.error("Error:",n),this.toast.error("Error","Failed to save product")}})}}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}convertToTreeNode(t){return t.map(e=>({label:e.name,key:String(e.product_category_id),data:{provider_id:e.provider_id,product_category_id:e.product_category_id},selectable:!0,children:e.children&&e.children.length>0?this.convertToTreeNode(e.children):[]}))}initializeTreeData(){this.categoryService.list().subscribe(t=>{this.treeData=this.buildCategoryTree(t)})}buildCategoryTree(t){let e={},n=[];return t.forEach(i=>{e[i.product_category_id]=J(H({},i),{children:[]})}),t.forEach(i=>{let r=e[i.product_category_id];i.parent_id&&e[i.parent_id]?e[i.parent_id].children.push(r):n.push(r)}),this.convertToTreeNode(n)}onCancel(){}onchange(t){if(t.value)this.productForm.controls.product_subtype.setValue(t.value),this.getRegisteredForms();else{let e=this.selectedCategories.map(n=>n?.data?.product_category_id);this.productForm.controls.product_category_id.setValue(e)}}modifySelect(t){t?.forEach(e=>{e.data?.product_category_id&&this.editFormValues?.product_category_id.includes(e.data?.product_category_id)&&this.selectedCategories.push(e),e.children&&this.modifySelect(e.children)})}afterUploadFile(t){this.productForm?.get("product_image_url")?.setValue(t)}static \u0275fac=function(e){return new(e||o)(y(Ce),y(B),y(Dt),y(En),y(Ht),y(ee),y(rt))};static \u0275cmp=N({type:o,selectors:[["add-product"]],viewQuery:function(e,n){if(e&1&&ft(lt,5),e&2){let i;ht(i=_t())&&(n.fileUploadComponent=i.first)}},inputs:{editFormValues:"editFormValues"},outputs:{saveSuccess:"saveSuccess"},features:[Ye],decls:73,vars:28,consts:[[3,"buttonEventTriggered","isExpanded","compName","title","inputForm"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"switch-btn-group"],["for","is_service"],["formControlName","is_service"],["for","name"],["id","name","type","text","placeholder","Name","formControlName","product_name"],["class","error-message",4,"ngIf"],["for","title"],["id","title","type","text","placeholder","title","formControlName","title1"],["for","description"],["id","description","type","text","placeholder","Description","formControlName","title2"],["for","category"],[1,"dropdown-tree"],["formControlName","category_id_tree","selectionMode","checkbox","placeholder","Select Categories",1,"custom-tree-select",3,"ngModelChange","options","ngModel"],[1,"form-group","reg-type"],["for","product_subtype"],["id","product_subtype","formControlName","product_subtype","optionLabel","name","optionValue","code","styleClass","full-width-dropdown","placeholder","Select a Sub Type",1,"custom-dropdown",3,"onChange","options"],["class","form-group reg-type",4,"ngIf"],["for","sellPrice"],["id","sellPrice","type","number","placeholder","selling price","formControlName","selling_price"],["for","purchasePrice"],["id","purchasePrice","type","number","placeholder","purchase price","formControlName","purchase_price"],["for","perDayLimit"],["id","perDayLimit","type","number","placeholder","perDayLimit","formControlName","per_day_limit"],["for","tax_percentage"],["id","tax_percentage","type","number","placeholder","Stock","formControlName","tax_percentage"],["for","publicUI"],["id","publicUI","formControlName","visibility"],[3,"uploadedUrls","enableMultiple","uploadedFileName"],[1,"advance-input","product-variants-form",3,"title","defaultExpandedStatus"],[1,"toggle-group"],[1,"toggle-switch"],["type","radio","formControlName","hasVariant",3,"value"],["formArrayName","variants","class","variant-container",4,"ngIf"],[1,"error-message"],["for","form_registration_id"],["formControlName","form_registration_id","placeholder","Select Form Name",1,"custom-dropdown","full-width",3,"onChange","options"],["formArrayName","variants",1,"variant-container"],[1,"variant-table"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["formControlName","size","placeholder","eg: 250g, 350g"],["formControlName","price","type","number","placeholder","eg: 200"],["formControlName","stock","type","number","placeholder","eg: 250"],[1,"action-btn"],["mat-icon-button","","title","Add",1,"icon-button",3,"click"],[1,"pi","pi-plus"],["mat-icon-button","","title","Remove",1,"icon-button","danger",3,"click","disabled"],[1,"pi","pi-times"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(1,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(2,"div",2)(3,"div",3)(4,"label",4),f(5,"Product"),l(),b(6,"p-inputSwitch",5),d(7,"label"),f(8,"Service"),l()()(),d(9,"div",2)(10,"label",6),f(11,"Name:"),l(),b(12,"input",7),M(13,V0,2,0,"div",8),l(),d(14,"div",2)(15,"label",9),f(16," Title Display"),l(),b(17,"input",10),M(18,R0,2,0,"div",8),l(),d(19,"div",2)(20,"label",11),f(21," Title Description:"),l(),b(22,"input",12),M(23,N0,2,0,"div",8),l(),d(24,"div",2)(25,"label",13),f(26," Category:"),l(),d(27,"div",14)(28,"p-treeSelect",15),G("ngModelChange",function(r){return W(n.selectedCategories,r)||(n.selectedCategories=r),r}),x("ngModelChange",function(r){return n.onchange(r)}),l()()(),d(29,"div",16)(30,"label",17),f(31,"Product SubType"),l(),d(32,"p-dropdown",18),x("onChange",function(r){return n.onchange(r)}),l()(),M(33,L0,4,1,"div",19),d(34,"div",2)(35,"label",20),f(36," Sell price:"),l(),b(37,"input",21),M(38,B0,2,0,"div",8),l(),d(39,"div",2)(40,"label",22),f(41," Purcharse price:"),l(),b(42,"input",23),M(43,z0,2,0,"div",8),l(),d(44,"div",2)(45,"label",24),f(46," Per Day Limit:"),l(),b(47,"input",25),M(48,j0,2,0,"div",8),l(),d(49,"div",2)(50,"label",26),f(51," Tax percent:"),l(),b(52,"input",27),M(53,q0,2,0,"div",8),l(),d(54,"div",2)(55,"div",3)(56,"label",28),f(57,"Publish UI"),l(),b(58,"p-inputSwitch",29),M(59,W0,2,0,"div",8),l()(),d(60,"file-upload",30),x("uploadedUrls",function(r){return n.afterUploadFile(r)}),l(),d(61,"expander-template",31)(62,"div",32)(63,"label"),f(64,"Variant"),l(),d(65,"div",33)(66,"label"),b(67,"input",34),f(68," Yes "),l(),d(69,"label"),b(70,"input",34),f(71," No "),l()()(),M(72,U0,14,1,"div",35),l()()()),e&2){let i,r,a,s,c,g,m,h,_,v,S,T,w;u("isExpanded",n.formExpanded)("compName","add-product")("title","Add Product")("inputForm",n.productForm),p(),u("formGroup",n.productForm),p(12),u("ngIf",((i=n.productForm.get("product_name"))==null?null:i.invalid)&&((i=n.productForm.get("product_name"))==null?null:i.touched)),p(5),u("ngIf",((r=n.productForm.get("title1"))==null?null:r.invalid)&&((r=n.productForm.get("title1"))==null?null:r.touched)),p(5),u("ngIf",((a=n.productForm.get("title2"))==null?null:a.invalid)&&((a=n.productForm.get("title2"))==null?null:a.touched)),p(5),u("options",n.treeData),q("ngModel",n.selectedCategories),p(4),u("options",n.subTypes),p(),u("ngIf",((s=n.productForm.get("product_subtype"))==null?null:s.value)==="hybrid"||((s=n.productForm.get("product_subtype"))==null?null:s.value)==="forms"),p(5),u("ngIf",((c=n.productForm.get("selling_price"))==null?null:c.invalid)&&((c=n.productForm.get("selling_price"))==null?null:c.touched)),p(5),u("ngIf",((g=n.productForm.get("purchase_price"))==null?null:g.invalid)&&((g=n.productForm.get("purchase_price"))==null?null:g.touched)),p(5),u("ngIf",((m=n.productForm.get("per_day_limit"))==null?null:m.invalid)&&((m=n.productForm.get("per_day_limit"))==null?null:m.touched)),p(5),u("ngIf",((h=n.productForm.get("tax_percentage"))==null?null:h.invalid)&&((h=n.productForm.get("tax_percentage"))==null?null:h.touched)),p(6),u("ngIf",((_=n.productForm.get("visibility"))==null?null:_.invalid)&&((_=n.productForm.get("visibility"))==null?null:_.touched)),p(),u("enableMultiple",!0)("uploadedFileName",(v=n.productForm.get("product_image_url"))==null?null:v.value),p(),u("title","Advance Input")("defaultExpandedStatus",!0),p(5),pe("active",((S=n.productForm.get("hasVariant"))==null?null:S.value)===!0),p(),u("value",!0),p(2),pe("active",((T=n.productForm.get("hasVariant"))==null?null:T.value)===!1),p(),u("value",!1),p(2),u("ngIf",(w=n.productForm.get("hasVariant"))==null?null:w.value)}},dependencies:[oe,K,lt,In,Ls,Ke,Qe,ve,ne,at,wn,Q,be,Bs,Oe,Pe,Tn,cs,ye],styles:[".variant-container[_ngcontent-%COMP%]{margin-top:1rem;background-color:#f9f0ff;border-radius:8px}.variant-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.variant-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#6a1b9a;color:#fff;padding:.5rem;text-align:left}.variant-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.1rem}.variant-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px}.variant-table[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex}.variant-table[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{background:#6a1b9a;border:none;color:#fff;font-size:1rem;padding:.4rem .6rem;margin-right:4px;border-radius:4px;cursor:pointer}.variant-table[_ngcontent-%COMP%]   .icon-button.danger[_ngcontent-%COMP%]{background:#c62828}.variant-table[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{vertical-align:middle}.variant-table[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.toggle-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:10px}.toggle-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#4a148c}.toggle-switch[_ngcontent-%COMP%]{display:flex;border:2px solid #6a1b9a;border-radius:10px;overflow:hidden;width:fit-content}.toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;padding:.2rem 1rem;text-align:center;cursor:pointer;background-color:#fff;color:#6a1b9a;transition:all .2s ease;font-weight:500}.toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.toggle-switch[_ngcontent-%COMP%]   label.active[_ngcontent-%COMP%]{background-color:#6a1b9a;color:#fff}  .product-variants-form .template-container .content-container{padding:0!important}  .p-treeselect{width:100%;border:1px solid}.switch-btn-group[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:space-between;width:100%;margin-bottom:1rem}.switch-btn-group.bolder[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:900;font-size:14px;color:#5d157c}.switch-btn-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#5d157c;font-weight:700;font-size:14px}.switch-btn-group[_ngcontent-%COMP%]     p-inputswitch>div{height:1.5rem}.switch-btn-group[_ngcontent-%COMP%]     .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background-color:#5d157c!important}  .custom-tree-select .p-treeselect{border-radius:12px;border:2px solid #5D157C;padding:.4rem .75rem;font-size:14px;font-weight:500;color:#5d157c;box-shadow:0 0 0 2px #f3e8ff;transition:all .3s ease;background-color:#fff}  .custom-tree-select .p-treeselect-label{padding:4px 0}  .custom-tree-select .p-treeselect-trigger{color:#5d157c;font-size:12px}  .custom-tree-select .p-treeselect-panel{border-radius:12px;border:1px solid #ddd6fe;padding:.5rem;box-shadow:0 4px 14px #6c00a41f}  .custom-tree-select .p-chips-token{background-color:#ede9fe;color:#5d157c;font-size:12px;font-weight:600;padding:4px 12px;border-radius:9999px;margin-right:6px;margin-top:6px;border:1px solid #5D157C;display:flex;align-items:center}  .custom-tree-select .p-chips-token .p-chips-token-icon{margin-left:6px;font-size:12px;color:#5d157c}  .custom-tree-select .p-treenode-content{padding:4px 0;display:flex;align-items:center}  .custom-tree-select .p-treenode-label{font-size:13px;color:#5d157c;font-weight:500;padding-left:.4rem}  .custom-tree-select .p-checkbox{margin-right:.25rem}  .custom-tree-select .p-checkbox-box{border:1px solid #5D157C;border-radius:4px;background-color:#fff;width:18px;height:18px}  .custom-tree-select .p-checkbox-box.p-highlight{background-color:#5d157c;border-color:#5d157c}  .custom-tree-select .p-checkbox-box.p-highlight .p-checkbox-icon{color:#fff;font-size:12px}"]})};function Y0(o,t){if(o&1){let e=k();d(0,"div",6),x("click",function(i){let r=O(e).$implicit,a=C();return P(a.handleActionClick(r,i))}),b(1,"i",7),l()}}var pr=class o{constructor(t,e,n,i,r){this.productService=t;this.authServ=e;this.confirmationService=n;this.toast=i;this.dialog=r}total=0;pageIndex=0;contentPerPage=Xe;imageList=[];search="";ngOnInit(){this.triggerGetPrd(void 0)}columns=[{displayName:"Name",displayValue:"product_name"},{displayName:"Sell Price",displayValue:"selling_price"},{displayName:"Purcharse Price",displayValue:"purchase_price"},{displayName:"Action",displayValue:"action"}];productData=[];editProduct;edit(t){console.log(t),this.editProduct=t}remove(t){console.log(t),this.confirmDelete(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this product?",header:"Delete Product",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.productService.delete(t.product_id).subscribe({next:e=>{console.log(e),this.triggerGetPrd(void 0),this.toast.success("Success","Product deleted successfully")},error:e=>{console.error(e),this.toast.error("Failed","Failed to delete product")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}handleActionClick(t,e){e?.preventDefault(),e?.stopPropagation(),t?.product_image_url.length>0?(this.imageList=t?.product_image_url,this.dialog.open(Dn,{data:{images:this.imageList},panelClass:"image-preview-dialog",maxWidth:"100vw",maxHeight:"60vh",height:"60vh",width:"100vw",disableClose:!1})):this.toast.error("","No Files")}triggerGetPrd(t){console.log("triggered");let e={};e={skip:this.pageIndex*this.contentPerPage,limit:this.contentPerPage},this.search&&this.search.trim()!==""&&(e.search=this.search.trim()),this.productService.listWithTotal(e).subscribe(n=>{this.total=n.total,this.convertGroupSet(n.data)})}convertGroupSet(t){let e=t.map(n=>J(H({},n),{id:n.product_id??0,action:"viewTemplate"}));setTimeout(()=>{this.productData=e},200)}onSearchChange(t){this.search=t,this.pageIndex=0,this.triggerGetPrd({search:t})}onContentPerPageChange(t){console.log(t),this.contentPerPage=t,this.pageIndex=0,this.triggerGetPrd(void 0)}onPageChange(t){this.pageIndex=t,this.triggerGetPrd(void 0)}static \u0275fac=function(e){return new(e||o)(y(Dt),y(B),y(Ie),y(ee),y(Ct))};static \u0275cmp=N({type:o,selectors:[["app-product"]],decls:7,vars:11,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"saveSuccess","editFormValues"],[3,"onEditTrigger","onDeleteTrigger","searchDataChange","contentPerPageChange","pageChange","dataSet","columns","totalRecords","actionTemplate","pageIndex","contentPerPage"],[1,"view",3,"click"],[1,"pi","pi-paperclip"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3)(3,"add-product",4),x("saveSuccess",function(a){return O(i),P(n.triggerGetPrd(a))}),l()()(),d(4,"simple-grid",5),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))}),l(),M(5,Y0,2,0,"ng-template",null,0,de)}if(e&2){let i=le(6);u("title","Product")("icon","shopping_bag_outline")("showBack",!0),p(3),u("editFormValues",n.editProduct),p(),u("dataSet",n.productData)("columns",n.columns)("totalRecords",n.total)("actionTemplate",i)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)}},dependencies:[Le,me,Me,dr],styles:[".image-preview-dialog .mat-dialog-container{padding:0;background:transparent;box-shadow:none}"]})};function $0(o,t){o&1&&(d(0,"div",10),f(1," Name is required. "),l())}function X0(o,t){o&1&&(d(0,"div",10),f(1," Valid Maximum Limit is required. "),l())}function K0(o,t){o&1&&(d(0,"div",10),f(1," Valid order is required. "),l())}var gr=class o{constructor(t,e,n,i){this.fb=t;this.groupSrv=e;this.authServ=n;this.toast=i;this.groupForm=this.fb.group({group_name:["",R.required],max_limit:["",[R.required]],priority:["",[R.required]]})}groupForm;editFormValues;saveSuccess=new Ee;onCancelTrigger=new Ee;formExpanded=!1;submitBtnText="Add";ngOnChanges(t){t.editFormValues&&t.editFormValues.currentValue!=null&&this.setEditFormValue()}setEditFormValue(){this.submitBtnText="Update",this.groupForm.controls.group_name?.setValue(this.editFormValues?.group_name),this.groupForm.controls.max_limit?.setValue(this.editFormValues?.max_limit),this.groupForm.controls.priority?.setValue(this.editFormValues?.priority),this.formExpanded=!0}onSubmit(){if(this.groupForm.valid){console.log("Form Data:",this.groupForm.value);let t=this.editFormValues?.group_id,e=this.groupForm.value;e.provider_id=this.authServ.getSelectedProviderId(),this.groupSrv.createOrUpdate(e,t).subscribe({next:n=>{console.log(n),this.saveSuccess.emit(n),this.editFormValues=void 0,this.groupForm.reset(),this.formExpanded=!1,this.toast.success("Success","Group saved successfully")},error:n=>{console.error("Error saving group:",n),this.toast.error("Error","Failed to save group. Please try again.")}})}}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.submitBtnText=="Add"?(this.groupForm.reset(),this.formExpanded=!0):(this.groupForm.reset(),this.formExpanded=!1)}static \u0275fac=function(e){return new(e||o)(y(Ce),y(Fn),y(B),y(ee))};static \u0275cmp=N({type:o,selectors:[["add-group"]],inputs:{editFormValues:"editFormValues"},outputs:{saveSuccess:"saveSuccess",onCancelTrigger:"onCancelTrigger"},features:[Ye],decls:17,vars:9,consts:[[3,"buttonEventTriggered","compName","title","inputForm","isExpanded","submitBtnText"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","type","text","placeholder","Name","formControlName","group_name"],["class","error-message",4,"ngIf"],["for","maximumLimit"],["id","maximumLimit","type","text","placeholder","Maximum Limit","formControlName","max_limit"],["for","priority"],["id","priority","type","text","placeholder","order","formControlName","priority"],[1,"error-message"]],template:function(e,n){if(e&1&&(d(0,"form-template",0),x("buttonEventTriggered",function(r){return n.buttonClicked(r)}),d(1,"form",1),x("ngSubmit",function(){return n.onSubmit()}),d(2,"div",2)(3,"label",3),f(4,"Name:"),l(),b(5,"input",4),M(6,$0,2,0,"div",5),l(),d(7,"div",2)(8,"label",6),f(9,"Maximum Limit:"),l(),b(10,"input",7),M(11,X0,2,0,"div",5),l(),d(12,"div",2)(13,"label",8),f(14,"Order"),l(),b(15,"input",9),M(16,K0,2,0,"div",5),l()()()),e&2){let i,r,a;u("compName","add-group")("title","Add Group")("inputForm",n.groupForm)("isExpanded",n.formExpanded)("submitBtnText",n.submitBtnText),p(),u("formGroup",n.groupForm),p(5),u("ngIf",((i=n.groupForm.get("group_name"))==null?null:i.invalid)&&((i=n.groupForm.get("group_name"))==null?null:i.touched)),p(5),u("ngIf",((r=n.groupForm.get("max_limit"))==null?null:r.invalid)&&((r=n.groupForm.get("max_limit"))==null?null:r.touched)),p(5),u("ngIf",((a=n.groupForm.get("priority"))==null?null:a.invalid)&&((a=n.groupForm.get("priority"))==null?null:a.touched))}},dependencies:[K,ve,ne,Q,be,Oe,Pe,ye]})};function J0(o,t){if(o&1){let e=k();d(0,"div",6),x("click",function(i){let r=O(e).$implicit;return C().handleActionClick(r,i),P(i.stopPropagation())}),d(1,"p-inputSwitch",7),G("ngModelChange",function(i){let r=O(e).$implicit;return W(r.enabled,i)||(r.enabled=i),P(i)}),l()()}if(o&2){let e=t.$implicit;p(),q("ngModel",e.enabled)}}var mr=class o{constructor(t,e,n,i){this.groupSrv=t;this.authServ=e;this.confirmationService=n;this.toast=i}pageIndex=0;contentPerPage=5;total=0;search="";ngOnInit(){this.triggerGetGrp(void 0)}columns=[{displayName:"Name",displayValue:"group_name"},{displayName:"Max Limit",displayValue:"max_limit"},{displayName:"Order",displayValue:"priority"},{displayName:"Action",displayValue:"action"}];groupData=[];editGroup=void 0;edit(t){console.log(t),this.editGroup=t}remove(t){console.log(t),this.confirmDelete(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this group?",header:"Delete Group",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.groupSrv.delete(t.group_id).subscribe({next:e=>{console.log(e),this.triggerGetGrp(void 0),this.toast.success("Success","Group deleted successfully")},error:e=>{console.error(e),this.toast.error("Failed","Failed to delete group")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}handleActionClick(t,e){e?.preventDefault(),this.groupSrv.updateGroup(t).subscribe({next:n=>{this.toast.success("Success","Group Updated successfully")},error:n=>{console.error("Error updating group:",n),this.toast.error("Error","Failed to update group. Please try again.")}})}triggerGetGrp(t){console.log("triggered");let e={};e={skip:this.pageIndex*this.contentPerPage,limit:this.contentPerPage},t&&t?.search?.trim()!==""&&(e={search:t.search.trim()}),this.groupSrv.listGroup(this.authServ.getSelectedProviderId(),e).subscribe(n=>{this.total=n.total,this.convertGroupSet(n.groups)})}convertGroupSet(t){let e=t.map(n=>J(H({},n),{id:n.group_id??0,action:"viewTemplate"}));setTimeout(()=>{this.groupData=e},200)}onPageChange(t){this.pageIndex=t,this.triggerGetGrp({search:this.search})}onContentPerPageChange(t){this.contentPerPage=t,this.pageIndex=0,this.triggerGetGrp({search:this.search})}onSearchChange(t){this.search=t,this.pageIndex=0,this.triggerGetGrp({search:t})}static \u0275fac=function(e){return new(e||o)(y(Fn),y(B),y(Ie),y(ee))};static \u0275cmp=N({type:o,selectors:[["app-group"]],decls:8,vars:10,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"saveSuccess","editFormValues"],[3,"onEditTrigger","onDeleteTrigger","pageChange","searchDataChange","contentPerPageChange","dataSet","columns","totalRecords","pageIndex","contentPerPage","actionTemplate"],[1,"view",3,"click"],[3,"ngModelChange","ngModel"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3)(3,"add-group",4),x("saveSuccess",function(a){return O(i),P(n.triggerGetGrp(a))}),l()()(),b(4,"p-confirmDialog"),d(5,"simple-grid",5),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))}),l(),M(6,J0,2,1,"ng-template",null,0,de)}if(e&2){let i=le(7);u("title","Group")("icon","group_add")("showBack",!0),p(3),u("editFormValues",n.editGroup),p(2),u("dataSet",n.groupData)("columns",n.columns)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)("actionTemplate",i)}},dependencies:[Le,me,Me,Qe,Q,Re,Ne,gr],styles:["p-inputswitch>div{height:1.5rem}  .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background-color:#5d157c!important}"]})};var ur=class o extends vt{constructor(e,n){let i=n.getSelectedProviderId(),r=o.getUrlObj(i);super(e,"order_id",r,"sales");this.authServ=n}list(){return this.setUrl(o.getUrlObj(this.authServ.getSelectedProviderId())),super.list()}static getUrlObj(e,n=0,i=10){let r=zs({provider_id:e,skip:n,limit:i});return{create:ie.SALES.URL,update:ie.SALES.URL,list:ie.SALES.LIST+"?"+r,delete:ie.SALES.URL}}static \u0275fac=function(n){return new(n||o)(Fe(ct),Fe(B))};static \u0275prov=He({token:o,factory:o.\u0275fac,providedIn:"root"})};function eb(o,t){if(o&1){let e=k();d(0,"div",5),x("click",function(i){let r=O(e).$implicit,a=C();return P(a.handleActionClick(r,i))}),b(1,"i",6),l()}}var fr=class o{constructor(t,e){this.salesService=t;this.router=e}ngOnInit(){this.triggerGetSales(void 0)}columns=[{displayName:"Customer Name",displayValue:"user_id"},{displayName:"Price",displayValue:"total_amount"},{displayName:"Status",displayValue:"status"}];salesData=[];editSale;edit(t){console.log(t),this.editSale=t}remove(t){console.log(t),this.salesService.delete(t.order_id).subscribe(e=>{console.log(e),this.triggerGetSales(void 0)})}handleActionClick(t,e){this.salesService.update(t).subscribe(n=>{console.log(n)})}triggerGetSales(t){console.log("triggered"),this.salesService.list().subscribe(e=>{this.convertSalesSet(e)})}convertSalesSet(t){let e=t.map(n=>J(H({},n),{id:n.order_id??0,action:"viewTemplate"}));setTimeout(()=>{this.salesData=e},200)}goToAddProduct(){this.router.navigate(["providers","add-sales"])}static \u0275fac=function(e){return new(e||o)(y(ur),y(rt))};static \u0275cmp=N({type:o,selectors:[["app-sales"]],decls:7,vars:5,consts:[["viewTemplate",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],[3,"onEditTrigger","onDeleteTrigger","dataSet","columns"],[1,"view",3,"click"],[1,"pi","pi-paperclip"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",1),d(1,"div",2)(2,"mat-card",3),b(3,"add-sales"),l()(),d(4,"simple-grid",4),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))}),l(),M(5,eb,2,0,"ng-template",null,0,de)}e&2&&(u("title","Sales")("icon","shopping_bag_outline")("showBack",!0),p(4),u("dataSet",n.salesData)("columns",n.columns))},dependencies:[Le,me,Me,pn]})};function tb(o,t){if(o&1){let e=k();d(0,"button",27),x("click",function(){O(e);let i=C(2);return P(i.clearFormName())}),f(1," Clear "),l()}}function nb(o,t){if(o&1){let e=k();d(0,"div",4)(1,"label",20),f(2,"Form Name"),l(),d(3,"div",21)(4,"p-dropdown",22),x("onChange",function(){O(e);let i=C();return P(i.onFormNameChange())}),l(),M(5,tb,2,0,"button",23),l(),d(6,"div",24),b(7,"input",25),d(8,"button",26),x("click",function(){O(e);let i=C();return P(i.addNewFormName())}),f(9,"Add"),l()()()}if(o&2){let e,n=C();p(4),u("options",n.formNames),p(),u("ngIf",(e=n.registrationForm.get("formName"))==null?null:e.value)}}function ob(o,t){o&1&&(We(0),d(1,"div",33),b(2,"file-upload"),l(),Ge())}function ib(o,t){o&1&&b(0,"div",34)}function rb(o,t){if(o&1){let e=k();d(0,"div",12)(1,"div",28),f(2),l(),d(3,"div",29),M(4,ob,3,0,"ng-container",30)(5,ib,1,0,"ng-template",null,1,de),l(),d(7,"div",31),x("click",function(){let i=O(e).index,r=C();return P(r.onRemove(i))}),b(8,"i",32),l()()}if(o&2){let e=t.$implicit,n=le(6);p(2),E(e.label_name),p(),u("ngClass",e.element_type),p(),u("ngIf",e.element_type==="image")("ngIfElse",n)}}function ab(o,t){if(o&1){let e=k();d(0,"div",35)(1,"button",36),x("click",function(){O(e);let i=C();return P(i.submitRegister())}),f(2,"Submit"),l()()}}function sb(o,t){if(o&1){let e=k();d(0,"div",37),x("click",function(i){let r=O(e).$implicit,a=C();return P(a.handleActionClick(r,i))}),b(1,"i",38),l()}}var hr=class o{constructor(t,e,n,i,r,a){this.fb=t;this.authService=e;this.setregService=n;this.confirmationService=i;this.toast=r;this.dialog=a;this.registrationForm=this.fb.group({regType:[null,R.required],formName:[null],newFormName:[""]}),this.tempForm=this.fb.group({label_name:["",R.required],element_type:["",R.required],display_for_user:["",R.required]})}registrationForm;tempForm;regTypes=[{name:"User Registration",code:"user"},{name:"Employee Registration",code:"employee"},{name:"Product",code:"product"}];yesOrNoList=[{name:"Yes",code:!0},{name:"No",code:!1}];elements=[{name:"Textbox",code:"box"},{name:"Text area",code:"area"},{name:"Image",code:"image"}];columns=[{displayName:"Form Type",displayValue:"form_type"},{displayName:"Form Name",displayValue:"form_name"},{displayName:"Action",displayValue:"action"}];pageIndex=0;contentPerPage=Xe;total=0;searchTerm="";editFormData;registeredForms=[];formNames=[];selectedRegisteredForm;registrationValues=[];registeredFormData=[];ngOnInit(){this.triggerGetExp(void 0)}onRegTypeChange(){let t=this.registrationForm.get("regType")?.value;if(!t)return;this.registrationForm.get("formName")?.reset(),this.registrationForm.get("newFormName")?.reset(),this.selectedRegisteredForm=void 0,this.registrationValues=[];let e=this.authService.getSelectedProviderId();this.setregService.getRegisteredForm(t.code,e).subscribe({next:n=>{this.registeredForms=n||[],this.formNames=this.registeredForms.map(i=>i.form_name)},error:n=>{console.error("Error loading forms:",n),this.registeredForms=[],this.formNames=[]}})}onFormNameChange(){let t=this.registrationForm.get("formName")?.value;this.selectedRegisteredForm=this.registeredForms.find(e=>e.form_name===t),this.registrationValues=this.selectedRegisteredForm?.form_data[0]?.elements||[]}addNewFormName(){let t=this.registrationForm.get("newFormName")?.value?.trim();t&&!this.formNames.includes(t)&&(this.formNames.push(t),this.registrationForm.get("formName")?.setValue(t),this.registrationForm.get("newFormName")?.reset(),this.selectedRegisteredForm=void 0,this.registrationValues=[])}onSubmit(){if(this.tempForm.valid){let t=H({},this.tempForm.value);this.registrationValues.push(t),this.tempForm.reset()}}buttonClicked(t){t.buttonType===1?this.onSubmit():t.buttonType===2&&this.onCancel()}onCancel(){this.tempForm.reset()}onRemove(t){this.registrationValues.splice(t,1)}submitRegister(){let t=this.authService.getSelectedProviderId(),e=this.registrationForm.get("regType")?.value,n=this.registrationForm.get("formName")?.value;if(!e||!n){console.error("Registration Type and Form Name are required");return}if(this.selectedRegisteredForm)this.selectedRegisteredForm.form_data[0].elements=this.registrationValues,this.selectedRegisteredForm.form_type=e.code,this.setregService.createOrUpdate(this.selectedRegisteredForm,"update").subscribe({next:()=>this.onRegTypeChange(),error:i=>console.error("Update failed:",i)});else{let i={form_data:[{elements:this.registrationValues}],form_type:e.code,provider_id:t,form_name:n};console.log("NEW-->",i),this.setregService.createOrUpdate(i,"create").subscribe({next:()=>this.onRegTypeChange(),error:r=>console.error("Create failed:",r)})}}clearFormName(){this.registrationForm.get("formName")?.reset(),this.selectedRegisteredForm=void 0,this.registrationValues=[]}triggerGetExp(t){let e=null;this.searchTerm&&this.searchTerm.trim()!==""&&(e.search=this.searchTerm.trim());let n=this.authService.getSelectedProviderId();this.setregService.listFormType(n,e).subscribe({next:i=>{this.convertDataSet(i)},error:i=>{console.error("Error fetching forms:",i)}})}convertDataSet(t){let e=t.map(n=>J(H({},n),{id:n.registration_id??0,action:"viewTemplate"}));setTimeout(()=>{this.registeredFormData=e},200)}handlePageChange(t){}onPageChange(t){this.pageIndex=t,this.triggerGetExp(void 0)}onContentPerPageChange(t){this.contentPerPage=t,this.pageIndex=0,this.triggerGetExp(void 0)}onSearchChange(t){this.searchTerm=t,this.pageIndex=0,this.triggerGetExp(void 0)}edit(t){this.editFormData=t;let e=this.regTypes.find(n=>n.code===t.form_type);this.registrationForm.get("regType")?.setValue(e),this.onRegTypeChange(),setTimeout(()=>{this.formNames.includes(t.form_name)||this.formNames.push(t.form_name),this.registrationForm.get("formName")?.setValue(t.form_name),this.selectedRegisteredForm=t,this.registrationValues=t.form_data[0]?.elements?[...t.form_data[0].elements]:[]},100)}remove(t){console.log(t),this.confirmDelete(t)}handleActionClick(t,e){e.stopPropagation(),console.log(t)}confirmDelete(t){this.confirmationService.confirm({message:"Are you sure you want to delete this Setup?",header:"Delete",icon:"pi pi-info-circle",acceptLabel:"Delete",rejectLabel:"Cancel",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.setregService.delete(t.registration_id).subscribe({next:e=>{console.log(e),this.triggerGetExp(void 0),this.toast.success("Success","Deleted successfully")},error:e=>{console.error(e),this.toast.error("Failed","Failed to delete")}})},reject:e=>{e===ge.REJECT||ge.CANCEL}})}static \u0275fac=function(e){return new(e||o)(y(Ce),y(B),y(Ht),y(Ie),y(ee),y(Ct))};static \u0275cmp=N({type:o,selectors:[["setup-registration"]],decls:32,vars:22,consts:[["viewTemplate",""],["defaultElement",""],[3,"title","icon","showBack"],[1,"registration-setup",3,"formGroup"],[1,"form-group","reg-type"],["for","reg-type"],["id","reg-type","optionLabel","name","formControlName","regType","placeholder","Select Registration Type","styleClass","full-width-dropdown",1,"custom-dropdown",3,"onChange","options"],["class","form-group reg-type",4,"ngIf"],[1,"card-wrapper"],[1,"card"],[3,"buttonEventTriggered","compName","title","inputForm","submitBtnText"],[3,"formGroup"],[1,"form-group"],["type","text","formControlName","label_name","placeholder","Label"],["formControlName","element_type","optionLabel","name","optionValue","code","placeholder","Select Element",1,"custom-dropdown",3,"options"],["formControlName","display_for_user","optionLabel","name","optionValue","code","placeholder","Select Option",1,"custom-dropdown",3,"options"],[1,"preview"],["class","form-group",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[3,"onEditTrigger","onDeleteTrigger","pageChange","searchDataChange","contentPerPageChange","dataSet","columns","showDateFilter","actionTemplate","totalRecords","pageIndex","contentPerPage"],["for","formName"],[1,"dropdown-with-clear","flex","items-center","gap-2"],["formControlName","formName","placeholder","Select Form Name",1,"custom-dropdown","full-width",3,"onChange","options"],["type","button","class","clear-btn",3,"click",4,"ngIf"],[1,"add-new-form","mt-4","flex","items-center","gap-2"],["type","text","placeholder","Add New Form Name","formControlName","newFormName",1,"full-width","border"],["type","button",3,"click"],["type","button",1,"clear-btn",3,"click"],[1,"label"],[1,"element",3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"close-icon",3,"click"],[1,"pi","pi-times-circle"],[1,"file-upload-container","relative","z-10","pointer-events-none"],[1,"placeholder"],[1,"button-container"],[1,"submit-button",3,"click"],[1,"view",3,"click"],[1,"pi","pi-paperclip"]],template:function(e,n){if(e&1){let i=k();b(0,"app-title-card",2),d(1,"div",3)(2,"div",4)(3,"label",5),f(4,"Registration Type"),l(),d(5,"p-dropdown",6),x("onChange",function(){return O(i),P(n.onRegTypeChange())}),l()(),M(6,nb,10,2,"div",7),d(7,"div",8)(8,"mat-card",9)(9,"form-template",10),x("buttonEventTriggered",function(a){return O(i),P(n.buttonClicked(a))}),d(10,"form",11)(11,"div",12)(12,"label"),f(13,"Label"),l(),b(14,"input",13),l(),d(15,"div",12)(16,"label"),f(17,"Element"),l(),b(18,"p-dropdown",14),l(),d(19,"div",12)(20,"label"),f(21,"Display for User"),l(),b(22,"p-dropdown",15),l()()()()(),d(23,"div",8)(24,"mat-card",9)(25,"div",16),M(26,rb,9,4,"div",17)(27,ab,3,0,"div",18),l()()()(),d(28,"simple-grid",19),x("onEditTrigger",function(a){return O(i),P(n.edit(a))})("onDeleteTrigger",function(a){return O(i),P(n.remove(a))})("pageChange",function(a){return O(i),P(n.onPageChange(a))})("searchDataChange",function(a){return O(i),P(n.onSearchChange(a))})("contentPerPageChange",function(a){return O(i),P(n.onContentPerPageChange(a))}),l(),b(29,"p-confirmDialog"),M(30,sb,2,0,"ng-template",null,0,de)}if(e&2){let i=le(31);u("title","Setup Registration")("icon","group")("showBack",!0),p(),u("formGroup",n.registrationForm),p(4),u("options",n.regTypes),p(),u("ngIf",n.formNames.length>0),p(3),u("compName","add-registration-setup-form")("title","Add Fields")("inputForm",n.tempForm)("submitBtnText","Add"),p(),u("formGroup",n.tempForm),p(8),u("options",n.elements),p(4),u("options",n.yesOrNoList),p(4),u("ngForOf",n.registrationValues),p(),u("ngIf",n.registrationValues.length>0),p(),u("dataSet",n.registeredFormData)("columns",n.columns)("showDateFilter",!1)("actionTemplate",i)("totalRecords",n.total)("pageIndex",n.pageIndex)("contentPerPage",n.contentPerPage)}},dependencies:[$e,oe,K,Le,lt,me,Me,Ke,ve,ne,Q,be,Ne,Oe,Pe,ye],styles:[".preview[_ngcontent-%COMP%]{padding:.5rem}.preview[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative;margin-top:1rem}.preview[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#4f126a;font-weight:700}.preview[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{color:#bdc1ca;background:#f9f2fd;margin-top:.3rem;min-height:2rem}.preview[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{padding-left:.5rem}.preview[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .element.area[_ngcontent-%COMP%]{height:5rem;border:1px solid;border-radius:5px;padding:.5rem}.preview[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .element.image[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#9c27b0;font-size:1.2rem}.preview[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .element.image[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:3rem}.preview[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:red}.preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:1rem;margin-bottom:1rem}.preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:2.25Rem;min-width:1rem;padding:0 1rem;border-radius:5px}.preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.submit-button[_ngcontent-%COMP%]{background-color:#5d157c;color:#fff}  .full-width-dropdown{width:100%!important}  .full-width-dropdown .p-dropdown{width:100%!important}  .full-width-dropdown>span{padding:.5rem}.form-group[_ngcontent-%COMP%]{font-size:.875rem;color:#4f126a;display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem}.reg-type[_ngcontent-%COMP%]{margin:1rem}  .p-dropdown{width:100%!important}.full-width[_ngcontent-%COMP%]{width:100%!important}.border[_ngcontent-%COMP%]{border:1px solid #5d157c;padding:.5rem}"]})};function cb(o,t){if(o&1&&b(0,"provider-catalogue",5),o&2){let e=C();u("isProviderView",!0)("provider",e.provider)("activeIndex",e.activeIndex)}}function lb(o,t){o&1&&(d(0,"div",13),b(1,"div",14),d(2,"p"),f(3,"Loading subscription products..."),l()())}function db(o,t){if(o&1){let e=k();d(0,"div",17),x("click",function(){let i=O(e).$implicit,r=C(4);return P(r.onSubscriptionProductSelected(i))}),d(1,"div",18)(2,"div",19)(3,"img",20),x("error",function(i){O(e);let r=C(4);return P(r.onImageError(i))}),l()()(),d(4,"div",21)(5,"div",22)(6,"h3",23),f(7),l(),d(8,"p",24),f(9),l()(),d(10,"div",25)(11,"button",26),x("click",function(){let i=O(e).$implicit,r=C(4);return P(r.onSubscriptionProductSelected(i))}),f(12," Register "),l()()()()}if(o&2){let e=t.$implicit,n=C(4);p(3),u("src",n.getProductImage(e),Sn)("alt",e.product_name),p(4),E(e.product_name),p(2),E(e.title1)}}function pb(o,t){if(o&1&&(d(0,"div",15),M(1,db,13,4,"div",16),l()),o&2){let e=C(3);p(),u("ngForOf",e.subscriptionProducts)}}function gb(o,t){o&1&&(d(0,"div",27)(1,"div",28),b(2,"i",29),l(),d(3,"h3"),f(4,"No Subscription Products"),l(),d(5,"p"),f(6,"No subscription products are currently available."),l()())}function mb(o,t){if(o&1&&(d(0,"div",9),M(1,lb,4,0,"div",10)(2,pb,2,1,"div",11)(3,gb,7,0,"div",12),l()),o&2){let e=C(2);p(),u("ngIf",e.isLoadingProducts),p(),u("ngIf",!e.isLoadingProducts),p(),u("ngIf",!e.isLoadingProducts&&e.subscriptionProducts.length===0)}}function ub(o,t){if(o&1){let e=k();d(0,"div",30)(1,"div",31),x("click",function(){O(e);let i=C(2);return P(i.onBackToProducts())}),b(2,"i",32),d(3,"span"),f(4,"Back to Products"),l()(),b(5,"provider-subscription",33),l()}if(o&2){let e=C(2);p(5),u("provider",e.provider)("selectedProduct",e.selectedSubscriptionProduct)}}function fb(o,t){if(o&1&&(d(0,"div",6),M(1,mb,4,3,"div",7)(2,ub,6,2,"div",8),l()),o&2){let e=C();p(),u("ngIf",e.showSubscriptionProducts),p(),u("ngIf",e.showSubscriptionFlow&&e.selectedSubscriptionProduct)}}var _r=class o{constructor(t,e,n,i,r,a){this.members=t;this.authServ=e;this.subscriptionProductsService=n;this.cdr=i;this.backHandleService=r;this.router=a}provider;selectedTab="on_demand";activeIndex=0;BUSINESS_TYPES=fs;subscriptionProducts=[];isLoadingProducts=!1;selectedSubscriptionProduct=null;showSubscriptionProducts=!1;showSubscriptionFlow=!1;productsTabRefreshKey=0;isTabSwitching=!1;ngOnInit(){this.provider=this.authServ.getSelectedProvider(),this.registerBackAction()}ngOnDestroy(){this.cleanupBackAction()}registerBackAction(){let t=this.router.url;console.log("Registering back action for URL:",t);let e={id:"sales-back-action",actionType:"navigate",backNavigationUrl:"/providers",callback:()=>{},value:"",forPageUrl:t};this.backHandleService.backAction=this.backHandleService.backAction.filter(n=>n.forPageUrl!==t),this.backHandleService.backAction.push(e),console.log("Back action registered:",e)}cleanupBackAction(){let t=this.router.url;this.backHandleService.backAction=this.backHandleService.backAction.filter(e=>e.forPageUrl!==t),console.log("Back action cleaned up for URL:",t)}selectTab(t){try{if(this.isTabSwitching){console.log("Tab switch in progress, ignoring click");return}if(this.selectedTab===t){console.log("Same tab clicked, ignoring");return}if(this.isTabSwitching=!0,this.selectedTab=t,console.log("New selectedTab:",this.selectedTab),this.selectedTab==="on_demand")this.switchToProductsTab();else if(this.selectedTab==="subscription")this.switchToSubscriptionTab();else{console.error("Unknown tab:",t),this.isTabSwitching=!1;return}this.cdr.detectChanges(),setTimeout(()=>{this.isTabSwitching=!1},300)}catch(e){console.error("Error in selectTab:",e),this.isTabSwitching=!1}}switchToProductsTab(){this.activeIndex=0,this.showSubscriptionProducts=!1,this.showSubscriptionFlow=!1,this.selectedSubscriptionProduct=null,this.subscriptionProducts=[],this.isLoadingProducts=!1,this.productsTabRefreshKey++,console.log("Products tab state reset complete")}switchToSubscriptionTab(){this.activeIndex=2,this.loadSubscriptionProducts()}loadSubscriptionProducts(){try{this.isLoadingProducts=!0,this.showSubscriptionProducts=!0,this.showSubscriptionFlow=!1;let t=this.provider?.provider_id||this.authServ.getSelectedProviderId();if(!t){console.error("No provider ID available"),this.isLoadingProducts=!1,this.cdr.detectChanges();return}setTimeout(()=>{this.subscriptionProductsService.getSubscriptionProducts(t,void 0,0,10,"subscription","service_subscription").pipe(Ra(e=>(console.error("Error loading subscription products:",e),this.isLoadingProducts=!1,this.cdr.detectChanges(),Va({data:{total:0,products:[]}})))).subscribe(e=>{this.subscriptionProducts=e.data?.products||[],this.isLoadingProducts=!1,this.cdr.detectChanges()})},100)}catch(t){console.error("Error in loadSubscriptionProducts:",t),this.isLoadingProducts=!1,this.cdr.detectChanges()}}onSubscriptionProductSelected(t){this.selectedSubscriptionProduct=t,this.showSubscriptionProducts=!1,this.showSubscriptionFlow=!0}onBackToProducts(){this.showSubscriptionFlow=!1,this.showSubscriptionProducts=!0,this.selectedSubscriptionProduct=null}getProductImage(t){return t.product_image_url&&t.product_image_url.length>0?t.product_image_url[0]:"assets/images/products/default-product.png"}onImageError(t){let e=t.target;e&&(e.src="assets/images/products/default-product.png")}static \u0275fac=function(e){return new(e||o)(y($t),y(B),y(Xo),y(Ro),y(Is),y(rt))};static \u0275cmp=N({type:o,selectors:[["add-sales-from-provider"]],decls:8,vars:9,consts:[[3,"title","icon","showBack"],[1,"tab-switcher"],[1,"tab",3,"click"],[3,"isProviderView","provider","activeIndex",4,"ngIf"],["class","subscription-content",4,"ngIf"],[3,"isProviderView","provider","activeIndex"],[1,"subscription-content"],["class","subscription-products-section",4,"ngIf"],["class","subscription-flow",4,"ngIf"],[1,"subscription-products-section"],["class","loading-state",4,"ngIf"],["class","products-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading-state"],[1,"spinner"],[1,"products-grid"],["class","product-card",3,"click",4,"ngFor","ngForOf"],[1,"product-card",3,"click"],[1,"product-image-section"],[1,"image-container"],[1,"product-image",3,"error","src","alt"],[1,"product-content-section"],[1,"product-info"],[1,"product-title"],[1,"product-description"],[1,"action-section"],["type","button",1,"register-btn",3,"click"],[1,"empty-state"],[1,"empty-icon"],[1,"pi","pi-box"],[1,"subscription-flow"],[1,"back-button",3,"click"],[1,"pi","pi-arrow-left"],[3,"provider","selectedProduct"]],template:function(e,n){e&1&&(b(0,"app-title-card",0),d(1,"div",1)(2,"button",2),x("click",function(){return n.selectTab(n.BUSINESS_TYPES.ondemand)}),f(3," Products "),l(),d(4,"button",2),x("click",function(){return n.selectTab(n.BUSINESS_TYPES.subscription)}),f(5," Subscription "),l()(),M(6,cb,1,3,"provider-catalogue",3)(7,fb,3,2,"div",4)),e&2&&(u("title","Sales")("icon","shopping_bag_outline")("showBack",!0),p(2),pe("active",n.selectedTab===n.BUSINESS_TYPES.ondemand),p(2),pe("active",n.selectedTab===n.BUSINESS_TYPES.subscription),p(2),u("ngIf",n.selectedTab===n.BUSINESS_TYPES.ondemand),p(),u("ngIf",n.selectedTab===n.BUSINESS_TYPES.subscription))},dependencies:[oe,K,me,Ws,qs],styles:[".tab-switcher[_ngcontent-%COMP%]{display:flex;width:97%;max-width:400px;border:2px solid #7b1fa2;border-radius:12px;overflow:hidden;margin:5px;background-color:#7b1fa2}.tab[_ngcontent-%COMP%]{flex:1;padding:5px 0;text-align:center;border:none;outline:none;font-size:14px;font-weight:500;background-color:transparent;color:#fff;cursor:pointer;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{background-color:#fff;color:#7b1fa2}.subscription-content[_ngcontent-%COMP%]{padding:16px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid #f3f3f3;border-top:3px solid #7b1fa2;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666;font-size:14px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.products-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:16px}.product-card[_ngcontent-%COMP%]{display:flex;background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 8px #0000001a;cursor:pointer;transition:all .3s ease;border:1px solid #e5e7eb}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026;border-color:#7b1fa2}.product-image-section[_ngcontent-%COMP%]{flex-shrink:0;margin-right:16px}.product-image-section[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;overflow:hidden;background:#f9fafb;display:flex;align-items:center;justify-content:center}.product-image-section[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-content-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between}.product-info[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937;margin:0 0 4px;line-height:1.4}.product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0;line-height:1.4}.action-section[_ngcontent-%COMP%]{margin-top:12px}.action-section[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7b1fa2,#9c27b0);color:#fff;border:none;border-radius:6px;padding:8px 16px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease}.action-section[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6a1b9a,#8e24aa);transform:translateY(-1px)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:64px;height:64px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#9ca3af}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#374151;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0}.subscription-flow[_ngcontent-%COMP%]{padding:16px 0}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#7b1fa2;font-size:14px;font-weight:500;cursor:pointer;margin-bottom:20px;padding:8px 0}.back-button[_ngcontent-%COMP%]:hover{color:#6a1b9a}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.selected-product-info[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px;margin-bottom:24px}.selected-product-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1e293b;margin:0 0 8px}.selected-product-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0}"]})};function hb(o,t){o&1&&(d(0,"div",5),b(1,"div",6),d(2,"p"),f(3,"Loading order details..."),l()())}function _b(o,t){if(o&1){let e=k();d(0,"div",7)(1,"div",8),b(2,"i",9),l(),d(3,"p",10),f(4),l(),d(5,"button",11),x("click",function(){O(e);let i=C();return P(i.loadOrderDetails())}),b(6,"i",12),f(7," Retry "),l()()}if(o&2){let e=C();p(4),E(e.error)}}function bb(o,t){if(o&1&&(d(0,"div",34)(1,"div",35),f(2),l(),d(3,"div",36)(4,"div",37),f(5),l(),d(6,"div",38),f(7),l()()()),o&2){let e=t.$implicit;p(2),V("",e.quantity," x"),p(3),E(e.product_name),p(2),V("\u20B9",e.total_price,"")}}function Cb(o,t){if(o&1&&(We(0),M(1,bb,8,3,"div",33),Ge()),o&2){let e=C(2);p(),u("ngForOf",e.getProducts())}}function vb(o,t){if(o&1){let e=k();d(0,"div",48)(1,"img",49),x("click",function(){let i=O(e).index,r=C(2).$implicit,a=C(3);return P(a.openImagePreview(a.getImageUrls(r.value),i))}),l(),d(2,"div",50)(3,"button",51),x("click",function(){let i=O(e).index,r=C(2).$implicit,a=C(3);return P(a.openImagePreview(a.getImageUrls(r.value),i))}),f(4," Preview "),l(),d(5,"button",52),x("click",function(){let i=O(e).$implicit,r=C(5);return P(r.downloadImage(i))}),f(6," Download "),l()()()}if(o&2){let e=t.$implicit,n=t.index;p(),Ga("alt","Uploaded Image ",n+1,""),u("src",e,Sn)}}function Ob(o,t){if(o&1&&(We(0),d(1,"div",46),M(2,vb,7,3,"div",47),l(),Ge()),o&2){let e=C().$implicit,n=C(3);p(2),u("ngForOf",n.getImageUrls(e.value))}}function Pb(o,t){if(o&1&&(d(0,"span"),f(1),l()),o&2){let e=C().$implicit;p(),E(e.value)}}function Mb(o,t){if(o&1&&(d(0,"div",42)(1,"div",43),f(2),l(),d(3,"div",44),M(4,Ob,3,1,"ng-container",45)(5,Pb,2,1,"ng-template",null,0,de),l()()),o&2){let e=t.$implicit,n=le(6),i=C(3);p(2),E(e.key),p(2),u("ngIf",i.hasImages(e.value))("ngIfElse",n)}}function xb(o,t){if(o&1&&(We(0),d(1,"div",39)(2,"h3",40),f(3,"Form Details"),l(),M(4,Mb,7,3,"div",41),I(5,"keyvalue"),l(),Ge()),o&2){let e=C(2);p(4),u("ngForOf",D(5,1,e.getFormData()))}}function yb(o,t){if(o&1&&(d(0,"div",53)(1,"div",54)(2,"h3",40),f(3,"Delivery Address"),l(),d(4,"p",55),f(5),l()()()),o&2){let e=C(2);p(5),E(e.getDeliveryAddress())}}function Sb(o,t){if(o&1&&(d(0,"div",56)(1,"div",57)(2,"h3",40),f(3,"Slot"),l(),d(4,"div",58)(5,"div",59)(6,"span",60),f(7),l(),d(8,"span",60),f(9),I(10,"date"),l()()()()()),o&2){let e=C(2);p(7),E(e.order.slot_info.slot_name),p(2),E(Ha(10,2,e.getTimeOnly(e.order.slot_info.start_time),"shortTime"))}}function wb(o,t){if(o&1&&(d(0,"div",64)(1,"span",65),f(2,"Transaction ID:"),l(),d(3,"span",66),f(4),l()()),o&2){let e=C(3);p(4),E(e.order.payment_info.transaction_id)}}function Tb(o,t){if(o&1&&(d(0,"div",61)(1,"div",62)(2,"h3",40),f(3,"Payment Information"),l(),d(4,"div",63)(5,"div",64)(6,"span",65),f(7,"Method:"),l(),d(8,"span",66),f(9),l()(),d(10,"div",64)(11,"span",65),f(12,"Status:"),l(),d(13,"span",66),f(14),I(15,"titlecase"),l()(),M(16,wb,5,1,"div",67),l()()()),o&2){let e=C(2);p(9),E(e.getPaymentMethod()),p(4),Gt("status-"+e.getPaymentStatus()),p(),V(" ",D(15,5,e.getPaymentStatus())," "),p(2),u("ngIf",e.order.payment_info.transaction_id)}}function kb(o,t){if(o&1&&(d(0,"div",68)(1,"div",69)(2,"h3",40),f(3,"Assigned Employee"),l(),d(4,"p",70),f(5),l()()()),o&2){let e=C(2);p(5),E(e.getAssignedEmployee())}}function Eb(o,t){if(o&1){let e=k();d(0,"div",13)(1,"div",14)(2,"button",15),x("click",function(){O(e);let i=C();return P(i.onBackClick())}),b(3,"i",16),l(),d(4,"h1",17),f(5,"Order Details"),l()(),d(6,"div",18)(7,"div",19)(8,"div",20),f(9),I(10,"titlecase"),l()(),d(11,"div",21),M(12,Cb,2,1,"ng-container",22)(13,xb,6,3,"ng-container",22),l(),M(14,yb,6,1,"div",23)(15,Sb,11,5,"div",24)(16,Tb,17,7,"div",25)(17,kb,6,1,"div",26),b(18,"div",27),d(19,"div",28)(20,"div",29)(21,"span",30),f(22,"Ordered On"),l(),d(23,"span",31),f(24),l()(),d(25,"div",32)(26,"span",30),f(27,"Total Amount"),l(),d(28,"span",31),f(29),l()()()()()}if(o&2){let e=C();p(8),Gt("status-"+e.order.status),p(),V(" ",D(10,12,e.order.status)," "),p(3),u("ngIf",e.isProductOrder()),p(),u("ngIf",e.isFormOrder()),p(),u("ngIf",e.order.address),p(),u("ngIf",e.order.slot_info),p(),u("ngIf",e.order.payment_info),p(),u("ngIf",e.order.assigned_to_info),p(7),Ua("",e.getOrderDate(),", ",e.getOrderTime(),""),p(5),V("\u20B9",e.getTotalAmount(),"")}}var br=class o{constructor(t,e,n,i,r,a,s){this.router=t;this.route=e;this.location=n;this.orderService=i;this.toast=r;this.dialog=a;this.rnCommunicator=s}order=null;loading=!1;error=null;touchStartX=0;touchStartY=0;touchEndX=0;touchEndY=0;swipeHandled=!1;ngOnInit(){this.loadOrderDetails()}onTouchStart(t){this.touchStartX=t.changedTouches[0].screenX,this.touchStartY=t.changedTouches[0].screenY,this.swipeHandled=!1}onTouchEnd(t){this.touchEndX=t.changedTouches[0].screenX,this.touchEndY=t.changedTouches[0].screenY,this.swipeHandled||(this.handleSwipeGesture(),this.swipeHandled=!0)}handleSwipeGesture(){let t=this.touchEndX-this.touchStartX,e=this.touchEndY-this.touchStartY,n=80,i=40;Math.abs(t)<n||Math.abs(t)<Math.abs(e)||t<0&&this.onBackClick()}loadOrderDetails(){let t=this.router.getCurrentNavigation();if(t?.extras?.state?.order)this.order=t.extras.state.order,console.log("Order loaded from navigation state:",this.order);else{let e=this.route.snapshot.paramMap.get("id");e?this.fetchOrderById(parseInt(e)):(this.error="Order ID not found",this.toast.error("Error","Order ID not found"))}}fetchOrderById(t){this.loading=!0,this.error=null,console.log("Fetching order details for ID:",t),this.orderService.getOrderById(t).subscribe({next:e=>{console.log("Order details response:",e),this.order=e,this.loading=!1},error:e=>{console.error("Error fetching order details:",e),this.error="Failed to load order details.",this.loading=!1,this.toast.error("Error","Failed to load order details. Please try again.")}})}isProductOrder(){return Array.isArray(this.order?.metadata?.products)}isFormOrder(){return!!this.order?.metadata?.form_data}getProducts(){return this.isProductOrder()?this.order?.metadata?.products||[]:[]}getFormData(){return this.isFormOrder()?this.order?.metadata?.form_data||{}:{}}isImageUrl(t){return typeof t=="string"&&t.match(/\.(jpeg|jpg|png|gif|webp)$/i)!==null}getImageUrls(t){return t?Array.isArray(t)?t.filter(e=>typeof e=="string"&&this.isImageUrl(e)):typeof t=="string"&&this.isImageUrl(t)?[t]:[]:[]}hasImages(t){try{return this.getImageUrls(t).length>0}catch{return!1}}openImagePreview(t,e=0){!t||t.length===0||this.dialog.open(Dn,{panelClass:"image-preview-dialog",data:{images:t}})}downloadImage(t){console.log("\u{1F534} DOWNLOAD CLICKED"),console.log("\u{1F534} Image URL:",t),console.log("\u{1F534} Window object keys (filtered):",Object.keys(window).filter(e=>e.toLowerCase().includes("react")||e.toLowerCase().includes("native")||e.toLowerCase().includes("webkit")));try{let e=this.isReactNativeEnvironment();console.log("\u{1F534} Is React Native:",e),e?(console.log("\u{1F534} Using React Native download method"),this.downloadImageInReactNative(t)):(console.log("\u{1F534} Using Web download method"),this.downloadImageInWeb(t))}catch(e){console.error("\u{1F534} Download failed with error:",e),this.toast.error("Error","Failed to download image")}}isReactNativeEnvironment(){let t=!!window.ReactNativeWebView||!!window.webkit?.messageHandlers;return console.log("Is React Native environment:",t),t}downloadImageInReactNative(t){let e=t.split("/").pop()||`image_${Date.now()}.jpg`;console.log("Sending download message to React Native:",{url:t,fileName:e}),this.rnCommunicator.passActionToRN({action:"DOWNLOAD_IMAGE",value:{url:t,fileName:e,mimeType:"image/jpeg"}}),this.toast.success("Success","Download started")}downloadImageInWeb(t){console.log("Starting web download for:",t),fetch(t).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.blob()}).then(e=>{let n=window.URL.createObjectURL(e),i=document.createElement("a");i.style.display="none",i.href=n;let r=t.split("/").pop()||`image_${Date.now()}.jpg`;i.download=r,document.body.appendChild(i),i.click(),setTimeout(()=>{document.body.removeChild(i),window.URL.revokeObjectURL(n)},100),this.toast.success("Success","Image downloaded")}).catch(e=>{console.error("Fetch download failed, trying direct link:",e);let n=document.createElement("a");n.href=t;let i=t.split("/").pop()||`image_${Date.now()}.jpg`;n.download=i,n.target="_blank",n.rel="noopener noreferrer",document.body.appendChild(n),n.click(),document.body.removeChild(n),this.toast.info("Info","Opening image in new tab")})}onBackClick(){console.log("Back button clicked, navigating to dashboard with Orders tab"),this.router.navigate(["/providers/dashboard"],{queryParams:{tab:"Orders"}})}testNavigation(){console.log("Test navigation button clicked"),console.log("Current URL:",this.router.url),console.log("Navigating to dashboard..."),this.router.navigate(["/providers/dashboard"],{queryParams:{tab:"Orders"}})}onReorder(){console.log("Reorder clicked for order:",this.order),this.toast.success("Success","Reorder functionality coming soon!")}getOrderDate(){return this.order?.created_at?new Date(this.order.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric"}):""}getOrderTime(){return this.order?.created_at?new Date(this.order.created_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):""}getDeliveryAddress(){if(!this.order?.address)return"Address not available";let t=this.order.address;return`${t.line1}, ${t.city}, ${t.state} - ${t.pincode}`}getPaymentStatus(){return this.order?.payment_info?.status||"Unknown"}getPaymentMethod(){return this.order?.payment_info?.method||"Not specified"}getTotalAmount(){return this.order?.amount||0}getAssignedEmployee(){return this.order?.assigned_to_info?.employee_name||"Not assigned"}getTimeOnly(t){return t?new Date(`1970-01-01T${t}`):null}static \u0275fac=function(e){return new(e||o)(y(rt),y(zo),y(Ya),y(Yt),y(ee),y(Ct),y(hs))};static \u0275cmp=N({type:o,selectors:[["order-details"]],hostBindings:function(e,n){e&1&&x("touchstart",function(r){return n.onTouchStart(r)})("touchend",function(r){return n.onTouchEnd(r)})},decls:4,vars:3,consts:[["nonImageTemplate",""],[1,"order-details-container"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","order-content",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"],[1,"error-icon"],[1,"pi","pi-exclamation-triangle"],[1,"error-message"],[1,"retry-button",3,"click"],[1,"pi","pi-refresh","mr-2"],[1,"order-content"],[1,"header"],[1,"back-button",3,"click"],[1,"pi","pi-arrow-left"],[1,"header-title"],[1,"order-card"],[2,"display","flex","justify-content","flex-end","margin-bottom","16px"],[1,"order-status-badge"],[1,"order-items"],[4,"ngIf"],["class","delivery-address",4,"ngIf"],["class","slot-info",4,"ngIf"],["class","payment-info",4,"ngIf"],["class","assigned-employee",4,"ngIf"],[1,"divider"],[1,"order-summary"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-item",2,"border-top","2px solid #dee2e6","padding-top","16px","margin-top","8px"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-item"],[1,"quantity-badge"],[1,"item-details"],[1,"item-name"],[1,"item-price"],[1,"form-metadata"],[1,"section-title"],["class","form-row",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-label"],[1,"form-value"],[4,"ngIf","ngIfElse"],[1,"image-list"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],[1,"uploaded-img",3,"click","src","alt"],[1,"image-actions"],["type","button",1,"img-btn","preview",3,"click"],["type","button",1,"img-btn","download",3,"click"],[1,"delivery-address"],[1,"address-section"],[1,"address-text"],[1,"slot-info"],[1,"slot-section"],[1,"slot-details"],[1,"slot-row"],[1,"slot-value"],[1,"payment-info"],[1,"payment-section"],[1,"payment-details"],[1,"payment-row"],[1,"payment-label"],[1,"payment-value"],["class","payment-row",4,"ngIf"],[1,"assigned-employee"],[1,"employee-section"],[1,"employee-name"]],template:function(e,n){e&1&&(d(0,"div",1),M(1,hb,4,0,"div",2)(2,_b,8,1,"div",3)(3,Eb,30,14,"div",4),l()),e&2&&(p(),u("ngIf",n.loading),p(),u("ngIf",n.error&&!n.loading),p(),u("ngIf",!n.loading&&!n.error&&n.order))},dependencies:[oe,K,Lo,Qa,Ja],styles:['@charset "UTF-8";.order-details-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e8eef5);padding:16px 16px 80px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,sans-serif;touch-action:pan-y;overscroll-behavior:contain}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:50vh}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e0e0e0;border-top:3px solid #5D157C;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:50vh;text-align:center}.error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;color:#5d157c;margin-bottom:16px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#666;font-size:16px;margin-bottom:16px}.error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{background:#5d157c;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-size:14px;cursor:pointer}.error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background:#5d157c}.order-content[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px;position:relative}.header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#333;cursor:pointer;padding:8px;margin-right:12px}.header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{color:#5d157c}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#333;margin:0}.order-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:24px;box-shadow:0 4px 20px #00000014;transition:box-shadow .3s ease}.order-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 30px #0000001f}.restaurant-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:8px;overflow:hidden;margin-right:12px}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-details[_ngcontent-%COMP%]   .restaurant-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin:0 0 4px}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-details[_ngcontent-%COMP%]   .restaurant-location[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0}.restaurant-section[_ngcontent-%COMP%]   .delivery-status[_ngcontent-%COMP%]{display:flex;align-items:center}.restaurant-section[_ngcontent-%COMP%]   .delivery-status[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#4caf50;font-size:16px;margin-right:4px}.restaurant-section[_ngcontent-%COMP%]   .delivery-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:14px;color:#4caf50;font-weight:500}.order-items[_ngcontent-%COMP%]{margin-bottom:24px}.order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:12px;padding:16px;background:linear-gradient(135deg,#f8f9fb,#fafbfc);border-radius:12px;border:1px solid #e8ecf1;transition:all .3s ease}.order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 2px 12px #0000000f}.order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .quantity-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5d157c,#3c0e50);color:#fff;font-size:13px;font-weight:700;padding:6px 12px;border-radius:16px;margin-right:16px;min-width:32px;text-align:center;box-shadow:0 2px 8px #5d157c4d}.order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{flex:1}.order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:6px;line-height:1.4}.order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-variants[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;margin-bottom:4px}.order-items[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#5d157c;margin-top:4px}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]{background:linear-gradient(135deg,#faf9fc,#f5f3f9);border-radius:16px;padding:20px;border:1px solid #e8e5f0}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#2d3748;margin:0 0 20px;padding-bottom:12px;border-bottom:2px solid #5D157C;display:inline-block}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:16px;padding:16px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000a;transition:all .3s ease}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000014;transform:translateY(-2px)}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#4a5568;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]{font-size:15px;color:#1a202c;font-weight:500;line-height:1.6;word-break:break-word}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.9}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   .uploaded-img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;max-height:300px;object-fit:cover;border-radius:12px;margin-top:8px;box-shadow:0 4px 12px #0000001a;transition:all .3s ease;cursor:pointer}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   .uploaded-img[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 6px 20px #00000026}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   .image-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]{margin-top:6px;display:flex;gap:8px}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   .img-btn[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;border:none;font-size:12px;cursor:pointer}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   .img-btn.preview[_ngcontent-%COMP%]{background:#5d157c;color:#fff}.order-items[_ngcontent-%COMP%]   .form-metadata[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-value[_ngcontent-%COMP%]   .img-btn.download[_ngcontent-%COMP%]{background:#e9a213c9;color:#243156}.delivery-address[_ngcontent-%COMP%]{margin-bottom:24px}.delivery-address[_ngcontent-%COMP%]   .address-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#2d3748;margin:0 0 12px;display:flex;align-items:center;gap:8px}.delivery-address[_ngcontent-%COMP%]   .address-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:before{content:"\\1f4cd";font-size:18px}.delivery-address[_ngcontent-%COMP%]   .address-section[_ngcontent-%COMP%]   .address-text[_ngcontent-%COMP%]{font-size:14px;color:#4a5568;line-height:1.7;margin:0;padding:16px;background:linear-gradient(135deg,#f8f9fb,#fafbfc);border-radius:12px;border:1px solid #e8ecf1;box-shadow:0 2px 8px #0000000a}.slot-info[_ngcontent-%COMP%]{margin-bottom:24px}.slot-info[_ngcontent-%COMP%]   .slot-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#2d3748;margin:0 0 12px;display:flex;align-items:center;gap:8px}.slot-info[_ngcontent-%COMP%]   .slot-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:before{content:"\\1f550";font-size:18px}.slot-info[_ngcontent-%COMP%]   .slot-section[_ngcontent-%COMP%]   .slot-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fb,#fafbfc);border-radius:12px;padding:16px;border:1px solid #e8ecf1}.slot-info[_ngcontent-%COMP%]   .slot-section[_ngcontent-%COMP%]   .slot-details[_ngcontent-%COMP%]   .slot-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}.slot-info[_ngcontent-%COMP%]   .slot-section[_ngcontent-%COMP%]   .slot-details[_ngcontent-%COMP%]   .slot-row[_ngcontent-%COMP%]   .slot-label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;font-weight:600}.slot-info[_ngcontent-%COMP%]   .slot-section[_ngcontent-%COMP%]   .slot-details[_ngcontent-%COMP%]   .slot-row[_ngcontent-%COMP%]   .slot-value[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#212529;padding:6px 12px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000000d}.payment-info[_ngcontent-%COMP%]{margin-bottom:24px}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#2d3748;margin:0 0 12px;display:flex;align-items:center;gap:8px}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:before{content:"\\1f4b3";font-size:18px}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fb,#fafbfc);border-radius:12px;padding:16px;border:1px solid #e8ecf1}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #e8ecf1}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-bottom:0}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]:first-child{padding-top:0}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;font-weight:600}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-value[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#212529}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-value.status-pending[_ngcontent-%COMP%]{color:#ffc107;padding:4px 12px;background:#fff3cd;border-radius:12px}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-value.status-paid[_ngcontent-%COMP%]{color:#28a745;padding:4px 12px;background:#d4edda;border-radius:12px}.payment-info[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .payment-row[_ngcontent-%COMP%]   .payment-value.status-failed[_ngcontent-%COMP%]{color:#dc3545;padding:4px 12px;background:#f8d7da;border-radius:12px}.assigned-employee[_ngcontent-%COMP%]{margin-bottom:24px}.assigned-employee[_ngcontent-%COMP%]   .employee-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#2d3748;margin:0 0 12px;display:flex;align-items:center;gap:8px}.assigned-employee[_ngcontent-%COMP%]   .employee-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]:before{content:"\\1f464";font-size:18px}.assigned-employee[_ngcontent-%COMP%]   .employee-section[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-size:15px;color:#212529;margin:0;padding:16px;background:linear-gradient(135deg,#f8f9fb,#fafbfc);border-radius:12px;font-weight:600;border:1px solid #e8ecf1;display:flex;align-items:center;gap:12px}.assigned-employee[_ngcontent-%COMP%]   .employee-section[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]:before{content:"";width:40px;height:40px;background:#5d157c;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:16px;flex-shrink:0}.divider[_ngcontent-%COMP%]{height:1px;background:#e0e0e0;margin:20px 0}.rating-section[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:24px}.rating-section[_ngcontent-%COMP%]   .rating-column[_ngcontent-%COMP%]{flex:1;text-align:center}.rating-section[_ngcontent-%COMP%]   .rating-column[_ngcontent-%COMP%]   .rating-title[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0 0 12px;font-weight:500}.rating-section[_ngcontent-%COMP%]   .rating-column[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:4px}.rating-section[_ngcontent-%COMP%]   .rating-column[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:20px;color:#ddd;cursor:pointer;transition:color .2s}.rating-section[_ngcontent-%COMP%]   .rating-column[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .pi.pi-star-fill[_ngcontent-%COMP%], .rating-section[_ngcontent-%COMP%]   .rating-column[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]:hover{color:gold}.rating-section[_ngcontent-%COMP%]   .rating-divider[_ngcontent-%COMP%]{width:1px;background:#e0e0e0;margin:0 20px;height:60px}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:24px}.action-buttons[_ngcontent-%COMP%]   .reorder-button[_ngcontent-%COMP%]{background:#5d157c;color:#fff;border:none;padding:14px 32px;border-radius:25px;font-size:16px;font-weight:600;cursor:pointer;transition:background .2s}.action-buttons[_ngcontent-%COMP%]   .reorder-button[_ngcontent-%COMP%]:hover{background:#5d157c}.order-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:20px;border-radius:16px;border:2px dashed #dee2e6}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;font-weight:600}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#212529}.order-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]:last-child{font-size:14px;color:#5d157c;font-weight:800}.order-summary[_ngcontent-%COMP%]   .summary-separator[_ngcontent-%COMP%]{display:none}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.order-status-badge[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-size:13px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;display:inline-flex;align-items:center;gap:6px;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.order-status-badge[_ngcontent-%COMP%]:before{content:"";width:8px;height:8px;border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.order-status-badge.status-pending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffe69c);color:#856404;border:1px solid #ffeaa7}.order-status-badge.status-pending[_ngcontent-%COMP%]:before{background:#ffc107}.order-status-badge.status-accepted[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1ecf1,#b8e5f0);color:#0c5460;border:1px solid #bee5eb}.order-status-badge.status-accepted[_ngcontent-%COMP%]:before{background:#17a2b8}.order-status-badge.status-delivered[_ngcontent-%COMP%], .order-status-badge.status-completed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4edda,#c3e6cb);color:#155724;border:1px solid #c3e6cb}.order-status-badge.status-delivered[_ngcontent-%COMP%]:before, .order-status-badge.status-completed[_ngcontent-%COMP%]:before{background:#28a745}.order-status-badge.status-cancelled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8d7da,#f1c0c4);color:#721c24;border:1px solid #f5c6cb}.order-status-badge.status-cancelled[_ngcontent-%COMP%]:before{background:#dc3545}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}@media (max-width: 767px){.order-details-container[_ngcontent-%COMP%]{touch-action:pan-y;-webkit-overflow-scrolling:touch}.order-card[_ngcontent-%COMP%]{transition:transform .2s ease}.order-card[_ngcontent-%COMP%]:active{transform:scale(.98)}}']})};var It=()=>({standalone:!0});function Ib(o,t){o&1&&(d(0,"small",38),f(1,"Message is required (min 5 chars)"),l())}function Db(o,t){if(o&1&&(d(0,"div",4)(1,"label",5),f(2,"Message"),l(),b(3,"input",37),M(4,Ib,2,0,"small",18),l()),o&2){let e,n=C();p(4),u("ngIf",((e=n.reviewForm.get("note_msg"))==null?null:e.invalid)&&((e=n.reviewForm.get("note_msg"))==null?null:e.touched))}}function Fb(o,t){o&1&&(d(0,"small",38),f(1,"Select at least one schedule option"),l())}function Ab(o,t){o&1&&(d(0,"small",38),f(1,"Select at least one delivery method"),l())}var Cr=class o{constructor(t,e,n,i){this.fb=t;this.providerInfoService=e;this.authService=n;this.toast=i;this.reviewForm=this.fb.group({noteMsgEnabled:[!1],note_msg:[""],include_service:[!1],order_schedule_enabled:[!1],order_today:[!1],order_schedule:[!1],order_subscribe:[!1],button_label:[""],delivery_method_enabled:[!1],delivery_home:[!1],delivery_pickup:[!1],delivery_store:[!1]}),this.reviewForm.get("noteMsgEnabled")?.valueChanges.subscribe(r=>{let a=this.reviewForm.get("note_msg");r?a?.addValidators([R.required,R.minLength(5)]):(a?.clearValidators(),a?.setValue("")),a?.updateValueAndValidity({emitEvent:!1})})}reviewForm;searchProvider="";autoMessage=!0;scheduleOptions=[{label:"today",value:"today"},{label:"tomorrow",value:"tomorrow"},{label:"custom",value:"custom"}];orderSchedule="today";deliveryOptions=[{label:"pickup",value:"pickup"},{label:"delivery",value:"delivery"},{label:"instant",value:"instant"},{label:"self",value:"self"}];deliveryMethod="pickup";orderType=["on_demand"];orderTypeOptions=[{label:"On Demand",value:"on_demand"},{label:"Product Subscription",value:"product_subscription"},{label:"Service Subscription",value:"service_subscription"},{label:"Form",value:"form"}];includeService=!0;productTypes=[];productTypeOptions=[{label:"Standard",value:"standard"},{label:"Flexible",value:"flexible"},{label:"Product Subscription",value:"product_subscription"},{label:"Hybrid",value:"hybrid"},{label:"Service subscription",value:"service"},{label:"Forms",value:"forms"}];requireKyc=!1;enableUserById=!1;orderStatusList=[{label:"accepted",value:"accepted"},{label:"processing",value:"processing"},{label:"pending",value:"pending"},{label:"weekly",value:"weekly"},{label:"completed",value:"completed"},{label:"cancelled",value:"cancelled"},{label:"delayed",value:"delayed"},{label:"delivered",value:"delivered"}];selectedStatuses=[];exploreMemberOnly=!1;visibleGlobal=!1;paymentCashOnHand=!0;paymentOnline=!0;convenienceFee=!1;platformFee=!1;yesNoOptions=[{label:"Yes",value:"yes"},{label:"No",value:"no"}];enableUserMyId="yes";get requiresAtLeastOneSchedule(){return this.reviewForm.get("order_schedule_enabled")?.value?!(this.reviewForm.get("order_today")?.value||this.reviewForm.get("order_schedule")?.value||this.reviewForm.get("order_subscribe")?.value):!1}get requiresAtLeastOneDelivery(){return this.reviewForm.get("delivery_method_enabled")?.value?!(this.reviewForm.get("delivery_home")?.value||this.reviewForm.get("delivery_pickup")?.value||this.reviewForm.get("delivery_store")?.value):!1}get requiresAtLeastOnePayment(){return!(this.paymentCashOnHand||this.paymentOnline)}get requiresProductTypes(){return(this.productTypes?.length||0)===0}onSave(){if(this.reviewForm.get("noteMsgEnabled")?.value&&this.reviewForm.get("note_msg")?.invalid){this.reviewForm.get("note_msg")?.markAsTouched();return}if(this.requiresAtLeastOneSchedule||this.requiresAtLeastOneDelivery||this.requiresAtLeastOnePayment||this.requiresProductTypes)return;let t=this.authService.getSelectedProviderId?.()||this.authService.getProviderInfo?.()?.[0]?.provider_id||0,e=this.reviewForm.get("delivery_home")?.value===!0,n=this.reviewForm.get("delivery_pickup")?.value===!0,i=this.reviewForm.get("order_today")?.value===!0,r=this.reviewForm.get("order_schedule")?.value===!0,a=()=>[...n?["pickup"]:[],...e?["Door_step"]:[]],s=(h=!1)=>[...h?["default"]:[],...i?["today"]:[],...r?["schedule"]:[]],c=[];(this.productTypes||[]).forEach(h=>{h==="standard"?c.push({standard:{deliver:["none",...a()],book_type:s(!0)}}):h==="flexible"?c.push({flexible:{deliver:a(),book_type:s(!1)}}):h==="product_subscription"?c.push({product_subscription:{deliver:a(),book_type:s(!1)}}):h==="service_subscription"?c.push({service_subscription:{deliver:a(),book_type:s(!1)}}):h==="hybrid"?c.push({hybrid:{deliver:a(),book_type:s(!1)}}):(h==="forms"||h==="form")&&c.push({forms:{deliver:a(),book_type:s(!1)}})});let m={provider_id:t,slots_enabled:this.reviewForm.get("order_schedule_enabled")?.value===!0,note:this.reviewForm.get("note_msg")?.value||"",button_label:this.reviewForm.get("button_label")?.value||"",member_only:this.exploreMemberOnly===!0,visible:this.visibleGlobal===!0,my_id:this.enableUserMyId==="yes",fees:this.convenienceFee||this.platformFee,fees_config:[...this.convenienceFee?["convenience"]:[],...this.platformFee?["platform"]:[]],metadata:c,payment_type:[...this.paymentCashOnHand?["cash"]:[],...this.paymentOnline?["online"]:[]]};this.providerInfoService.updateProviderSettings(m).subscribe({next:()=>this.toast.success("Success","Settings saved successfully"),error:()=>this.toast.error("Failed","Failed to save settings")})}static \u0275fac=function(e){return new(e||o)(y(Ce),y(js),y(B),y(ee))};static \u0275cmp=N({type:o,selectors:[["app-order-review"]],decls:94,vars:48,consts:[[3,"title","icon","showBack"],[1,"review-page","grid"],[1,"filter-panel","col-12","md:col-4",3,"formGroup"],[1,"card"],[1,"form-section"],[1,"form-label"],[1,"search-box"],["placeholder","Note: Schedule Before a day of Order date",1,"input-style",3,"ngModelChange","ngModel","ngModelOptions"],["type","button",1,"icon-btn"],[1,"pi","pi-search"],[1,"toggle-row"],["formControlName","noteMsgEnabled"],["class","form-section",4,"ngIf"],["formControlName","order_schedule_enabled"],[1,"checkbox-group","order-schedule-options"],["binary","true","label","Today","formControlName","order_today"],["binary","true","label","Schedule","formControlName","order_schedule"],["binary","true","label","Subscribe","formControlName","order_subscribe"],["class","error",4,"ngIf"],["formControlName","delivery_method_enabled"],["binary","true","label","Home Delivery","formControlName","delivery_home"],["binary","true","label","Pckup","formControlName","delivery_pickup"],["binary","true","label","Instore","formControlName","delivery_store"],[1,"form-block"],[1,"block-label"],["optionLabel","label","optionValue","value","defaultLabel","",1,"full-width",3,"ngModelChange","options","ngModel","ngModelOptions"],["optionLabel","label","optionValue","value","display","chip","panelStyleClass","custom-multiselect-panel","placeholder","Select Order Status",1,"custom-multiselect",3,"ngModelChange","options","ngModel","ngModelOptions","selectedItemsLabel","showToggleAll"],["formControlName","include_service"],["formControlName","button_label","placeholder","Eg:  Book,  Donate,  ",1,"input-style"],["optionLabel","label","optionValue","value","display","chip","panelStyleClass","custom-multiselect-panel","defaultLabel","",1,"custom-multiselect",3,"ngModelChange","options","ngModel","ngModelOptions","showToggleAll"],[1,"access-card","card-lite"],[1,"row-line","with-toggle"],[3,"ngModelChange","ngModel","ngModelOptions"],[1,"sub-card"],[1,"section-title"],["optionLabel","label","optionValue","value",1,"yes-no",3,"ngModelChange","options","ngModel","ngModelOptions"],["pButton","","type","button","label","Save",1,"p-button-primary","full-width",3,"click","disabled"],["formControlName","note_msg","placeholder","Note: Schedule Before a day of Order date",1,"input-style"],[1,"error"]],template:function(e,n){if(e&1&&(b(0,"app-title-card",0),d(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"div",4)(5,"label",5),f(6,"Provider"),l(),d(7,"div",6)(8,"input",7),G("ngModelChange",function(r){return W(n.searchProvider,r)||(n.searchProvider=r),r}),l(),d(9,"button",8),b(10,"i",9),l()()(),d(11,"div",10)(12,"label",5),f(13,"Note Message"),l(),b(14,"p-inputSwitch",11),l(),M(15,Db,5,1,"div",12),d(16,"div",10)(17,"label",5),f(18,"Order Schedule"),l(),b(19,"p-inputSwitch",13),l(),d(20,"div",14),b(21,"p-checkbox",15)(22,"p-checkbox",16)(23,"p-checkbox",17),l(),M(24,Fb,2,0,"small",18),d(25,"div",10)(26,"label",5),f(27,"Delivery Method"),l(),b(28,"p-inputSwitch",19),l(),d(29,"div",14),b(30,"p-checkbox",20)(31,"p-checkbox",21)(32,"p-checkbox",22),l(),M(33,Ab,2,0,"small",18),d(34,"div",23)(35,"label",24),f(36,"Order Type"),l(),d(37,"p-multiSelect",25),G("ngModelChange",function(r){return W(n.orderType,r)||(n.orderType=r),r}),l()(),d(38,"div",4)(39,"label",5),f(40,"Order Status"),l(),d(41,"p-multiSelect",26),G("ngModelChange",function(r){return W(n.selectedStatuses,r)||(n.selectedStatuses=r),r}),l()(),d(42,"div",10)(43,"label",5),f(44,"Include Service"),l(),b(45,"p-inputSwitch",27),l(),d(46,"div",4)(47,"label",5),f(48,"Service Button label Customisation"),l(),b(49,"input",28),l(),d(50,"div",23)(51,"label",24),f(52,"Product Type"),l(),d(53,"p-multiSelect",29),G("ngModelChange",function(r){return W(n.productTypes,r)||(n.productTypes=r),r}),l()(),d(54,"div",23)(55,"label",24),f(56,"Access"),l(),d(57,"div",30)(58,"div",31)(59,"span"),f(60,"Explore Page (member Only)"),l(),d(61,"p-inputSwitch",32),G("ngModelChange",function(r){return W(n.exploreMemberOnly,r)||(n.exploreMemberOnly=r),r}),l()(),d(62,"div",31)(63,"span"),f(64,"Visible Global"),l(),d(65,"p-inputSwitch",32),G("ngModelChange",function(r){return W(n.visibleGlobal,r)||(n.visibleGlobal=r),r}),l()()()(),d(66,"div",33)(67,"div",34),f(68,"Payment Mode"),l(),d(69,"div",31)(70,"span"),f(71,"Cash On hand"),l(),d(72,"p-inputSwitch",32),G("ngModelChange",function(r){return W(n.paymentCashOnHand,r)||(n.paymentCashOnHand=r),r}),l()(),d(73,"div",31)(74,"span"),f(75,"Online"),l(),d(76,"p-inputSwitch",32),G("ngModelChange",function(r){return W(n.paymentOnline,r)||(n.paymentOnline=r),r}),l()()(),d(77,"div",23)(78,"label",24),f(79,"Fee to be added"),l(),d(80,"div",31)(81,"span"),f(82,"Convience fee"),l(),d(83,"p-inputSwitch",32),G("ngModelChange",function(r){return W(n.convenienceFee,r)||(n.convenienceFee=r),r}),l()(),d(84,"div",31)(85,"span"),f(86,"Platform Fee"),l(),d(87,"p-inputSwitch",32),G("ngModelChange",function(r){return W(n.platformFee,r)||(n.platformFee=r),r}),l()()(),d(88,"div",23)(89,"label",24),f(90,"Enable User My ID"),l(),d(91,"p-selectButton",35),G("ngModelChange",function(r){return W(n.enableUserMyId,r)||(n.enableUserMyId=r),r}),l()(),d(92,"div",23)(93,"button",36),x("click",function(){return n.onSave()}),l()()()()()),e&2){let i;u("title","Order review")("icon","rate_review")("showBack",!0),p(2),u("formGroup",n.reviewForm),p(6),q("ngModel",n.searchProvider),u("ngModelOptions",he(37,It)),p(7),u("ngIf",(i=n.reviewForm.get("noteMsgEnabled"))==null?null:i.value),p(9),u("ngIf",n.requiresAtLeastOneSchedule),p(9),u("ngIf",n.requiresAtLeastOneDelivery),p(4),u("options",n.orderTypeOptions),q("ngModel",n.orderType),u("ngModelOptions",he(38,It)),p(4),u("options",n.orderStatusList),q("ngModel",n.selectedStatuses),u("ngModelOptions",he(39,It))("selectedItemsLabel","{0} selected")("showToggleAll",!1),p(12),u("options",n.productTypeOptions),q("ngModel",n.productTypes),u("ngModelOptions",he(40,It))("showToggleAll",!1),p(8),q("ngModel",n.exploreMemberOnly),u("ngModelOptions",he(41,It)),p(4),q("ngModel",n.visibleGlobal),u("ngModelOptions",he(42,It)),p(7),q("ngModel",n.paymentCashOnHand),u("ngModelOptions",he(43,It)),p(4),q("ngModel",n.paymentOnline),u("ngModelOptions",he(44,It)),p(7),q("ngModel",n.convenienceFee),u("ngModelOptions",he(45,It)),p(4),q("ngModel",n.platformFee),u("ngModelOptions",he(46,It)),p(4),u("options",n.yesNoOptions),q("ngModel",n.enableUserMyId),u("ngModelOptions",he(47,It)),p(2),u("disabled",n.requiresAtLeastOneSchedule||n.requiresAtLeastOneDelivery||n.requiresAtLeastOnePayment||n.requiresProductTypes)}},dependencies:[K,me,Me,$o,Gs,Qe,Us,ne,Q,be,Re,Hs,Oe,Pe],styles:[".review-page[_ngcontent-%COMP%]{padding:16px;font-family:Roboto,Segoe UI,-apple-system,BlinkMacSystemFont,sans-serif}.filter-panel[_ngcontent-%COMP%]{width:360px;background:#fff;border-radius:12px}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.search-field[_ngcontent-%COMP%]{flex:1;max-width:200px}.section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px;text-transform:capitalize}.method-chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer}.w-100[_ngcontent-%COMP%], .full-width[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:12px;padding:16px}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.placeholder[_ngcontent-%COMP%]{margin-top:24px;color:#777}.card[_ngcontent-%COMP%]{box-shadow:0 6.25px 14px #171a1f33,0 0 2px #171a1f33;border-radius:14px;padding:16px}.block-label[_ngcontent-%COMP%], .form-label[_ngcontent-%COMP%]{color:#5d157c;font-weight:700;margin-bottom:6px;display:flex;align-items:center;gap:8px;font-size:14px}.with-toggle[_ngcontent-%COMP%]{display:inline-block;margin-right:8px}.form-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:14px 0}.form-block.subtle[_ngcontent-%COMP%]   .subtext[_ngcontent-%COMP%]{color:#6b6b6b;font-weight:600;margin-bottom:6px;font-size:12px}.options-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:8px}.stacked-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:10px 12px;margin-top:12px}.card-lite[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 6.25px 14px #171a1f22,0 0 2px #171a1f22;padding:10px}.sub-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 6.25px 14px #171a1f22,0 0 2px #171a1f22;margin-top:10px;padding:10px}.row-line[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:8px 0}.toggle-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:10px 0}.section-title[_ngcontent-%COMP%]{color:#5d157c;font-weight:700;margin:8px 0;font-size:14px}.yes-no[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.p-button){padding:4px 16px}  .yes-no .p-button{border:2px solid #5d157c;color:#5d157c;background:#fff}  .yes-no .p-button.p-highlight{background:#5d157c;color:#fff;border-color:#5d157c}  .p-inputtext{border:2px solid #5d157c;border-radius:10px}  .p-multiselect{width:100%;border:2px solid #5d157c;border-radius:10px}  .p-multiselect .p-multiselect-label{padding:8px 12px}  .p-multiselect .p-multiselect-token{border:2px solid #5d157c;border-radius:8px;color:#5d157c}  .p-inputswitch-checked .p-inputswitch-slider{background:#5d157c}  .p-checkbox .p-checkbox-box{border:2px solid #5d157c;border-radius:6px}  .p-checkbox .p-checkbox-box.p-highlight{border-color:#5d157c;background:#5d157c}.input-style[_ngcontent-%COMP%]{background-color:#f8ecfc;border-radius:12px;border:none;padding:10px 14px;font-size:14px;color:#333;width:100%}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f9f2fd;border-radius:12px;padding-right:10px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:transparent;padding:12px;flex-grow:1}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#5d157c;font-size:16px;cursor:pointer}.form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.error[_ngcontent-%COMP%]{color:#d32f2f;font-size:12px;margin-top:6px}  .p-button.p-button-primary.full-width{width:100%;background:#5d157c;border:2px solid #5d157c;color:#fff;border-radius:10px;padding:10px 16px;font-weight:600;box-shadow:0 6.25px 14px #171a1f33,0 0 2px #171a1f22}  .p-button.p-button-primary.full-width:hover{background:#4a0f6f;border-color:#4a0f6f}"]})};var Vb=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Hi},{path:"category",component:$i},{path:"sales",component:fr},{path:"add-sales",component:_r},{path:"members",component:Ki},{path:"enquiry",component:Ji},{path:"expenses",component:er},{path:"subscription-setup",component:nr},{path:"employee-setup",component:ir},{path:"setup-registration",component:hr},{path:"settings",component:rr},{path:"member-card-setup",component:sr},{path:"slots",component:lr},{path:"product",component:pr},{path:"group",component:mr},{path:"orders/:id",component:br},{path:"order-review",component:Cr},{path:"info",loadChildren:()=>import("./chunk-63MGN57V.js").then(o=>o.ProviderInfoModule)}],vr=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=Do({type:o});static \u0275inj=Io({imports:[Pr.forChild(Vb),Pr]})};var vd=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=Do({type:o});static \u0275inj=Io({imports:[Za,Xs,vr,Ys,$s,gs,ms,Ks,Ms.pick({Search:Os,X:Ps,ChevronRight:_s,Minus:Cs,Plus:vs,Filter:bs}),us]})};export{vd as ProvidersModule};
