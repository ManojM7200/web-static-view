import{Ba as fn,C as Re,F as Ve,Ga as Cn,Ha as pt,J as at,L as ln,Lb as Nt,N as ye,O as pn,P as mn,S as ct,Sb as ft,Tb as ke,U as T,V as st,Va as bn,Vb as te,W as Lt,Yb as Ne,a as R,ac as yn,bb as Le,bc as wn,c as rt,cc as Sn,da as y,dc as kn,ea as we,ec as In,fb as mt,fc as Ct,gc as En,hb as gt,hc as Tn,ib as Mn,ic as Fn,ja as dt,kb as On,kc as Dn,l as de,m as A,mb as Pn,mc as An,nc as zn,ob as ut,p as dn,pa as gn,pb as vn,pc as jn,q as Oe,qa as pe,qc as Un,r as V,s as le,sa as lt,sb as Se,t as ze,ta as I,tb as hn,ub as xn,wb as _t,x as xe,xa as un,y as je,ya as me,z as Ue,za as _n}from"./chunk-MBWBBTNW.js";import{A as Q,Ac as K,Ad as on,Bc as Fe,Bd as rn,Cd as Ae,Dc as en,Dd as an,Ea as f,Ed as Me,Fa as C,Fb as _,G as Yt,Hc as b,Ic as M,Id as cn,Jb as d,Jc as J,Jd as sn,Kb as Z,Kc as Vt,Lb as F,Mb as He,Mc as ee,Nb as he,O as Ht,Ob as Wt,Pb as De,Qb as Qt,Sb as Xt,T as Kt,Tb as Zt,Ub as i,Vb as r,Wb as m,Xb as ge,Yb as ue,Zb as Pe,_b as h,_c as se,a as G,b as $,bc as u,ca as H,dc as l,e as Ze,gc as oe,h as ne,ib as U,jc as nt,ka as X,kc as ot,la as et,lc as it,n as Te,nb as c,ob as P,oc as j,pa as q,pc as s,qa as Jt,qc as g,qd as tn,rc as v,sc as ie,sd as Y,ua as w,uc as L,ud as D,va as tt,vc as N,vd as k,wc as B,z as Rt,zc as be,zd as nn}from"./chunk-7JLUKY3W.js";var Gn=Ze(ft());var bt=class o{constructor(t,e){this.http=t;this.authService=e}configureTabs(t){let e=`rbac/providers/${t.provider_id}/tab-config`;return this.http.post(e,t)}getTabConfig(t,e){let n=`rbac/providers/${t}/tab-config?role=${e}`;return this.http.get(n)}updateTabConfig(t){let e=`rbac/providers/${t.provider_id}/tab-config`;return this.http.put(e,t)}getUserTabAccess(t,e){let n=`rbac/providers/${t}/user/${e}/tabaccess`;return this.http.get(n)}getAllTabConfigs(t){let e=`rbac/providers/${t}/tab-configs`;return this.http.get(e)}static \u0275fac=function(e){return new(e||o)(q(pe),q(I))};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})};var Wn=()=>[1,2,3,4,5],Rn=(o,t)=>({"even-card":o,"odd-card":t});function Qn(o,t){if(o&1&&(i(0,"div",8)(1,"div",9),m(2,"div",10),i(3,"div",11),m(4,"div",12),i(5,"div",13),m(6,"div",14)(7,"div",15),r()()(),m(8,"div",16),r()),o&2){let e=t.index;d("ngClass",Fe(1,Rn,e%2===0,e%2===1))}}function Xn(o,t){o&1&&(i(0,"div",6),_(1,Qn,9,4,"div",7),r()),o&2&&(c(),d("ngForOf",be(1,Wn)))}function Zn(o,t){if(o&1){let e=h();i(0,"div",17)(1,"div",18),s(2,"\u26A0\uFE0F"),r(),i(3,"p"),s(4),r(),i(5,"button",19),u("click",function(){f(e);let a=l();return C(a.refreshMyIdCards())}),s(6),b(7,"translate"),r()()}if(o&2){let e=l();c(4),g(e.errorMessage),c(2),g(M(7,2,"actions.retry"))}}function eo(o,t){o&1&&(i(0,"div",20)(1,"div",21),s(2,"\u{1F194}"),r(),i(3,"p"),s(4),b(5,"translate"),r(),i(6,"p",22),s(7),b(8,"translate"),r()()),o&2&&(c(4),g(M(5,2,"my-ids.no_id_cards_found")),c(3),g(M(8,4,"my-ids.membership_ids_info")))}function to(o,t){if(o&1&&m(0,"img",36),o&2){let e=l().$implicit;d("src",e.provider_details.provider_logo_url,U)("alt",e.provider_details.provider_display_name)}}function no(o,t){if(o&1&&(i(0,"div",37),s(1),r()),o&2){let e=l().$implicit,n=l();c(),v(" ",n.getInitials(e)," ")}}function oo(o,t){if(o&1&&(i(0,"div",38),m(1,"img",36),r()),o&2){let e=l().$implicit;c(),d("src",e.provider_details.provider_logo_url,U)("alt",e.provider_details.provider_display_name+" logo")}}function io(o,t){if(o&1&&(i(0,"div",39),s(1),r()),o&2){let e=l().$implicit,n=l();c(),v(" ",n.getProviderInitials(e.provider_details.provider_display_name)," ")}}function ro(o,t){if(o&1){let e=h();i(0,"div",23),u("click",function(){let a=f(e).$implicit,p=l();return C(p.onCardClick(a))}),i(1,"div",24)(2,"div",25),s(3),r(),i(4,"div",26)(5,"div",27),_(6,to,1,2,"img",28)(7,no,2,1,"div",29),r(),i(8,"div",30)(9,"div",31),s(10),r(),i(11,"div",32),s(12),r()()()(),i(13,"div",33),_(14,oo,2,2,"div",34)(15,io,2,1,"div",35),r()()}if(o&2){let e=t.$implicit,n=t.index,a=l();d("ngClass",Fe(8,Rn,n%2===0,n%2===1)),c(3),g(e.provider_details.provider_display_name),c(3),d("ngIf",e.provider_details.provider_logo_url),c(),d("ngIf",!e.provider_details.provider_logo_url),c(3),g(a.getCardName(e)),c(2),g(a.getCardRole(e)),c(2),d("ngIf",e.provider_details.provider_logo_url),c(),d("ngIf",!e.provider_details.provider_logo_url)}}var Mt=class o{constructor(t,e,n,a,p){this._customerService=t;this._authService=e;this._rbacService=n;this._toast=a;this._router=p}myIdGroups=[];allMyIdCards=[];isLoading=!1;errorMessage="";totalCount=0;destroy$=new Te;ngOnInit(){this.loadMyIdCards()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadMyIdCards(){this.isLoading=!0,this.errorMessage="";let t=this._authService.getUserId();if(!t){this.errorMessage="User ID not found",this.isLoading=!1,console.error("User ID not found");return}this._customerService.getMyIdEmpMember(t).pipe(H(this.destroy$)).subscribe({next:e=>{e&&e.data?(this.myIdGroups=e.data,this.totalCount=e.total_count,this.allMyIdCards=[],this.myIdGroups.forEach(n=>{this.allMyIdCards.push(...n.data)})):this.errorMessage="No MyId cards found",this.isLoading=!1},error:e=>{console.error("Error loading MyId cards:",e),this.errorMessage="Failed to load MyId cards",this.isLoading=!1}})}refreshMyIdCards(){this.loadMyIdCards()}getInitials(t){let e=t.member_name||t.employee_name;if(!e)return"??";let n=e.trim().split(" ");return n.length>=2?(n[0][0]+n[1][0]).toUpperCase():e.substring(0,2).toUpperCase()}getProviderInitials(t){if(!t)return"??";let e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():t.substring(0,2).toUpperCase()}getCardName(t){return t.member_name||t.employee_name||"Unknown"}getCardRole(t){return t.role?t.role:t.member_id?"Member":t.employee_id?"Employee":"Member"}getCardId(t){return t.member_id||t.employee_id||0}onCardClick(t){let e=this.getCardRole(t).toLowerCase();e==="member"||e==="user"?this.navigateToMemberDetails(t):this.checkEmployeeTabAccess(t)}navigateToMemberDetails(t){this._router.navigate(["/customers/member-details"],{state:{card:t,role:this.getCardRole(t).toLowerCase()}}).then(e=>{e||this._router.navigate(["member-details"],{state:{card:t}})}).catch(e=>{console.error("Navigation error:",e),this._router.navigate(["member-details"],{state:{card:t}})})}isOpeningProvider=!1;checkEmployeeTabAccess(t){let e=t.provider_details.provider_id,n=this._authService.getUserId();if(!e||!n){this._toast.error("Error","Unable to get provider or user information");return}this.isOpeningProvider=!0,this._rbacService.getUserTabAccess(e,n).pipe(H(this.destroy$)).subscribe({next:a=>{if(a){let p=a.tabs,O=a.role,x=a.provider_id,E=a.user_id;this._router.navigate(["/providers/dashboard"],{state:{userTabAccess:{provider_id:x,user_id:E,role:O,tabs:p},card:t}}).then(()=>{this.isOpeningProvider=!1})}else this._toast.info("Access Information","No specific tab access found for this user"),this.isOpeningProvider=!1},error:a=>{console.error("Error getting user tab access:",a),this._toast.error("Error","Failed to get user access information"),this.isOpeningProvider=!1}})}static \u0275fac=function(e){return new(e||o)(P(te),P(I),P(bt),P(me),P(T))};static \u0275cmp=w({type:o,selectors:[["my-ids"]],decls:6,vars:5,consts:[["message","Opening Dashboard...","mode","overlay",3,"visible"],[1,"my-id-card-containers"],["class","skeleton-cards",4,"ngIf"],["class","error-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","my-id-card",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"skeleton-cards"],["class","skeleton-card even-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"skeleton-card","even-card",3,"ngClass"],[1,"skeleton-content"],[1,"skeleton-title"],[1,"skeleton-user-info"],[1,"skeleton-avatar"],[1,"skeleton-text"],[1,"skeleton-name"],[1,"skeleton-role"],[1,"skeleton-logo"],[1,"error-state"],[1,"error-icon"],[1,"retry-button",3,"click"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-subtitle"],[1,"my-id-card",3,"click","ngClass"],[1,"my-id-card-desc"],[1,"title"],[1,"user-info"],[1,"profile-pic"],[3,"src","alt",4,"ngIf"],["class","default-avatar",4,"ngIf"],[1,"user-name-info"],[1,"user-name"],[1,"user-role"],[1,"my-id-profile"],["class","provider-logo",4,"ngIf"],["class","default-logo",4,"ngIf"],[3,"src","alt"],[1,"default-avatar"],[1,"provider-logo"],[1,"default-logo"]],template:function(e,n){e&1&&(m(0,"app-community-loader",0),i(1,"div",1),_(2,Xn,2,2,"div",2)(3,Zn,8,4,"div",3)(4,eo,9,6,"div",4)(5,ro,16,11,"div",5),r()),e&2&&(d("visible",n.isOpeningProvider),c(2),d("ngIf",n.isLoading),c(),d("ngIf",n.errorMessage&&!n.isLoading),c(),d("ngIf",!n.isLoading&&!n.errorMessage&&n.allMyIdCards.length===0),c(),d("ngForOf",n.allMyIdCards))},dependencies:[Y,D,k,Fn,A],styles:[".my-id-card-containers[_ngcontent-%COMP%]{padding:1.25rem 0;margin-top:0}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{display:flex;border-radius:.75rem;margin-bottom:1rem;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52;justify-content:space-between;align-items:center;padding:1.25rem;height:100px;background-color:#f8f9fa}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card.even-card[_ngcontent-%COMP%]{background-color:#ffe17f}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card.odd-card[_ngcontent-%COMP%]{background-color:#f8f4ff}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]{flex:1}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{width:60%;height:.875rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.25rem;margin-bottom:.75rem}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]   .skeleton-user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]   .skeleton-user-info[_ngcontent-%COMP%]   .skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]   .skeleton-user-info[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]{margin-left:.875rem}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]   .skeleton-user-info[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]   .skeleton-name[_ngcontent-%COMP%]{width:4rem;height:1rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.25rem;margin-bottom:.25rem}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-content[_ngcontent-%COMP%]   .skeleton-user-info[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]   .skeleton-role[_ngcontent-%COMP%]{width:2.5rem;height:.8125rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.25rem}.my-id-card-containers[_ngcontent-%COMP%]   .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-logo[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:6px;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite}.my-id-card-containers[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center}.my-id-card-containers[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.my-id-card-containers[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-bottom:1rem}.my-id-card-containers[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{background-color:#9421c5;color:#fff;border:none;padding:.5rem 1rem;border-radius:.25rem;font-size:.875rem;cursor:pointer}.my-id-card-containers[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background-color:#7c1ba3}.my-id-card-containers[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center}.my-id-card-containers[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.my-id-card-containers[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-bottom:.5rem}.my-id-card-containers[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-subtitle[_ngcontent-%COMP%]{font-size:.75rem;color:#999}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]{display:flex;border-radius:6px;margin-bottom:1rem;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52;justify-content:space-between;align-items:center;padding:1.25rem;height:100px;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;border:none}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #1c191d4a,0 0 3px #1c191d52}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1.5px 4px #1c191d4a,0 0 1px #1c191d52}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card.even-card[_ngcontent-%COMP%]{background-color:#ffe17f}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card.odd-card[_ngcontent-%COMP%]{background-color:#f8f4ff}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-card-desc[_ngcontent-%COMP%]{flex:1}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-card-desc[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#000;margin-bottom:1rem;line-height:1.2;letter-spacing:-.01em}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-card-desc[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-card-desc[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:3rem;height:3rem;flex-shrink:0}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-card-desc[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;border:2px solid rgba(255,255,255,.8)}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-card-desc[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#9ca3af;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.875rem;border:2px solid rgba(255,255,255,.8)}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-card-desc[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name-info[_ngcontent-%COMP%]{margin-left:.875rem}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-card-desc[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#9421c5;line-height:1.2;margin-bottom:.25rem;letter-spacing:-.01em}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-card-desc[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.8125rem;color:#6b7280;line-height:1.2;text-transform:capitalize;font-weight:500}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-profile[_ngcontent-%COMP%]{width:5rem;height:5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-profile[_ngcontent-%COMP%]   .provider-logo[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#fff;border-radius:6px;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-profile[_ngcontent-%COMP%]   .provider-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.my-id-card-containers[_ngcontent-%COMP%]   .my-id-card[_ngcontent-%COMP%]   .my-id-profile[_ngcontent-%COMP%]   .default-logo[_ngcontent-%COMP%]{width:4rem;height:4rem;border-radius:6px;background-color:#fff;color:#9421c5;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.5rem;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52;letter-spacing:-.02em}@keyframes _ngcontent-%COMP%_skeleton-loading{0%{background-position:-200% 0}to{background-position:200% 0}}"]})};var Be=class o{constructor(t,e){this.http=t;this.authService=e}getUserSubscriptions(t,e,n,a){let p=y.PROVIDER_INFO.GET_USER_SUBSCRIPTION_LIST,O=[];return t&&O.push(`user_id=${t}`),e&&O.push(`status=${e}`),n!==void 0&&O.push(`skip=${n}`),a!==void 0&&O.push(`limit=${a}`),O.length>0&&(p+=`?${O.join("&")}`),this.http.get(p).pipe(Q(x=>({status:!0,data:x})))}getSubscriptionsByUserAndProvider(t,e,n){let a=`${y.PROVIDER_INFO.GET_USER_SUBSCRIPTION_LIST}?provider_id=${e}&user_id=${t}`;return n&&(a+=`&status=${n}`),this.http.get(a).pipe(Q(p=>({status:!0,data:p})))}getSubscriptionById(t){let e=`${y.PROVIDER_INFO.GET_SUBSCRIPTION_LIST}${t}`;return this.http.get(e).pipe(Q(n=>({status:!0,data:n})))}createSubscription(t){let e=y.PROVIDER_INFO.CREATE_SUBSCRIPTION;return this.http.post(e,t).pipe(Q(n=>({status:!0,data:n})))}softDeleteSubscription(t){let e=`${y.PROVIDER_INFO.SOFT_DELETE_SUBSCRIPTION}${t}`;return this.http.patch(e,{}).pipe(Q(n=>({status:!0,data:n,message:"Subscription marked as inactive successfully"})))}cancelSubscription(t){let e=`${y.PROVIDER_INFO.GET_SUBSCRIPTION_LIST}${t}`;return this.http.put(e,{status:"cancelled"}).pipe(Q(n=>({status:!0,data:n})))}renewSubscription(t,e){let n=`${y.PROVIDER_INFO.GET_SUBSCRIPTION_LIST}${t}`,a={status:"active"};return e&&(a.end_date=e),this.http.put(n,a).pipe(Q(p=>({status:!0,data:p})))}getActiveSubscriptionsCount(){return this.getUserSubscriptions(void 0,"active").pipe(Q(t=>t.data?.total||0))}hasActiveSubscription(t){return this.getUserSubscriptions(void 0,"active").pipe(Q(e=>{if(!e.data?.grouped_subscriptions)return!1;let n=e.data.grouped_subscriptions.find(a=>a.provider.provider_id===t);return n?n.subscriptions.length>0:!1}))}getStagedOrders(t,e,n,a){let p=y.PROVIDER_INFO.STAGED_ORDERS,O=[];return t&&O.push(`user_id=${t}`),e&&O.push(`provider_id=${e}`),n&&O.push(`delivery_date=${n}`),a&&O.push(`status=${a}`),O.length>0&&(p+=`?${O.join("&")}`),this.http.get(p).pipe(Q(x=>({status:!0,data:x})))}modifyStagedOrder(t,e){let n=this.authService.getUserId(),a=`${y.PROVIDER_INFO.STAGED_ORDERS}/${t}`,p=[];p.push(`modified_by=${n}`),e.quantity!==void 0&&p.push(`quantity=${e.quantity}`),e.status&&p.push(`status=${e.status}`),e.reason&&p.push(`reason=${encodeURIComponent(e.reason)}`);let O=`${a}?${p.join("&")}`;return this.http.patch(O,{}).pipe(Q(x=>({status:!0,data:x,message:"Order updated successfully"})))}getProductSubscriptions(t,e,n=0,a=20){let p=y.PROVIDER_INFO.GET_PRODUCT_SUBSCRIPTIONS,O=[];return t&&O.push(`user_id=${t}`),e&&O.push(`provider_id=${e}`),O.push(`skip=${n}`),O.push(`limit=${a}`),O.length>0&&(p+=`?${O.join("&")}`),this.http.get(p).pipe(Q(x=>({status:!0,data:x})))}updateProductSubscription(t){let e=y.SUBSCRIPTION_API_URL.update;return console.log("[SubscriptionService] Update Product Subscription:",t),this.http.put(e,t).pipe(Q(n=>({status:!0,data:n,message:"Subscription updated successfully"})))}static \u0275fac=function(e){return new(e||o)(q(pe),q(I))};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})};var lo=(o,t,e,n)=>({"card-active":o,"card-expired":t,"card-cancelled":e,"card-pending":n}),po=(o,t)=>({"alert-warning":o,"alert-danger":t}),Ln=()=>({width:"90vw",maxWidth:"350px"});function mo(o,t){o&1&&(i(0,"div",6)(1,"div",7),m(2,"i",8),i(3,"p"),s(4,"Updating Subscription..."),r()()())}function go(o,t){o&1&&(i(0,"div",13),m(1,"div",14),i(2,"p",15),s(3),b(4,"translate"),r()()),o&2&&(c(3),v(" ",M(4,1,"my-sub.loading_subscriptions")," "))}function uo(o,t){if(o&1){let e=h();i(0,"div",16)(1,"div",17),s(2,"\u26A0\uFE0F"),r(),i(3,"p",18),s(4),r(),i(5,"button",19),u("click",function(){f(e);let a=l(2);return C(a.refresh())}),s(6),b(7,"translate"),r()()}if(o&2){let e=l(2);c(4),g(e.error),c(2),v(" ",M(7,2,"actions.retry")," ")}}function _o(o,t){o&1&&(i(0,"div",20)(1,"div",21)(2,"div",22),m(3,"i",23),r(),i(4,"h3",24),s(5,"Discover Your Next Passion"),r(),i(6,"p",25),s(7," Connect with providers and get your subscription cards for "),m(8,"br"),i(9,"strong"),s(10,"Silambam, Karate, Tuition, Community"),r(),s(11,", and more. "),r(),i(12,"button",26),s(13," Find Providers near you "),r()()())}function fo(o,t){if(o&1&&(i(0,"h3",53),m(1,"i",54),s(2),r()),o&2){let e=l().$implicit;c(2),v(" ",e.member==null?null:e.member.member_name," ")}}function Co(o,t){if(o&1&&(i(0,"p",55),m(1,"i",56),s(2),r()),o&2){let e=l().$implicit;c(2),v(" ",e.group.group_name," ")}}function bo(o,t){if(o&1&&(i(0,"div",57),s(1),r()),o&2){let e=l().$implicit,n=l(3);d("ngClass",Fe(2,po,n.isExpiringSoon(e),n.isOverdue(e))),c(),v(" ",n.getExpiringMessage(e)," ")}}function Mo(o,t){if(o&1){let e=h();i(0,"button",58),u("click",function(){f(e);let a=l().$implicit,p=l(3);return C(p.cancelSubscription(a))}),s(1," Cancel "),r()}}function Oo(o,t){if(o&1){let e=h();i(0,"button",59),u("click",function(){f(e);let a=l().$implicit,p=l(3);return C(p.renewSubscription(a))}),s(1," Renew "),r()}}function Po(o,t){if(o&1&&(i(0,"div",29)(1,"div",30)(2,"div",31),_(3,fo,3,1,"h3",32),i(4,"p",33),s(5),r()(),i(6,"div",34),s(7),r()(),i(8,"div",35),_(9,Co,3,1,"p",36),i(10,"p",37),m(11,"i",38),s(12),r()(),i(13,"div",39)(14,"div",40)(15,"div",41)(16,"span",42),s(17),r()(),i(18,"div",43),m(19,"i",44),i(20,"span",42),s(21),b(22,"date"),b(23,"date"),r()()(),i(24,"div",45)(25,"span",46),s(26),r()()(),_(27,bo,2,5,"div",47),i(28,"div",48)(29,"span",49),s(30),b(31,"uppercase"),r(),i(32,"div",50),_(33,Mo,2,0,"button",51)(34,Oo,2,0,"button",52),r()()()),o&2){let e=t.$implicit,n=l(3);d("ngClass",en(22,lo,n.getDisplayStatus(e)==="active",n.getDisplayStatus(e)==="inactive"||n.getDisplayStatus(e)==="expired",n.getDisplayStatus(e)==="cancelled",n.getDisplayStatus(e)==="pending"||n.getDisplayStatus(e)==="pending_payment")),c(3),d("ngIf",e.member==null?null:e.member.member_name),c(2),g(e.product.name),c(2),v(" ",n.getDisplayStatus(e)==="pending_payment"?"PENDING":n.getDisplayStatus(e).toUpperCase()," "),c(2),d("ngIf",e.group==null?null:e.group.group_name),c(3),v(" ",e.plan.name," "),c(5),v("#",e.subscription_id,""),c(4),ie("",J(22,14,e.start_date,"dd/MM/yy")," - ",J(23,17,e.end_date,"dd/MM/yy"),""),c(5),v("\u20B9",e.amount_paid,""),c(),d("ngIf",n.isExpiringSoon(e)||n.isOverdue(e)),c(3),g(M(31,20,e.billing_type)),c(3),d("ngIf",n.getDisplayStatus(e)==="active"&&!n.isExpiringSoon(e)&&!n.isOverdue(e)&&!n.isGracePeriodExpired(e)),c(),d("ngIf",n.getDisplayStatus(e)==="inactive"||n.getDisplayStatus(e)==="expired"||n.isExpiringSoon(e)||n.isOverdue(e)||n.isGracePeriodExpired(e))}}function vo(o,t){if(o&1&&(i(0,"div",27),_(1,Po,35,27,"div",28),r()),o&2){let e=l(2);c(),d("ngForOf",e.subscriptions)}}function ho(o,t){if(o&1&&(i(0,"div"),_(1,go,5,3,"div",9)(2,uo,8,4,"div",10)(3,_o,14,0,"div",11)(4,vo,2,1,"div",12),r()),o&2){let e=l();c(),d("ngIf",e.loading),c(),d("ngIf",e.error&&!e.loading),c(),d("ngIf",!e.loading&&!e.error&&e.subscriptions.length===0),c(),d("ngIf",!e.loading&&!e.error&&e.subscriptions.length>0)}}function xo(o,t){o&1&&(i(0,"div",13),m(1,"div",14),i(2,"div",15),s(3,"Loading product subscriptions..."),r()())}function yo(o,t){o&1&&(i(0,"div",20)(1,"div",74),s(2,"\u{1F4ED}"),r(),i(3,"p",25),s(4,"No active product subscriptions found."),r()())}function wo(o,t){if(o&1){let e=h();i(0,"button",101),u("click",function(){f(e);let a=l().$implicit,p=l(3);return C(p.openPauseDialog(a))}),s(1," Pause "),r()}}function So(o,t){if(o&1){let e=h();i(0,"button",102),u("click",function(){f(e);let a=l().$implicit,p=l(3);return C(p.resumeSubscription(a))}),s(1," Resume "),r()}}function ko(o,t){o&1&&(i(0,"div",103),m(1,"i",104),s(2," Expiring Soon "),r())}function Io(o,t){if(o&1&&(i(0,"div",107)(1,"span",108),s(2,"Group"),r(),i(3,"span",109),s(4),r()()),o&2){let e=l(2).$implicit;c(4),g(e.group.group_name)}}function Eo(o,t){if(o&1){let e=h();i(0,"button",113),u("click",function(){f(e);let a=l(2).$implicit,p=l(3);return C(p.openCancelDialog(a))}),r()}}function To(o,t){if(o&1&&(i(0,"div",105)(1,"div",106)(2,"div",107)(3,"span",108),s(4,"Subscription ID"),r(),i(5,"span",109),s(6),r()(),_(7,Io,5,1,"div",110),i(8,"div",107)(9,"span",108),s(10,"Frequency"),r(),i(11,"span",109),s(12),b(13,"titlecase"),r()(),i(14,"div",107)(15,"span",108),s(16,"Billing"),r(),i(17,"span",109),s(18),b(19,"uppercase"),r()(),i(20,"div",111),_(21,Eo,1,0,"button",112),b(22,"lowercase"),b(23,"lowercase"),r()()()),o&2){let e=l().$implicit;c(6),v("#",e.subscription_id,""),c(),d("ngIf",e.group==null?null:e.group.group_name),c(5),g(M(13,5,e.frequency)),c(6),g(M(19,7,e.billing_type)),c(3),d("ngIf",M(22,9,e.status)!=="cancelled"&&M(23,11,e.status)!=="expired")}}function Fo(o,t){if(o&1){let e=h();i(0,"div",77)(1,"div",78)(2,"div",79)(3,"span",80),s(4),r()(),i(5,"div",81)(6,"span",82),s(7),b(8,"titlecase"),r()()(),i(9,"div",83)(10,"div",84)(11,"div",85),s(12),r()(),i(13,"div",86)(14,"div",87)(15,"span",88),s(16),r(),i(17,"span",89),s(18),r()(),i(19,"div",90)(20,"span",91),s(21),r()()(),i(22,"div",92),_(23,wo,2,0,"button",93),b(24,"lowercase"),_(25,So,2,0,"button",94),b(26,"lowercase"),r()(),i(27,"div",83)(28,"div",90)(29,"span",85),m(30,"i",95),s(31),b(32,"date"),b(33,"date"),r()()(),_(34,ko,3,0,"div",96),i(35,"div",97),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.toggleSubscriptionExpansion(a.subscription_id))}),i(36,"div",98),m(37,"i",99),r()(),_(38,To,24,13,"div",100),r()}if(o&2){let e=t.$implicit,n=l(3);c(4),g(e.product_name||(e.product==null?null:e.product.name)||"Product Subscription"),c(2),d("ngClass",n.getProductSubscriptionStatusClass(e.status)),c(),v(" ",M(8,14,e.status)," "),c(5),v(" ",n.getOrderInitials(e.product_name||(e.product==null?null:e.product.name)||"PS")," "),c(4),v(" ",(e.member==null?null:e.member.member_name)||"Member"," "),c(2),v(" ",e.plan_name||(e.plan==null?null:e.plan.name)," "),c(3),g(n.formatCurrency(e.amount_paid||e.price_per_quantity*e.base_quantity)),c(2),d("ngIf",M(24,16,e.status)==="active"),c(2),d("ngIf",M(26,18,e.status)==="paused"),c(6),ie(" ",J(32,20,e.start_date,"dd MMM")," - ",e.end_date?J(33,23,e.end_date,"dd MMM"):"Ongoing"," "),c(3),d("ngIf",e.isExpiringSoon),c(3),d("ngClass",n.isSubscriptionExpanded(e.subscription_id)?"pi-chevron-up":"pi-chevron-down"),c(),d("ngIf",n.isSubscriptionExpanded(e.subscription_id))}}function Do(o,t){if(o&1&&(i(0,"div",75),_(1,Fo,39,26,"div",76),r()),o&2){let e=l(2);c(),d("ngForOf",e.productSubscriptions)}}function Ao(o,t){o&1&&(i(0,"div",114)(1,"span",115),s(2,"Pause Subscription"),r()())}function zo(o,t){o&1&&(i(0,"div",114)(1,"div",116),m(2,"i",117),r(),i(3,"span",115),s(4,"Cancel Subscription"),r()())}function jo(o,t){if(o&1){let e=h();i(0,"div"),_(1,xo,4,0,"div",9)(2,yo,5,0,"div",11)(3,Do,2,1,"div",60),i(4,"p-dialog",61),B("visibleChange",function(a){f(e);let p=l();return N(p.showPauseDialog,a)||(p.showPauseDialog=a),C(a)}),_(5,Ao,3,0,"ng-template",62),i(6,"div",63)(7,"p",64),s(8," Select a date to automatically resume deliveries. "),r(),i(9,"div",65)(10,"label",66),s(11,"Resume Date"),r(),i(12,"div",67)(13,"p-calendar",68),B("ngModelChange",function(a){f(e);let p=l();return N(p.pauseUntilDate,a)||(p.pauseUntilDate=a),C(a)}),r()()(),i(14,"div",69)(15,"button",70),u("click",function(){f(e);let a=l();return C(a.closePauseDialog())}),r(),i(16,"button",71),u("click",function(){f(e);let a=l();return C(a.confirmPauseSubscription())}),r()()()(),i(17,"p-dialog",61),B("visibleChange",function(a){f(e);let p=l();return N(p.showCancelDialog,a)||(p.showCancelDialog=a),C(a)}),_(18,zo,5,0,"ng-template",62),i(19,"div",63)(20,"p",64),s(21," Are you sure? You will lose active benefits. "),r(),i(22,"div",69)(23,"button",72),u("click",function(){f(e);let a=l();return C(a.closeCancelDialog())}),r(),i(24,"button",73),u("click",function(){f(e);let a=l();return C(a.confirmCancelSubscription())}),r()()()()()}if(o&2){let e=l();c(),d("ngIf",e.loadingProductSubscriptions),c(),d("ngIf",!e.loadingProductSubscriptions&&e.productSubscriptions.length===0),c(),d("ngIf",!e.loadingProductSubscriptions&&e.productSubscriptions.length>0),c(),He(be(20,Ln)),L("visible",e.showPauseDialog),d("modal",!0)("draggable",!1)("resizable",!1),c(9),L("ngModel",e.pauseUntilDate),d("minDate",e.minDate)("showIcon",!0)("showOnFocus",!1),c(3),d("disabled",!e.pauseUntilDate),c(),He(be(21,Ln)),L("visible",e.showCancelDialog),d("modal",!0)("draggable",!1)("resizable",!1)}}var Ot=class o{constructor(t,e,n,a,p){this.subscriptionService=t;this.toastService=e;this.authService=n;this.router=a;this.loader=p}subscriptions=[];groupedSubscriptions=[];loading=!1;error=null;selectedStatus="all";selectedProvider;totalCount=0;activeCount=0;inactiveCount=0;viewMode="service";productSubscriptions=[];loadingProductSubscriptions=!1;showPauseDialog=!1;pauseUntilDate=null;minDate=new Date;selectedProductSubscription=null;isSubscriptionUpdating=!1;showCancelDialog=!1;expandedSubscriptions=new Set;ngOnInit(){this.loadSubscriptions()}loadSubscriptions(){this.loading=!0,this.error=null;let t=this.selectedStatus==="all"?void 0:this.selectedStatus,e=this.authService.getUserId();this.subscriptionService.getUserSubscriptions(e,t).subscribe({next:n=>{n.status&&n.data&&(this.groupedSubscriptions=n.data.grouped_subscriptions||[],this.subscriptions=this.groupedSubscriptions.reduce((a,p)=>{let O=p.subscriptions.map(x=>$(G({},x),{provider_name:p.provider.name,provider_business_name:p.provider.business_name,provider_logo_url:p.provider.logo_url}));return[...a,...O]},[]),this.totalCount=n.data.total||this.subscriptions.length,this.activeCount=this.subscriptions.filter(a=>a.status==="active").length,this.inactiveCount=this.subscriptions.filter(a=>a.status==="inactive"||a.status==="pending_payment").length),this.loading=!1},error:n=>{console.error("[MySubscriptions] Error loading subscriptions:",n),this.error="Failed to load subscriptions. Please try again.",this.loading=!1,this.toastService.error("Error","Failed to load subscriptions")}})}onStatusFilterChange(t){this.selectedStatus=t,this.loadSubscriptions()}onProviderFilterChange(t){this.selectedProvider=t,this.loadSubscriptions()}setViewMode(t){this.viewMode=t,t==="product"&&this.productSubscriptions.length===0&&this.loadProductSubscriptions()}isViewMode(t){return this.viewMode===t}loadProductSubscriptions(){this.loadingProductSubscriptions=!0;let t=this.authService.getUserId();if(!t){this.loadingProductSubscriptions=!1;return}this.subscriptionService.getProductSubscriptions(t).subscribe({next:e=>{e.status&&e.data&&(this.productSubscriptions=e.data.subscriptions||[]),this.loadingProductSubscriptions=!1},error:e=>{console.error("[MySubscriptions] Error loading product subscriptions:",e),this.loadingProductSubscriptions=!1}})}openPauseDialog(t){this.selectedProductSubscription=t,this.pauseUntilDate=null,this.showPauseDialog=!0}closePauseDialog(){this.showPauseDialog=!1,this.selectedProductSubscription=null,this.pauseUntilDate=null}confirmPauseSubscription(){if(!this.selectedProductSubscription||!this.pauseUntilDate)return;let t=this.formatDateForApi(this.pauseUntilDate),e=$(G({},this.selectedProductSubscription),{status:"paused",paused_until:t});this.updateProductSubscriptionStatus(e,()=>{this.closePauseDialog()})}resumeSubscription(t){let e=$(G({},t),{status:"active",paused_until:null});this.updateProductSubscriptionStatus(e)}openCancelDialog(t){this.selectedProductSubscription=t,this.showCancelDialog=!0}closeCancelDialog(){this.showCancelDialog=!1,this.selectedProductSubscription=null}confirmCancelSubscription(){if(!this.selectedProductSubscription)return;let t=$(G({},this.selectedProductSubscription),{status:"cancelled"});this.updateProductSubscriptionStatus(t,()=>{this.closeCancelDialog()})}updateProductSubscriptionStatus(t,e){this.isSubscriptionUpdating=!0,this.subscriptionService.updateProductSubscription(t).subscribe({next:n=>{this.isSubscriptionUpdating=!1,e&&e(),this.loadProductSubscriptions()},error:n=>{console.error("[MySubscriptions] Subscription update failed:",n),this.isSubscriptionUpdating=!1}})}formatDateForApi(t){let e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${a}`}getProductSubscriptionStatusClass(t){switch(t?.toLowerCase()){case"active":return"status-delivered";case"paused":return"status-pending";case"cancelled":case"expired":return"status-cancelled";case"pending":case"pending_payment":return"status-processing";default:return"status-default"}}toggleSubscriptionExpansion(t){this.expandedSubscriptions.has(t)?this.expandedSubscriptions.delete(t):this.expandedSubscriptions.add(t)}isSubscriptionExpanded(t){return this.expandedSubscriptions.has(t)}getOrderInitials(t){if(!t)return"??";let e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():t.substring(0,2).toUpperCase()}formatCurrency(t){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t)}cancelSubscription(t){let e=t.member?.member_name||t.product?.name||"this subscription";confirm(`Are you sure you want to cancel the subscription for ${e}?`)&&(this.loader.show("","Cancelling subscription..."),this.subscriptionService.softDeleteSubscription(t.subscription_id).subscribe({next:n=>{this.loader.hide(),this.toastService.success("Success","Subscription cancelled successfully"),this.loadSubscriptions()},error:n=>{console.error("[MySubscriptions] Error soft deleting subscription:",n),this.loader.hide();let a=n?.error?.detail||n?.message||"Failed to cancel subscription";this.toastService.error("Error",a)}}))}renewSubscription(t){let n={isProvider:!1,data:{plan:{id:t.plan_id,name:t.plan.name,price:t.plan.price,provider_id:t.provider_id,billing_type:t.billing_type,billing_cycle:t.billing_cycle,group_id:t.group_id,Subscription_cycle_start_Date:t.plan.Subscription_cycle_start_Date},group:{group_id:t.group_id,group_name:t.group.group_name},selectedProduct:{product_id:t.product_id,product_name:t.product.name,product_subtype:"service_subscription",name:t.product.name},isRenewal:!0,subscriptionId:t.subscription_id,orderId:t.order_id,memberId:t.member_id,memberName:t.member?.member_name,originalSubscription:t}};sessionStorage.setItem("checkout_navigation_state",JSON.stringify(n)),this.router.navigate(["customers/info/view-cart"],{state:n})}getStatusClass(t){switch(t.toLowerCase()){case"active":return"status-active";case"inactive":return"status-expired";case"cancelled":return"status-cancelled";case"pending":case"pending_payment":return"status-pending";case"expired":return"status-expired";default:return""}}getPaymentStatusClass(t){switch(t.toLowerCase()){case"paid":return"payment-paid";case"pending":return"payment-pending";case"failed":return"payment-failed";default:return""}}getDaysRemaining(t){let e=new Date(t),n=new Date;e.setHours(0,0,0,0),n.setHours(0,0,0,0);let a=e.getTime()-n.getTime();return Math.round(a/(1e3*60*60*24))}isExpiringSoon(t){if(t.status!=="active")return!1;let e=this.getDaysRemaining(t.end_date);return e>=0&&e<=7}isOverdue(t){let e=this.getDaysRemaining(t.end_date);return e<0&&e>=-15}isGracePeriodExpired(t){return this.getDaysRemaining(t.end_date)<-15}getDisplayStatus(t){return this.isGracePeriodExpired(t)?"expired":t.status}getOverdueDays(t){let e=this.getDaysRemaining(t);return Math.abs(e)}getExpiringMessage(t){let e=this.getDaysRemaining(t.end_date);if(e<0&&e>=-15){let n=Math.abs(e);return`Overdue by ${n} day${n>1?"s":""}`}else{if(e===0)return"Expiring Today";if(e>0&&e<=7)return`Expiring in ${e} day${e>1?"s":""}`}return""}isActive(t){return t.status==="active"}isInactive(t){return t.status==="inactive"||t.status==="pending_payment"}refresh(){this.loadSubscriptions()}static \u0275fac=function(e){return new(e||o)(P(Be),P(me),P(I),P(T),P(gn))};static \u0275cmp=w({type:o,selectors:[["my-subscriptions"]],decls:12,vars:7,consts:[[1,"my-order-container"],["class","page-loader-overlay",4,"ngIf"],[1,"tab-chips-container"],[1,"tab-chips"],[1,"tab-chip",3,"click"],[4,"ngIf"],[1,"page-loader-overlay"],[1,"loader-content"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2rem","color","#5d157c"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","empty-container",4,"ngIf"],["class","subscription-card-container",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"loading-text"],[1,"error-container"],[1,"error-icon"],[1,"error-text"],[1,"retry-btn",3,"click"],[1,"empty-container"],[1,"empty-content"],[1,"empty-illustration"],[1,"pi","pi-compass"],[1,"empty-title"],[1,"empty-text"],["routerLink","/customers/search-providers",1,"explore-btn"],[1,"subscription-card-container"],["class","subscription-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"subscription-card",3,"ngClass"],[1,"card-header"],[1,"header-left"],["class","member-name",4,"ngIf"],[1,"product-name"],[1,"status-badge"],[1,"centered-info"],["class","group-name",4,"ngIf"],[1,"plan-name"],[1,"pi","pi-tag"],[1,"card-content"],[1,"info-grid"],[1,"info-item"],[1,"info-value"],[1,"info-item","full-width"],[1,"pi","pi-calendar"],[1,"amount-display"],[1,"amount"],["class","alert-banner",3,"ngClass",4,"ngIf"],[1,"card-footer"],[1,"billing-type"],[1,"card-actions"],["class","btn btn-cancel",3,"click",4,"ngIf"],["class","btn btn-renew",3,"click",4,"ngIf"],[1,"member-name"],[1,"pi","pi-user"],[1,"group-name"],[1,"pi","pi-users"],[1,"alert-banner",3,"ngClass"],[1,"btn","btn-cancel",3,"click"],[1,"btn","btn-renew",3,"click"],["class","orders-list",4,"ngIf"],["styleClass","custom-dialog",3,"visibleChange","visible","modal","draggable","resizable"],["pTemplate","header"],[1,"custom-dialog-content"],[1,"dialog-description"],[1,"field-group"],["for","pauseUntil",1,"field-label"],[1,"input-wrapper"],["placeholder","Select Date","appendTo","body","dateFormat","yy-mm-dd","styleClass","full-width-calendar",3,"ngModelChange","ngModel","minDate","showIcon","showOnFocus"],[1,"dialog-actions"],["pButton","","label","Back",1,"p-button-text","p-button-secondary",3,"click"],["pButton","","label","Confirm Pause",1,"p-button-primary",3,"click","disabled"],["pButton","","label","Keep",1,"p-button-text","p-button-secondary",3,"click"],["pButton","","label","Yes, Cancel",1,"p-button-danger","p-button-outlined",3,"click"],[1,"empty-icon"],[1,"orders-list"],["class","vendor-order-card",4,"ngFor","ngForOf"],[1,"vendor-order-card"],[1,"vendor-header"],[1,"vendor-name"],[1,"vendor-title"],[1,"order-status"],[1,"status-badge",3,"ngClass"],[1,"vendor-content"],[1,"product-image-section"],[1,"provider-initials"],[1,"product-info-section"],[1,"product-description"],[1,"product-text"],[1,"product-subtext",2,"display","block","font-size","0.75rem","color","#6b7280"],[1,"product-price"],[1,"price-value"],[1,"payment-section"],["class","payment-button","style","background-color: #f59e0b; color: white",3,"click",4,"ngIf"],["class","payment-button","style","background-color: #10b981; color: white",3,"click",4,"ngIf"],[1,"pi","pi-calendar",2,"font-size","0.75rem","margin-right","4px"],["style",`
            padding: 0.5rem 1rem;
            background: #fff7ed;
            color: #c2410c;
            font-size: 0.75rem;
          `,4,"ngIf"],[1,"expandable-section",3,"click"],[1,"expand-indicator"],[1,"pi",3,"ngClass"],["class","order-details",4,"ngIf"],[1,"payment-button",2,"background-color","#f59e0b","color","white",3,"click"],[1,"payment-button",2,"background-color","#10b981","color","white",3,"click"],[2,"padding","0.5rem 1rem","background","#fff7ed","color","#c2410c","font-size","0.75rem"],[1,"pi","pi-exclamation-triangle",2,"margin-right","0.25rem"],[1,"order-details"],[1,"order-line-items",2,"padding-top","1rem"],[1,"line-item"],[1,"item-name"],[1,"item-price"],["class","line-item",4,"ngIf"],[2,"margin-top","1rem","display","flex","justify-content","flex-end"],["pButton","","label","Cancel Subscription","icon","pi pi-times","class","p-button-sm p-button-outlined p-button-danger",3,"click",4,"ngIf"],["pButton","","label","Cancel Subscription","icon","pi pi-times",1,"p-button-sm","p-button-outlined","p-button-danger",3,"click"],[1,"dialog-header-content"],[1,"dialog-title"],[1,"icon-wrapper","cancel-wrapper"],[1,"pi","pi-exclamation-triangle"]],template:function(e,n){e&1&&(i(0,"div",0),_(1,mo,5,0,"div",1),i(2,"div",2)(3,"div",3)(4,"div",4),u("click",function(){return n.setViewMode("service")}),i(5,"span"),s(6,"Service"),r()(),i(7,"div",4),u("click",function(){return n.setViewMode("product")}),i(8,"span"),s(9,"Product"),r()()()(),_(10,ho,5,4,"div",5)(11,jo,25,22,"div",5),r()),e&2&&(c(),d("ngIf",n.isSubscriptionUpdating),c(3),F("active",n.isViewMode("service")),c(3),F("active",n.isViewMode("product")),c(3),d("ngIf",n.isViewMode("service")),c(),d("ngIf",n.isViewMode("product")))},dependencies:[Y,D,k,le,xe,mt,un,vn,st,ut,an,rn,Ae,Me,A],styles:['.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:50vh;padding:2rem}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(52,152,219,.2);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-bottom:.75rem}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:#666;font-size:.875rem;font-weight:600}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:50vh;padding:2rem;text-align:center}.error-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1rem}.error-container[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{color:#666;font-size:.938rem;margin-bottom:1.25rem;max-width:400px}.error-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,indigo);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:.5rem;font-weight:700;font-size:.875rem;cursor:pointer;box-shadow:0 4px 12px #3498db4d;transition:all .2s ease}.error-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #3498db66}.error-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.empty-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:50vh;padding:4rem 2rem 2rem;width:100%}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:450px;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-illustration[_ngcontent-%COMP%]{width:100px;height:100px;background:linear-gradient(135deg,#5a187a14,#9dedf026);border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:2rem;box-shadow:0 8px 24px #5a187a0f}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-illustration[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#5a187a;opacity:.9}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#2c3e50;margin:0 0 1rem;letter-spacing:-.5px;line-height:1.2}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#666;font-size:1.05rem;line-height:1.6;margin-bottom:2.5rem}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#5a187a;font-weight:700}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .explore-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5a187a,#8e44ad);color:#fff;border:none;padding:1rem 2.5rem;border-radius:3rem;font-weight:700;font-size:1.05rem;cursor:pointer;box-shadow:0 4px 15px #5a187a4d;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:.75rem;letter-spacing:.5px}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .explore-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #5a187a73;background:linear-gradient(135deg,#4a1366,#7d3c98)}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .explore-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 4px 12px #5a187a4d}.empty-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .explore-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.subscription-card-container[_ngcontent-%COMP%]{padding:.75rem;padding-bottom:120px;display:flex;flex-direction:column;gap:.75rem;position:relative;z-index:1}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto;border-radius:.75rem;overflow:visible;box-shadow:0 4px 16px #00000026;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;color:#fff;background:linear-gradient(135deg,#3498db,indigo);isolation:isolate}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card.card-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,indigo)}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card.card-expired[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b)}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card.card-cancelled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#95a5a6,#7f8c8d)}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card.card-pending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f39c12,#e67e22)}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 24px #00000040;z-index:2}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 15% 50%,rgba(255,255,255,.05) 0%,transparent 40%),radial-gradient(circle at 85% 30%,rgba(255,255,255,.03) 0%,transparent 50%);pointer-events:none;z-index:0;border-radius:.75rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem;padding:1rem 1.125rem .625rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.188rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:800;line-height:1.3;margin:0;text-shadow:0 1px 3px rgba(0,0,0,.2);display:flex;align-items:center;gap:.5rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:.813rem;font-weight:600;opacity:.95;margin:0;line-height:1.3}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:#fffffff2;color:indigo;padding:.313rem .75rem;border-radius:1rem;font-size:.625rem;font-weight:800;letter-spacing:.5px;box-shadow:0 2px 6px #00000026;white-space:nowrap;flex-shrink:0}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.375rem;padding:.5rem 1.125rem;text-align:center;border-bottom:1px solid rgba(255,255,255,.1)}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.813rem;font-weight:700;opacity:.95;margin:0;display:flex;align-items:center;gap:.438rem;background:#ffffff26;padding:.313rem .875rem;border-radius:.5rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .plan-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:800;margin:0;display:flex;align-items:center;gap:.438rem;background:#fff3;padding:.375rem 1rem;border-radius:.625rem;box-shadow:0 2px 6px #0000001a}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .plan-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.813rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.875rem;padding:.75rem 1.125rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex:1;min-width:0}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.438rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item.full-width[_ngcontent-%COMP%]{width:100%}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.85;flex-shrink:0}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:.813rem;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.625rem;font-weight:900;text-shadow:0 2px 6px rgba(0,0,0,.25);letter-spacing:-.5px}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .alert-banner[_ngcontent-%COMP%]{margin:0 1.125rem .75rem;padding:.438rem .75rem;border-radius:.375rem;font-size:.688rem;font-weight:700;text-align:center;animation:_ngcontent-%COMP%_pulse-alert 2s ease-in-out infinite}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .alert-banner.alert-warning[_ngcontent-%COMP%]{background:#ffc10759;border:1px solid rgba(255,193,7,.5)}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .alert-banner.alert-danger[_ngcontent-%COMP%]{background:#dc354559;border:1px solid rgba(220,53,69,.5)}@keyframes _ngcontent-%COMP%_pulse-alert{0%,to{opacity:1}50%{opacity:.85}}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.75rem;padding:.75rem 1.125rem 1rem;border-top:1px solid rgba(255,255,255,.15);position:relative;z-index:1}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .billing-type[_ngcontent-%COMP%]{font-size:.688rem;font-weight:700;padding:.313rem .625rem;border-radius:.375rem;background:#28a74559;border:1px solid rgba(40,167,69,.5);letter-spacing:.5px;white-space:nowrap;flex-shrink:0}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:.563rem;flex-shrink:0;position:relative;z-index:1}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.375rem;border:none;font-size:.75rem;font-weight:700;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 6px #0003;white-space:nowrap;position:relative;z-index:1}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 3px 10px #0000004d}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn.btn-cancel[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn.btn-cancel[_ngcontent-%COMP%]:hover{background:#c82333}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-renew[_ngcontent-%COMP%], .subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-renew.btn-renew[_ngcontent-%COMP%]{background:#28a745;color:#fff}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-renew.btn-renew[_ngcontent-%COMP%]:hover{background:#218838}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.subscription-card-container[_ngcontent-%COMP%]{padding:.625rem;padding-bottom:100px;gap:.625rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]{max-width:100%;overflow:visible}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.875rem 1rem .5rem;gap:.625rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.156rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:1rem;gap:.438rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.813rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:.75rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.563rem;padding:.25rem .563rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]{padding:.438rem 1rem;gap:.313rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .75rem;gap:.375rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.688rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .plan-name[_ngcontent-%COMP%]{font-size:.813rem;padding:.313rem .875rem;gap:.375rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .plan-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:.625rem 1rem;gap:.75rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{gap:.438rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{gap:.375rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.688rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:.75rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.375rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .alert-banner[_ngcontent-%COMP%]{margin:0 1rem .625rem;padding:.375rem .625rem;font-size:.625rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:.625rem 1rem .875rem;gap:.563rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .billing-type[_ngcontent-%COMP%]{font-size:.625rem;padding:.25rem .5rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{gap:.5rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.688rem;padding:.438rem .875rem;max-width:fit-content}}.view-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.25rem;margin:1rem auto;padding:.25rem;border-radius:2rem;background:#f3f4f6;width:fit-content;border:1px solid #e5e7eb}.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;background:transparent;color:#6b7280;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:.5rem;font-size:.8125rem;border-radius:1.5rem;transition:all .2s ease;white-space:nowrap}.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){color:#374151;background:#00000008}.view-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:#5d157c;font-weight:600;box-shadow:0 1px 3px #0000001a}.subscribe-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:.5rem;padding-bottom:100px;max-width:600px;margin:0 auto}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1rem;box-shadow:0 2px 6px #0000000a;border:1px solid #f0f0f0;transition:all .2s ease}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 10px #5d157c14;border-color:#5d157c1a}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#1f2937;margin:0}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .sub-id[_ngcontent-%COMP%]{font-size:.7rem;color:#9ca3af;font-family:monospace}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;padding:.2rem .6rem;border-radius:1rem;text-transform:capitalize}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background-color:#10b9811a;color:#10b981}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%], .subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.expired[_ngcontent-%COMP%]{background-color:#6b72801a;color:#6b7280}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.pending[_ngcontent-%COMP%]{background-color:#f59e0b1a;color:#f59e0b}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding-bottom:0;border-bottom:none;margin-bottom:0}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#4b5563;font-size:.8125rem}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9ca3af;font-size:.875rem;width:16px;text-align:center}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-row.price-row[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;color:#5d157c;font-size:.938rem}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-row.price-row[_ngcontent-%COMP%]   .unit-price[_ngcontent-%COMP%]{color:#6b7280;font-size:.7rem;margin-left:.25rem}.subscribe-view[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:none}.subscribe-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;padding-bottom:100px}.subscribe-view[_ngcontent-%COMP%]   .provider-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1rem;box-shadow:0 2px 8px #0000000d;border:1px solid #eaeaea}.subscribe-view[_ngcontent-%COMP%]   .provider-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.subscribe-view[_ngcontent-%COMP%]   .provider-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:700;color:#2c3e50}.subscribe-view[_ngcontent-%COMP%]   .provider-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .scheduled-badge[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.75rem;font-weight:600}.subscribe-view[_ngcontent-%COMP%]   .provider-card[_ngcontent-%COMP%]   .provider-logo[_ngcontent-%COMP%]{width:80px;height:80px;background:#f9f0ff;border-radius:12px;display:flex;align-items:center;justify-content:center}.subscribe-view[_ngcontent-%COMP%]   .provider-card[_ngcontent-%COMP%]   .provider-logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#5a187a}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #a569bd;border-radius:.5rem;padding:.75rem;box-shadow:0 2px 6px #5a187a1a;display:flex;flex-direction:column;gap:.75rem}.subscribe-view[_ngcontent-%COMP%]   .subscription-item.simple[_ngcontent-%COMP%]{background:#fdf5ff;flex-direction:row;justify-content:space-between;align-items:center;padding:1rem .75rem}.subscribe-view[_ngcontent-%COMP%]   .subscription-item.simple[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#5a187a}.subscribe-view[_ngcontent-%COMP%]   .subscription-item.simple[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;color:#f39c12}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;color:#f39c12;font-size:1rem}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;border-radius:4px;accent-color:#5a187a;cursor:pointer}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;color:#5c4866;font-weight:500}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:1rem;border-top:1px solid #f0f0f0;padding-top:.75rem}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.125rem;color:#5c5c5c;cursor:pointer;transition:color .2s}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#5a187a}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .pay-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #5a187a;color:#5a187a;padding:.25rem 1.5rem;border-radius:1rem;font-size:.875rem;font-weight:700;cursor:pointer;transition:all .2s}.subscribe-view[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   .pay-btn[_ngcontent-%COMP%]:hover{background:#5a187a;color:#fff}@media (min-width: 769px) and (max-width: 1024px){.subscription-card-container[_ngcontent-%COMP%]{padding-bottom:110px}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]{max-width:480px}}@media (min-width: 576px) and (max-width: 768px){.subscription-card-container[_ngcontent-%COMP%]{padding-bottom:105px}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]{max-width:480px}}@media (max-width: 375px){.subscription-card-container[_ngcontent-%COMP%]{padding:.5rem;padding-bottom:95px}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.938rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:.688rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.688rem;padding:.219rem .625rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .plan-name[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .75rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.25rem}.subscription-card-container[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.625rem;padding:.375rem .75rem}}.my-order-container[_ngcontent-%COMP%]   .orders-list-container[_ngcontent-%COMP%]{height:calc(100vh - 120px);background-color:#f3f4f6;display:flex;flex-direction:column}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]{padding:1rem;background-color:#f3f4f6;flex:1;overflow-y:auto;overflow-x:hidden}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;margin-bottom:.75rem;box-shadow:0 2px 4px #0000001a;overflow:hidden}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1rem .5rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]   .vendor-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]   .share-icon[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af;cursor:pointer}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;font-weight:600;text-transform:capitalize}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-delivered[_ngcontent-%COMP%]{background-color:#10b9811a;color:#10b981}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-pending[_ngcontent-%COMP%]{background-color:#f59e0b1a;color:#f59e0b}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-processing[_ngcontent-%COMP%]{background-color:#5d157c1a;color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-cancelled[_ngcontent-%COMP%]{background-color:#ef44441a;color:#ef4444}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-accepted[_ngcontent-%COMP%]{background-color:#10b9811a;color:#10b981}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-default[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#4b5563}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 1rem 1rem;gap:.75rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-image-section[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;flex-shrink:0}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-image-section[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:.5rem;object-fit:cover}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-image-section[_ngcontent-%COMP%]   .provider-initials[_ngcontent-%COMP%]{width:100%;height:100%;background:#5d157c;color:#fff;border-radius:.5rem;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-info-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-info-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   .product-text[_ngcontent-%COMP%]{font-size:.875rem;color:#374151;line-height:1.3}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-info-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]   .price-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:.375rem;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-button.payment-paid[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-button.payment-pending[_ngcontent-%COMP%]{background:#5d157c;color:#fff}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-button[_ngcontent-%COMP%]:hover{opacity:.9}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .expandable-section[_ngcontent-%COMP%]{padding:.5rem 1rem;border-top:1px solid #e5e7eb;cursor:pointer;display:flex;justify-content:center}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .expandable-section[_ngcontent-%COMP%]   .expand-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .expandable-section[_ngcontent-%COMP%]:hover{background:#f9fafb}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .expandable-section[_ngcontent-%COMP%]:hover   .expand-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4b5563}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#f9fafb}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;gap:.75rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]   .order-checkbox[_ngcontent-%COMP%]   .order-check[_ngcontent-%COMP%]{width:1rem;height:1rem;accent-color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]   .order-id-display[_ngcontent-%COMP%]{flex:1}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]   .order-id-display[_ngcontent-%COMP%]   .order-id-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]   .order-total-amount[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#f97316}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;cursor:pointer;border-top:1px solid #e5e7eb}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]:hover{background:#fff}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]{padding:0 1rem 1rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.75rem;padding-top:.5rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.375rem 0;font-size:.875rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#374151}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item.total-line[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:.5rem;margin-top:.5rem;font-weight:600}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item.total-line[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#1f2937}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item.total-line[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1f2937;font-weight:700}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.5rem 1rem;border:1px solid #ef4444!important;border-radius:.375rem;background-color:transparent;color:#ef4444;font-weight:600;font-size:.875rem;cursor:pointer;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]:hover{background-color:#ef44440d;color:#eb1515;border-color:#eb1515!important}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #ef444433;outline:none}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]   .p-button-icon[_ngcontent-%COMP%]{margin-right:.5rem}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]{padding:1rem 1rem .5rem;background:linear-gradient(180deg,#fafbfc,#fff);border-bottom:1px solid #f0f0f0;position:sticky;top:0;z-index:100;backdrop-filter:blur(10px);display:flex!important;align-items:center;gap:.75rem;width:100%;box-sizing:border-box}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]{display:flex;gap:.5rem;overflow-x:auto;overflow-y:hidden;padding-bottom:0;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;width:100%;justify-content:center}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.625rem 1.25rem;border-radius:2rem;background:#fff;border:1px solid #e5e7eb;color:#6b7280;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);white-space:nowrap;-webkit-user-select:none;user-select:none;position:relative;overflow:hidden;box-shadow:0 1px 2px #0000000d;flex:1;max-width:fit-content}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]:hover:not(.active){background:#f9fafb;border-color:#d1d5db;color:#374151;transform:translateY(-1px);box-shadow:0 4px 6px #0000000d}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip.active[_ngcontent-%COMP%]{background:#5d157c;border-color:#5d157c;color:#fff;box-shadow:0 4px 12px #5d157c40,0 2px 4px #5d157c26;transform:translateY(-1px)}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98)}@media (max-width: 768px){.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]{padding:.875rem .875rem .375rem;gap:.5rem}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]{gap:.625rem;padding-bottom:.375rem}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]{padding:.625rem 1rem;font-size:.813rem}}.my-order-container[_ngcontent-%COMP%]   .page-loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;z-index:9999;display:flex;justify-content:center;align-items:center;backdrop-filter:blur(2px)}.my-order-container[_ngcontent-%COMP%]   .page-loader-overlay[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:1rem;box-shadow:0 4px 12px #00000026;display:flex;flex-direction:column;align-items:center;gap:1rem}.my-order-container[_ngcontent-%COMP%]   .page-loader-overlay[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#5d157c;font-weight:600;font-size:1.1rem}']})};var Ro=["tabChipsContainer"],Vo=["leftArrow"],Lo=["rightArrow"],No=()=>({width:"90vw",maxWidth:"400px"}),Bo=()=>[1,2,3],Go=()=>[1,2,3,4,5],$o=()=>[1,2];function qo(o,t){o&1&&(i(0,"div",10)(1,"div",11),m(2,"i",12),i(3,"p"),s(4,"Updating Order..."),r()()())}function Yo(o,t){o&1&&(i(0,"div",19)(1,"div",20),m(2,"div",21)(3,"div",22),r(),i(4,"div",23),m(5,"div",24),i(6,"div",25),m(7,"div",26)(8,"div",27),r()()())}function Ho(o,t){o&1&&(i(0,"div",17),_(1,Yo,9,0,"div",18),r()),o&2&&(c(),d("ngForOf",be(1,Bo)))}function Ko(o,t){if(o&1){let e=h();i(0,"div",28)(1,"div",29),m(2,"i",30),r(),i(3,"p",31),s(4),r(),i(5,"button",32),u("click",function(){f(e);let a=l(2);return C(a.loadUpcomingOrders())}),s(6),b(7,"translate"),r()()}if(o&2){let e=l(2);c(4),g(e.upcomingErrorMessage),c(2),v(" ",M(7,2,"my-orders.try_again")," ")}}function Jo(o,t){o&1&&(i(0,"div",33)(1,"div",34),m(2,"i",35),r(),i(3,"h3",36),s(4,"No upcoming orders"),r(),i(5,"p",37),s(6," You have no orders scheduled for the upcoming days. "),r()())}function Wo(o,t){if(o&1&&m(0,"img",60),o&2){let e=l().$implicit;d("src",e.provider_info==null?null:e.provider_info.logo_url,U)("alt",e.provider_info==null?null:e.provider_info.business_name)}}function Qo(o,t){if(o&1&&(i(0,"div",59),s(1),r()),o&2){let e=l().$implicit,n=l(3);c(),v(" ",n.getOrderInitials((e.provider_info==null?null:e.provider_info.business_name)||(e.provider_info==null?null:e.provider_info.name)||"??")," ")}}function Xo(o,t){if(o&1&&(i(0,"span",61),s(1),r()),o&2){let e=l().$implicit;c(),v(" Qty: ",e.quantity," ")}}function Zo(o,t){if(o&1){let e=h();i(0,"div",40)(1,"div",41)(2,"div",42)(3,"span",43),s(4),r()(),i(5,"div",44)(6,"span",45),s(7),r()()(),i(8,"div",46)(9,"div",47),_(10,Wo,1,2,"img",48)(11,Qo,2,1,"div",49),r(),i(12,"div",50)(13,"div",51)(14,"span",52),s(15),r(),_(16,Xo,2,1,"span",53),r(),i(17,"div",54)(18,"span",55),s(19),r()()(),i(20,"div",56)(21,"button",57),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.openEditModal(a))}),m(22,"i",58),s(23," Edit "),r()()(),i(24,"div",46)(25,"div",54)(26,"span",59),s(27),r()()()()}if(o&2){let e=t.$implicit,n=l(3);c(4),g((e.provider_info==null?null:e.provider_info.business_name)||(e.provider_info==null?null:e.provider_info.name)||"Unknown Provider"),c(2),d("ngClass",n.getOrderStatusClass(e.status)),c(),v(" ",n.getOrderStatusText(e.status)," "),c(3),d("ngIf",e.provider_info==null?null:e.provider_info.logo_url),c(),d("ngIf",!(e.provider_info!=null&&e.provider_info.logo_url)),c(4),v(" ",(e.product_info==null?null:e.product_info.name)||e.product_name||e.name||"Scheduled Item"," "),c(),d("ngIf",e.quantity),c(3),g(n.formatCurrency(e.total_amount||e.price||0)),c(8),v(" Scheduled: ",n.formatOrderDate(e.delivery_date)," ")}}function ei(o,t){if(o&1&&(i(0,"div",38),_(1,Zo,28,9,"div",39),r()),o&2){let e=l(2);c(),d("ngForOf",e.upcomingOrders)}}function ti(o,t){if(o&1&&(i(0,"div"),_(1,Ho,2,2,"div",13)(2,Ko,8,4,"div",14)(3,Jo,7,0,"div",15)(4,ei,2,1,"div",16),r()),o&2){let e=l();c(),d("ngIf",e.isLoadingUpcoming&&e.upcomingOrders.length===0),c(),d("ngIf",e.upcomingErrorMessage&&!e.isLoadingUpcoming),c(),d("ngIf",!e.isLoadingUpcoming&&!e.upcomingErrorMessage&&e.upcomingOrders.length===0),c(),d("ngIf",!e.isLoadingUpcoming&&!e.upcomingErrorMessage&&e.upcomingOrders.length>0)}}function ni(o,t){o&1&&(i(0,"div",19)(1,"div",20),m(2,"div",21)(3,"div",22),r(),i(4,"div",23),m(5,"div",24),i(6,"div",25),m(7,"div",26)(8,"div",27),r(),m(9,"div",70),r(),i(10,"div",71),m(11,"div",72),r()())}function oi(o,t){o&1&&(i(0,"div",17),_(1,ni,12,0,"div",18),r()),o&2&&(c(),d("ngForOf",be(1,Go)))}function ii(o,t){if(o&1){let e=h();i(0,"div",28)(1,"div",29),m(2,"i",30),r(),i(3,"p",31),s(4),r(),i(5,"button",32),u("click",function(){f(e);let a=l(2);return C(a.refreshOrders())}),s(6),b(7,"translate"),r()()}if(o&2){let e=l(2);c(4),g(e.errorMessage),c(2),v(" ",M(7,2,"my-orders.try_again")," ")}}function ri(o,t){o&1&&(i(0,"div",33)(1,"div",34),m(2,"i",73),r(),i(3,"h3",36),s(4),b(5,"translate"),r(),i(6,"p",37),s(7),b(8,"translate"),r(),i(9,"button",74),s(10),b(11,"translate"),r()()),o&2&&(c(4),g(M(5,3,"my-orders.no_orders_yet")),c(3),v(" ",M(8,5,"my-orders.recent_orders_info")," "),c(3),v(" ",M(11,7,"my-orders.explore_products")," "))}function ai(o,t){if(o&1&&m(0,"img",60),o&2){let e=l().$implicit,n=l(3);d("src",n.getProviderLogo(e),U)("alt",n.getProviderName(e))}}function ci(o,t){if(o&1&&(i(0,"div",59),s(1),r()),o&2){let e=l().$implicit,n=l(3);c(),v(" ",n.getOrderInitials(n.getProviderName(e))," ")}}function si(o,t){if(o&1&&(i(0,"span",83),s(1),r()),o&2){let e=l(2).$implicit,n=l(3);c(),v(" + ",n.getOrderItems(e).length-1," more ")}}function di(o,t){if(o&1&&(ge(0),s(1),_(2,si,2,1,"span",82),ue()),o&2){let e=l().$implicit,n=l(3);c(),v(" ",n.getItemName(n.getOrderItems(e)[0])," "),c(),d("ngIf",n.getOrderItems(e).length>1)}}function li(o,t){if(o&1&&s(0),o&2){let e=l().$implicit;v(" ",e.order_type==="product_subscription"?"Subscription Order":"Order Items"," ")}}function pi(o,t){if(o&1&&(i(0,"span",104),s(1),r()),o&2){let e=l(2).$implicit;c(),v("",e.quantity," x ")}}function mi(o,t){if(o&1&&(i(0,"span"),s(1),r()),o&2){let e=l(2).$implicit,n=l(6);c(),g(n.formatCurrency(e.price||e.total_price))}}function gi(o,t){if(o&1&&(i(0,"span",100),_(1,pi,2,1,"span",103)(2,mi,2,1,"span",7),r()),o&2){let e=l().$implicit;c(),d("ngIf",e.quantity&&(e.price||e.total_price)),c(),d("ngIf",e.price||e.total_price)}}function ui(o,t){if(o&1&&(i(0,"div",101)(1,"span",99),s(2),r(),_(3,gi,3,2,"span",102),r()),o&2){let e=t.$implicit,n=l(6);c(2),g(n.getItemName(e)),c(),d("ngIf",e.price||e.total_price||e.quantity)}}function _i(o,t){if(o&1&&(i(0,"div",101)(1,"span",106),s(2),r(),i(3,"span",100),s(4),r()()),o&2){let e=t.$implicit,n=l(7);c(2),g(e.label),c(2),g(n.formatCurrency(e.value))}}function fi(o,t){if(o&1&&(ge(0),m(1,"div",105),_(2,_i,5,2,"div",97),ue()),o&2){let e=l(3).$implicit,n=l(3);c(2),d("ngForOf",n.getPaymentDetails(e))}}function Ci(o,t){if(o&1&&(i(0,"div",95)(1,"div",96),s(2),b(3,"translate"),r(),_(4,ui,4,2,"div",97)(5,fi,3,1,"ng-container",7),i(6,"div",98)(7,"span",99),s(8),b(9,"translate"),r(),i(10,"span",100),s(11),r()()()),o&2){let e=l(2).$implicit,n=l(3);c(2),v(" ",M(3,5,"my-orders.details")," "),c(2),d("ngForOf",n.getOrderItems(e)),c(),d("ngIf",n.getPaymentDetails(e).length>0),c(3),g(M(9,7,"my-orders.total")),c(3),g(n.formatCurrency(n.getOrderTotal(e)))}}function bi(o,t){if(o&1){let e=h();i(0,"div",84)(1,"div",85)(2,"div",86),m(3,"input",87),r(),i(4,"div",88)(5,"span",89),s(6),r()(),i(7,"div",90)(8,"span",91),s(9),r()()(),i(10,"div",92),u("click",function(){f(e);let a=l().$implicit,p=l(3);return C(p.toggleOrderExpansion(a.id))}),i(11,"span",93),s(12),b(13,"translate"),r(),m(14,"i",80),r(),_(15,Ci,12,9,"div",94),r()}if(o&2){let e=l().$implicit,n=l(3);c(3),d("checked",e.payment_status==="paid"),c(3),g(e.display_order_id),c(3),g(n.formatCurrency(n.getOrderTotal(e))),c(3),g(M(13,6,"my-orders.summary")),c(2),d("ngClass",n.isOrderExpanded(e.id)?"pi-chevron-up":"pi-chevron-down"),c(),d("ngIf",n.isOrderExpanded(e.id))}}function Mi(o,t){if(o&1){let e=h();i(0,"div",40)(1,"div",41)(2,"div",42)(3,"span",43),s(4),r()(),i(5,"div",44)(6,"span",45),s(7),r()()(),i(8,"div",46)(9,"div",47),_(10,ai,1,2,"img",48)(11,ci,2,1,"div",49),r(),i(12,"div",50)(13,"div",51)(14,"span",75),_(15,di,3,2,"ng-container",76)(16,li,1,1,"ng-template",null,1,ee),r()(),i(18,"div",54)(19,"span",55),s(20),r()()(),i(21,"div",56)(22,"button",77),s(23),r()()(),i(24,"div",46)(25,"div",54)(26,"span",59),s(27),b(28,"date"),r()()(),i(29,"div",78),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.toggleOrderExpansion(a.id))}),i(30,"div",79),m(31,"i",80),r()(),_(32,bi,16,8,"div",81),r()}if(o&2){let e=t.$implicit,n=j(17),a=l(3);c(4),g(a.getProviderName(e)),c(2),d("ngClass",a.getOrderStatusClass(e.status)),c(),v(" ",a.getOrderStatusText(e.status)," "),c(3),d("ngIf",a.getProviderLogo(e)),c(),d("ngIf",!a.getProviderLogo(e)),c(4),d("ngIf",a.getOrderItems(e).length>0)("ngIfElse",n),c(5),g(a.formatCurrency(a.getOrderTotal(e))),c(2),d("ngClass",a.getPaymentStatusClass(e.payment_status)),c(),v(" ",a.getPaymentStatusText(e.payment_status)," "),c(4),v("Ordered On: ",J(28,13,e.created_at,"MMM d, yyyy"),""),c(4),d("ngClass",a.isOrderExpanded(e.id)?"pi-chevron-up":"pi-chevron-down"),c(),d("ngIf",a.isOrderExpanded(e.id))}}function Oi(o,t){if(o&1&&(i(0,"div",38),_(1,Mi,33,16,"div",39),r()),o&2){let e=l(2);c(),d("ngForOf",e.recentOrders)}}function Pi(o,t){o&1&&m(0,"i",111)}function vi(o,t){o&1&&m(0,"i",112)}function hi(o,t){o&1&&(i(0,"span"),s(1),b(2,"translate"),r()),o&2&&(c(),g(M(2,1,"my-orders.load_more_orders")))}function xi(o,t){o&1&&(i(0,"span"),s(1),b(2,"translate"),r()),o&2&&(c(),g(M(2,1,"my-orders.loading")))}function yi(o,t){if(o&1){let e=h();i(0,"div",107)(1,"button",108),u("click",function(){f(e);let a=l(2);return C(a.loadMoreOrders())}),_(2,Pi,1,0,"i",109)(3,vi,1,0,"i",110)(4,hi,3,3,"span",7)(5,xi,3,3,"span",7),r()()}if(o&2){let e=l(2);c(),d("disabled",e.isLoadingMore),c(),d("ngIf",!e.isLoadingMore),c(),d("ngIf",e.isLoadingMore),c(),d("ngIf",!e.isLoadingMore),c(),d("ngIf",e.isLoadingMore)}}function wi(o,t){o&1&&(i(0,"div",19)(1,"div",20),m(2,"div",21)(3,"div",22),r(),i(4,"div",23),m(5,"div",24),i(6,"div",25),m(7,"div",26)(8,"div",27),r(),m(9,"div",70),r(),i(10,"div",71),m(11,"div",72),r()())}function Si(o,t){o&1&&(i(0,"div",113),_(1,wi,12,0,"div",18),r()),o&2&&(c(),d("ngForOf",be(1,$o)))}function ki(o,t){if(o&1){let e=h();i(0,"div")(1,"div",62)(2,"div",63),m(3,"i",64),i(4,"input",65),u("input",function(a){f(e);let p=l();return C(p.onSearch(a))}),r()()(),_(5,oi,2,2,"div",13)(6,ii,8,4,"div",14)(7,ri,12,9,"div",15)(8,Oi,2,1,"div",16)(9,yi,6,5,"div",66)(10,Si,2,2,"div",67),i(11,"div",68)(12,"p",69),s(13),r()()()}if(o&2){let e=l();c(5),d("ngIf",e.isLoading&&e.recentOrders.length===0),c(),d("ngIf",e.errorMessage&&!e.isLoading),c(),d("ngIf",!e.isLoading&&!e.errorMessage&&e.recentOrders.length===0),c(),d("ngIf",!e.isLoading&&!e.errorMessage&&e.recentOrders.length>0),c(),d("ngIf",e.hasMoreOrders),c(),d("ngIf",e.isLoadingMore&&e.recentOrders.length>0),c(3),ie(" Showing ",e.recentOrders.length," of ",e.totalCount," orders ")}}function Ii(o,t){if(o&1){let e=h();i(0,"div",114)(1,"p",115),s(2," Modify your order for "),i(3,"strong"),s(4),r()(),i(5,"div",116)(6,"label",117),s(7,"Quantity"),r(),i(8,"div",118)(9,"input",119),B("ngModelChange",function(a){f(e);let p=l();return N(p.editQuantity,a)||(p.editQuantity=a),C(a)}),r()()(),i(10,"div",120)(11,"button",121),u("click",function(){f(e);let a=l();return C(a.updateOrderQuantity())}),r(),i(12,"div",122)(13,"button",123),u("click",function(){f(e);let a=l();return C(a.skipOrderDay())}),r(),i(14,"button",124),u("click",function(){f(e);let a=l();return C(a.cancelUpcomingOrder())}),r()()()()}if(o&2){let e=l();c(4),g(e.selectedOrderForEdit.name),c(5),L("ngModel",e.editQuantity)}}var Pt=class o{constructor(t,e,n){this.orderService=t;this.authService=e;this.subscriptionService=n}recentOrders=[];isLoading=!1;isLoadingMore=!1;errorMessage="";totalCount=0;currentPage=0;pageSize=10;hasMoreOrders=!1;expandedOrders=new Set;pendingOrderId=null;searchQuery="";searchSubject=new Te;upcomingOrders=[];isLoadingUpcoming=!1;upcomingErrorMessage="";productSubscriptions=[];loadingProductSubscriptions=!1;viewMode="my-orders";displayEditModal=!1;selectedOrderForEdit=null;editQuantity=1;showPauseDialog=!1;pauseUntilDate=null;minDate=new Date;selectedSubscription=null;isSubscriptionUpdating=!1;showCancelDialog=!1;expandedSubscriptions=new Set;destroy$=new Te;tabChipsContainer;leftArrow;rightArrow;ngOnInit(){this.loadRecentOrders(),this.setupNavigationListener(),this.setupSearchListener()}setupSearchListener(){this.searchSubject.pipe(Ht(500),Kt(),H(this.destroy$)).subscribe(t=>{this.searchQuery=t,this.currentPage=0,this.recentOrders=[],this.loadRecentOrders()})}onSearch(t){let e=t?.target?.value||"";this.searchSubject.next(e)}setupNavigationListener(){this.orderService.navigateToOrder$,this.orderService.navigateToOrder$.pipe(H(this.destroy$)).subscribe(({orderId:t})=>{this.pendingOrderId=t,this.checkAndExpandPendingOrder()})}checkAndExpandPendingOrder(){this.pendingOrderId&&this.recentOrders.length>0&&this.recentOrders.some(e=>e.id===this.pendingOrderId)&&(this.expandedOrders.add(this.pendingOrderId),this.pendingOrderId=null)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadRecentOrders(){this.isLoading=!0,this.errorMessage="";let t=this.authService.getUserId();if(!t){this.errorMessage="User ID not found",this.isLoading=!1;return}this.orderService.getRecentOrders(t,this.currentPage*this.pageSize,this.pageSize,this.searchQuery).pipe(H(this.destroy$)).subscribe({next:e=>{e&&e.orders?(this.currentPage===0?this.recentOrders=e.orders:this.recentOrders=[...this.recentOrders,...e.orders],this.totalCount=e.total,this.hasMoreOrders=this.recentOrders.length<this.totalCount,this.checkAndExpandPendingOrder()):this.errorMessage="No orders found",this.isLoading=!1},error:e=>{console.error("Error loading recent orders:",e),this.errorMessage="Failed to load orders. Please try again.",this.isLoading=!1}})}loadMoreOrders(){!this.isLoadingMore&&this.hasMoreOrders&&(this.currentPage++,this.loadMoreRecentOrders())}loadMoreRecentOrders(){this.isLoadingMore=!0;let t=this.authService.getUserId();if(!t){this.errorMessage="User ID not found",this.isLoadingMore=!1;return}this.orderService.getRecentOrders(t,this.currentPage*this.pageSize,this.pageSize,this.searchQuery).pipe(H(this.destroy$)).subscribe({next:e=>{e&&e.orders&&(this.recentOrders=[...this.recentOrders,...e.orders],this.totalCount=e.total,this.hasMoreOrders=this.recentOrders.length<this.totalCount),this.isLoadingMore=!1},error:e=>{console.error("Error loading more orders:",e),this.errorMessage="Failed to load more orders. Please try again.",this.isLoadingMore=!1}})}refreshOrders(){this.currentPage=0,this.recentOrders=[],this.loadRecentOrders()}switchTab(t){let e=["my-orders","upcoming-orders","product-subscription"],n=e.indexOf(this.viewMode),a;t==="left"?a=n>0?n-1:e.length-1:a=n<e.length-1?n+1:0,this.setViewMode(e[a])}setViewMode(t){this.viewMode=t,t==="upcoming-orders"&&this.upcomingOrders.length===0?this.loadUpcomingOrders():t==="product-subscription"&&this.productSubscriptions.length===0&&this.loadProductSubscriptions()}isViewMode(t){return this.viewMode===t}loadUpcomingOrders(){this.isLoadingUpcoming=!0,this.upcomingOrders=[],this.upcomingErrorMessage="";let t=this.authService.getUserId();if(!t){this.upcomingErrorMessage="User ID not found",this.isLoadingUpcoming=!1;return}this.subscriptionService.getStagedOrders(t).pipe(H(this.destroy$)).subscribe({next:e=>{if(e&&e.data){let n=e.data;n.providers&&Array.isArray(n.providers)?this.upcomingOrders=n.providers.reduce((a,p)=>{if(p.staged_orders&&Array.isArray(p.staged_orders)){let O=p.staged_orders.map(x=>$(G({},x),{provider_info:{provider_id:p.provider_id,business_name:p.provider_business_name,name:p.provider_name},product_name:x.product_name||x.name,total_amount:x.total_amount,can_modify:x.can_modify}));return[...a,...O]}return a},[]):Array.isArray(n)?this.upcomingOrders=n:this.upcomingOrders=[]}this.isLoadingUpcoming=!1},error:e=>{console.error("Error loading upcoming orders:",e),this.upcomingErrorMessage="Failed to load upcoming orders",this.isLoadingUpcoming=!1}})}loadProductSubscriptions(){this.loadingProductSubscriptions=!0;let t=this.authService.getUserId();if(!t){this.loadingProductSubscriptions=!1;return}this.subscriptionService.getProductSubscriptions(t).pipe(H(this.destroy$)).subscribe({next:e=>{e.status&&e.data&&(this.productSubscriptions=e.data.subscriptions||[]),this.loadingProductSubscriptions=!1},error:e=>{console.error("[MyOrders] Error loading product subscriptions:",e),this.loadingProductSubscriptions=!1}})}getOrderStatusClass(t){switch(t?.toLowerCase()){case"delivered":case"completed":return"status-delivered";case"pending":return"status-pending";case"processing":case"ready":return"status-processing";case"cancelled":return"status-cancelled";case"accepted":return"status-accepted";default:return"status-default"}}getOrderStatusText(t){return t?.charAt(0).toUpperCase()+t?.slice(1).toLowerCase()||"Unknown"}formatOrderDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}getOrderTotal(t){return t.amount||0}formatCurrency(t){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t)}getOrderItems(t){return t.order_items&&t.order_items.length>0?t.order_items:t.products_info&&Array.isArray(t.products_info)&&t.products_info.length>0?t.products_info:t.metadata?.products&&t.metadata.products.length>0?t.metadata.products:[]}getItemName(t){return t.product_name||t.name||t.title||"Unknown Item"}getProviderName(t){return t.provider_info?.business_name?t.provider_info.business_name:t.provider_info?.name?t.provider_info.name:"Unknown Provider"}getProviderLogo(t){return t.provider_info?.logo_url||null}toggleOrderExpansion(t){this.expandedOrders.has(t)?this.expandedOrders.delete(t):this.expandedOrders.add(t)}isOrderExpanded(t){return this.expandedOrders.has(t)}getOrderInitials(t){if(!t)return"??";let e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():t.substring(0,2).toUpperCase()}getPaymentStatusClass(t){switch(t?.toLowerCase()){case"paid":return"payment-paid";case"pending":return"payment-pending";default:return"payment-pending"}}getPaymentStatusText(t){switch(t?.toLowerCase()){case"paid":return"Paid";case"pending":return"Pay";default:return"Pay"}}getPaymentDetails(t){let e=[],n=t.metadata;if(n?.price_summary){let a=n.price_summary;return a.subtotal&&e.push({label:"Subtotal",value:a.subtotal}),a.tax&&e.push({label:"Tax",value:a.tax}),a.delivery_fee&&e.push({label:"Delivery Fee",value:a.delivery_fee}),a.discount&&e.push({label:"Discount",value:-a.discount}),e}return t.amount&&e.push({label:"Subtotal",value:t.amount}),e}openEditModal(t){this.selectedOrderForEdit=t,this.editQuantity=t.quantity||1,this.displayEditModal=!0}closeEditModal(){this.displayEditModal=!1,this.selectedOrderForEdit=null}updateOrderQuantity(){this.selectedOrderForEdit&&(this.selectedOrderForEdit.staged_order_id?this.updateUpcomingOrder(this.selectedOrderForEdit.staged_order_id,{quantity:this.editQuantity}):this.closeEditModal())}skipOrderDay(){this.selectedOrderForEdit&&(this.selectedOrderForEdit.staged_order_id?this.updateUpcomingOrder(this.selectedOrderForEdit.staged_order_id,{status:"skip",reason:"User requested skip"}):this.closeEditModal())}cancelUpcomingOrder(){this.selectedOrderForEdit.staged_order_id?this.updateUpcomingOrder(this.selectedOrderForEdit.staged_order_id,{status:"skip",reason:"User cancelled"}):this.closeEditModal()}isUpdating=!1;updateUpcomingOrder(t,e){this.isUpdating=!0,this.subscriptionService.modifyStagedOrder(t,e).pipe(H(this.destroy$)).subscribe({next:n=>{this.closeEditModal(),this.loadUpcomingOrders(),this.refreshOrders(),this.isUpdating=!1},error:n=>{console.error("Update failed:",n),this.isLoadingUpcoming=!1,this.isUpdating=!1,this.closeEditModal()}})}openPauseDialog(t){this.selectedSubscription=t,this.pauseUntilDate=null,this.showPauseDialog=!0}closePauseDialog(){this.showPauseDialog=!1,this.selectedSubscription=null,this.pauseUntilDate=null}confirmPauseSubscription(){if(!this.selectedSubscription||!this.pauseUntilDate)return;let t=this.formatDateForApi(this.pauseUntilDate),e=$(G({},this.selectedSubscription),{status:"paused",paused_until:t});this.updateSubscriptionStatus(e,()=>{this.closePauseDialog()})}resumeSubscription(t){let e=$(G({},t),{status:"active",paused_until:null});this.updateSubscriptionStatus(e)}openCancelDialog(t){this.selectedSubscription=t,this.showCancelDialog=!0}closeCancelDialog(){this.showCancelDialog=!1,this.selectedSubscription=null}confirmCancelSubscription(){if(!this.selectedSubscription)return;let t=$(G({},this.selectedSubscription),{status:"cancelled"});this.updateSubscriptionStatus(t,()=>{this.closeCancelDialog()})}updateSubscriptionStatus(t,e){this.isSubscriptionUpdating=!0,this.subscriptionService.updateProductSubscription(t).pipe(H(this.destroy$)).subscribe({next:n=>{console.log("[MyOrders] Subscription updated:",n),this.isSubscriptionUpdating=!1,e&&e(),this.loadProductSubscriptions()},error:n=>{console.error("[MyOrders] Subscription update failed:",n),this.isSubscriptionUpdating=!1}})}formatDateForApi(t){let e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${a}`}getSubscriptionStatusClass(t){switch(t?.toLowerCase()){case"active":return"status-delivered";case"paused":return"status-pending";case"cancelled":case"expired":return"status-cancelled";case"pending":case"pending_payment":return"status-processing";default:return"status-default"}}toggleSubscriptionExpansion(t){this.expandedSubscriptions.has(t)?this.expandedSubscriptions.delete(t):this.expandedSubscriptions.add(t)}isSubscriptionExpanded(t){return this.expandedSubscriptions.has(t)}static \u0275fac=function(e){return new(e||o)(P(Le),P(I),P(Be))};static \u0275cmp=w({type:o,selectors:[["my-orders"]],viewQuery:function(e,n){if(e&1&&(nt(Ro,5),nt(Vo,5),nt(Lo,5)),e&2){let a;ot(a=it())&&(n.tabChipsContainer=a.first),ot(a=it())&&(n.leftArrow=a.first),ot(a=it())&&(n.rightArrow=a.first)}},decls:15,vars:16,consts:[["tabChipsContainer",""],["defaultOrderName",""],[1,"my-order-container"],["class","page-loader-overlay",4,"ngIf"],[1,"tab-chips-container"],[1,"tab-chips"],[1,"tab-chip",3,"click"],[4,"ngIf"],["header","Edit Upcoming Order",3,"visibleChange","visible","modal","draggable","resizable","baseZIndex"],["class","edit-modal-content",4,"ngIf"],[1,"page-loader-overlay"],[1,"loader-content"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2rem","color","#5d157c"],["class","skeleton-orders",4,"ngIf"],["class","error-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","orders-list",4,"ngIf"],[1,"skeleton-orders"],["class","skeleton-order",4,"ngFor","ngForOf"],[1,"skeleton-order"],[1,"skeleton-vendor-header"],[1,"skeleton-vendor-name"],[1,"skeleton-status-badge"],[1,"skeleton-vendor-content"],[1,"skeleton-product-image"],[1,"skeleton-product-info"],[1,"skeleton-product-text"],[1,"skeleton-product-price"],[1,"error-state"],[1,"error-icon"],[1,"pi","pi-exclamation-triangle"],[1,"error-message"],[1,"retry-button",3,"click"],[1,"empty-state"],[1,"empty-icon"],[1,"pi","pi-calendar-times"],[1,"empty-title"],[1,"empty-subtitle"],[1,"orders-list"],["class","vendor-order-card",4,"ngFor","ngForOf"],[1,"vendor-order-card"],[1,"vendor-header"],[1,"vendor-name"],[1,"vendor-title"],[1,"order-status"],[1,"status-badge",3,"ngClass"],[1,"vendor-content"],[1,"product-image-section"],["class","product-image",3,"src","alt",4,"ngIf"],["class","provider-initials",4,"ngIf"],[1,"product-info-section"],[1,"product-description"],[1,"product-text"],["class","product-subtext",4,"ngIf"],[1,"product-price"],[1,"price-value"],[1,"payment-section"],[1,"payment-button","payment-pending",3,"click"],[1,"pi","pi-pencil",2,"font-size","0.8rem","margin-right","4px"],[1,"provider-initials"],[1,"product-image",3,"src","alt"],[1,"product-subtext"],[1,"search-container"],[1,"search-input-wrapper"],[1,"pi","pi-search"],["type","text","placeholder","Search orders...",3,"input"],["class","load-more-section",4,"ngIf"],["class","load-more-skeleton",4,"ngIf"],[1,"orders-info"],[1,"orders-count"],[1,"skeleton-payment-button"],[1,"skeleton-expandable-section"],[1,"skeleton-expand-indicator"],[1,"pi","pi-shopping-bag"],["routerLink","/customers/info",1,"explore-button"],[1,"product-text",2,"font-weight","600"],[4,"ngIf","ngIfElse"],[1,"payment-button",3,"ngClass"],[1,"expandable-section",3,"click"],[1,"expand-indicator"],[1,"pi",3,"ngClass"],["class","order-details",4,"ngIf"],["style",`
                      font-weight: 400;
                      font-size: 0.85em;
                      color: #6b7280;
                      margin-left: 4px;
                    `,4,"ngIf"],[2,"font-weight","400","font-size","0.85em","color","#6b7280","margin-left","4px"],[1,"order-details"],[1,"order-summary-header"],[1,"order-checkbox"],["type","checkbox",1,"order-check",3,"checked"],[1,"order-id-display"],[1,"order-id-text"],[1,"order-total-amount"],[1,"total-amount"],[1,"summary-section",3,"click"],[1,"summary-label"],["class","order-line-items",4,"ngIf"],[1,"order-line-items"],[1,"details-header"],["class","line-item",4,"ngFor","ngForOf"],[1,"line-item","total-line"],[1,"item-name"],[1,"item-price"],[1,"line-item"],["class","item-price",4,"ngIf"],["class","qty-text",4,"ngIf"],[1,"qty-text"],[1,"line-item","break-line",2,"border-top","1px dashed #e5e7eb","margin-top","8px","padding-top","8px","width","100%"],[1,"item-name",2,"text-transform","capitalize"],[1,"load-more-section"],[1,"load-more-button",3,"click","disabled"],["class","pi pi-chevron-down",4,"ngIf"],["class","pi pi-spin pi-spinner",4,"ngIf"],[1,"pi","pi-chevron-down"],[1,"pi","pi-spin","pi-spinner"],[1,"load-more-skeleton"],[1,"edit-modal-content"],[1,"modal-subtitle"],[1,"field-group"],["for","quantity",1,"field-label"],[1,"input-wrapper"],["type","number","pInputText","","id","quantity","min","0",1,"full-width-input",3,"ngModelChange","ngModel"],[1,"modal-actions"],["pButton","","label","Update Quantity","icon","pi pi-check",1,"p-button-primary","full-width-btn",3,"click"],[1,"secondary-actions"],["pButton","","label","Skip Day","icon","pi pi-calendar-times",1,"p-button-outlined","p-button-warning","flex-btn",3,"click"],["pButton","","label","Cancel Order","icon","pi pi-times",1,"p-button-outlined","p-button-danger","flex-btn",3,"click"]],template:function(e,n){if(e&1){let a=h();i(0,"div",2),_(1,qo,5,0,"div",3),i(2,"div",4)(3,"div",5,0)(5,"div",6),u("click",function(){return f(a),C(n.setViewMode("my-orders"))}),i(6,"span"),s(7,"All Orders"),r()(),i(8,"div",6),u("click",function(){return f(a),C(n.setViewMode("upcoming-orders"))}),i(9,"span"),s(10,"Upcoming"),r()()()(),_(11,ti,5,4,"div",7)(12,ki,14,8,"div",7),r(),i(13,"p-dialog",8),B("visibleChange",function(O){return f(a),N(n.displayEditModal,O)||(n.displayEditModal=O),C(O)}),_(14,Ii,15,2,"div",9),r()}e&2&&(c(),d("ngIf",n.isUpdating),c(4),F("active",n.isViewMode("my-orders")),c(3),F("active",n.isViewMode("upcoming-orders")),c(3),d("ngIf",n.isViewMode("upcoming-orders")),c(),d("ngIf",n.isViewMode("my-orders")),c(),He(be(15,No)),L("visible",n.displayEditModal),d("modal",!0)("draggable",!1)("resizable",!1)("baseZIndex",1e4),c(),d("ngIf",n.selectedOrderForEdit))},dependencies:[Y,D,k,Oe,Ue,le,at,xe,mt,On,st,ut,Me,A],styles:[".my-order-container[_ngcontent-%COMP%]{padding:0 0 80px;margin:0;min-height:100vh}.my-order-container[_ngcontent-%COMP%]   .orders-header[_ngcontent-%COMP%]{background-color:#fff;padding:1rem 1.25rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.my-order-container[_ngcontent-%COMP%]   .orders-header[_ngcontent-%COMP%]   .orders-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0}.my-order-container[_ngcontent-%COMP%]   .orders-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#5d157c;color:#fff;border:none;border-radius:.5rem;font-weight:500;font-size:.875rem;cursor:pointer;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .orders-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#3c0e50}.my-order-container[_ngcontent-%COMP%]   .orders-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.my-order-container[_ngcontent-%COMP%]   .orders-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]{padding:1rem;background-color:#f3f4f6}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;margin-bottom:.75rem;box-shadow:0 2px 4px #0000001a;overflow:hidden}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1rem .5rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-header[_ngcontent-%COMP%]   .skeleton-vendor-name[_ngcontent-%COMP%]{width:40%;height:.875rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.25rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-header[_ngcontent-%COMP%]   .skeleton-status-badge[_ngcontent-%COMP%]{width:20%;height:1.25rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.5rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 1rem 1rem;gap:.75rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-image[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.5rem;flex-shrink:0}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-info[_ngcontent-%COMP%]   .skeleton-product-text[_ngcontent-%COMP%]{width:80%;height:.875rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.25rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-info[_ngcontent-%COMP%]   .skeleton-product-price[_ngcontent-%COMP%]{width:30%;height:.875rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.25rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-payment-button[_ngcontent-%COMP%]{width:4rem;height:2rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.375rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-expandable-section[_ngcontent-%COMP%]{padding:.5rem 1rem;border-top:1px solid #e5e7eb;display:flex;justify-content:center}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-expandable-section[_ngcontent-%COMP%]   .skeleton-expand-indicator[_ngcontent-%COMP%]{width:1rem;height:1rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:50%}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]{padding:0 1rem 1rem;background-color:#f3f4f6}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;margin-bottom:.75rem;box-shadow:0 2px 4px #0000001a;overflow:hidden}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1rem .5rem}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-header[_ngcontent-%COMP%]   .skeleton-vendor-name[_ngcontent-%COMP%]{width:40%;height:.875rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.25rem}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-header[_ngcontent-%COMP%]   .skeleton-status-badge[_ngcontent-%COMP%]{width:20%;height:1.25rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.5rem}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 1rem 1rem;gap:.75rem}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-image[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.5rem;flex-shrink:0}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-info[_ngcontent-%COMP%]   .skeleton-product-text[_ngcontent-%COMP%]{width:80%;height:.875rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.25rem}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-info[_ngcontent-%COMP%]   .skeleton-product-price[_ngcontent-%COMP%]{width:30%;height:.875rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.25rem}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-payment-button[_ngcontent-%COMP%]{width:4rem;height:2rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:.375rem}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-expandable-section[_ngcontent-%COMP%]{padding:.5rem 1rem;border-top:1px solid #e5e7eb;display:flex;justify-content:center}.my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-expandable-section[_ngcontent-%COMP%]   .skeleton-expand-indicator[_ngcontent-%COMP%]{width:1rem;height:1rem;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9,#e2e8f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_skeleton-loading 1.5s infinite;border-radius:50%}.my-order-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;background:#fff;border-radius:1rem;margin:1rem}.my-order-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.my-order-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#ef4444}.my-order-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#4b5563;font-size:1rem;margin-bottom:1.5rem;text-align:center}.my-order-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#5d157c;color:#fff;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background:#3c0e50}.my-order-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;background:#fff;border-radius:1rem;margin:1rem}.my-order-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{margin-bottom:1.5rem}.my-order-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#9ca3af}.my-order-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#374151;margin:0 0 .5rem}.my-order-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;margin:0 0 2rem;text-align:center}.my-order-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .explore-button[_ngcontent-%COMP%]{padding:.875rem 2rem;background:#5d157c;color:#fff;border:none;border-radius:.75rem;font-weight:600;cursor:pointer;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .explore-button[_ngcontent-%COMP%]:hover{background:#3c0e50}.my-order-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{margin:.5rem 1rem 1rem}.my-order-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-radius:.75rem;box-shadow:0 4px 12px #0000000d;padding:0 1rem;height:3rem;border:1px solid transparent;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#5d157c4d;box-shadow:0 4px 12px #5d157c1a}.my-order-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9ca3af;font-size:1.1rem;margin-right:.75rem;display:flex;align-items:center}.my-order-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;font-size:.95rem;color:#374151;height:100%;padding:0;width:100%}.my-order-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;opacity:1}.my-order-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.my-order-container[_ngcontent-%COMP%]   .orders-list-container[_ngcontent-%COMP%]{height:calc(100vh - 120px);background-color:#f3f4f6;display:flex;flex-direction:column}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]{padding:1rem;background-color:#f3f4f6;flex:1;overflow-y:auto;overflow-x:hidden}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;margin-bottom:.75rem;box-shadow:0 2px 4px #0000001a;overflow:hidden}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1rem .5rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]   .vendor-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]   .share-icon[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af;cursor:pointer}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;font-weight:600;text-transform:capitalize}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-delivered[_ngcontent-%COMP%]{background-color:#10b9811a;color:#10b981}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-pending[_ngcontent-%COMP%]{background-color:#f59e0b1a;color:#f59e0b}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-processing[_ngcontent-%COMP%]{background-color:#5d157c1a;color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-cancelled[_ngcontent-%COMP%]{background-color:#ef44441a;color:#ef4444}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-accepted[_ngcontent-%COMP%]{background-color:#10b9811a;color:#10b981}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]   .status-badge.status-default[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#4b5563}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 1rem 1rem;gap:.75rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-image-section[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;flex-shrink:0}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-image-section[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:.5rem;object-fit:cover}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-image-section[_ngcontent-%COMP%]   .provider-initials[_ngcontent-%COMP%]{width:100%;height:100%;background:#5d157c;color:#fff;border-radius:.5rem;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-info-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-info-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   .product-text[_ngcontent-%COMP%]{font-size:.875rem;color:#374151;line-height:1.3}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-info-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]   .price-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:.375rem;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-button.payment-paid[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-button.payment-pending[_ngcontent-%COMP%]{background:#5d157c;color:#fff}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-button[_ngcontent-%COMP%]:hover{opacity:.9}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .expandable-section[_ngcontent-%COMP%]{padding:.5rem 1rem;border-top:1px solid #e5e7eb;cursor:pointer;display:flex;justify-content:center}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .expandable-section[_ngcontent-%COMP%]   .expand-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .expandable-section[_ngcontent-%COMP%]:hover{background:#f9fafb}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .expandable-section[_ngcontent-%COMP%]:hover   .expand-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4b5563}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#f9fafb}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;gap:.75rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]   .order-checkbox[_ngcontent-%COMP%]   .order-check[_ngcontent-%COMP%]{width:1rem;height:1rem;accent-color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]   .order-id-display[_ngcontent-%COMP%]{flex:1}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]   .order-id-display[_ngcontent-%COMP%]   .order-id-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]   .order-total-amount[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#f97316}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;cursor:pointer;border-top:1px solid #e5e7eb}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem;color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]:hover{background:#fff}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]{padding:0 1rem 1rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.75rem;padding-top:.5rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.375rem 0;font-size:.875rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#374151}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item.total-line[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:.5rem;margin-top:.5rem;font-weight:600}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item.total-line[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#1f2937}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .line-item.total-line[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{color:#1f2937;font-weight:700}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.5rem 1rem;border:1px solid #ef4444!important;border-radius:.375rem;background-color:transparent;color:#ef4444;font-weight:600;font-size:.875rem;cursor:pointer;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]:hover{background-color:#ef44440d;color:#eb1515;border-color:#eb1515!important}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #ef444433;outline:none}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]   .p-button-icon[_ngcontent-%COMP%]{margin-right:.5rem}.my-order-container[_ngcontent-%COMP%]   .load-more-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:1.5rem 0}.my-order-container[_ngcontent-%COMP%]   .load-more-section[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 2rem;background:#5d157c;color:#fff;border:none;border-radius:.75rem;font-weight:600;font-size:.875rem;cursor:pointer;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .load-more-section[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#3c0e50}.my-order-container[_ngcontent-%COMP%]   .load-more-section[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.my-order-container[_ngcontent-%COMP%]   .load-more-section[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.my-order-container[_ngcontent-%COMP%]   .orders-info[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;padding:1rem}.my-order-container[_ngcontent-%COMP%]   .orders-info[_ngcontent-%COMP%]   .orders-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin:0}.my-order-container[_ngcontent-%COMP%]   .app-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.25rem;padding:1rem;background:#f3f4f6}.my-order-container[_ngcontent-%COMP%]   .app-footer[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.my-order-container[_ngcontent-%COMP%]   .app-footer[_ngcontent-%COMP%]   .footer-logo[_ngcontent-%COMP%]{width:1rem;height:1rem;background:#5d157c;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.625rem;font-weight:700}@keyframes _ngcontent-%COMP%_skeleton-loading{0%{background-position:-200% 0}to{background-position:200% 0}}@media (max-width: 768px){.my-order-container[_ngcontent-%COMP%]   .orders-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.my-order-container[_ngcontent-%COMP%]   .orders-header[_ngcontent-%COMP%]   .orders-title[_ngcontent-%COMP%]{font-size:1.125rem}.my-order-container[_ngcontent-%COMP%]   .orders-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.75rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-header[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-header[_ngcontent-%COMP%]{padding:.75rem .75rem .5rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]{padding:.5rem .75rem .75rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-image[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-image[_ngcontent-%COMP%]{width:3rem;height:3rem}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-info[_ngcontent-%COMP%]   .skeleton-product-text[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-product-info[_ngcontent-%COMP%]   .skeleton-product-text[_ngcontent-%COMP%]{width:75%}.my-order-container[_ngcontent-%COMP%]   .skeleton-orders[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-payment-button[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .load-more-skeleton[_ngcontent-%COMP%]   .skeleton-order[_ngcontent-%COMP%]   .skeleton-vendor-content[_ngcontent-%COMP%]   .skeleton-payment-button[_ngcontent-%COMP%]{width:3.5rem;height:1.75rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]{padding:.75rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]{padding:.75rem .75rem .5rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-header[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]   .vendor-title[_ngcontent-%COMP%]{max-width:120px}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]{padding:.5rem .75rem .75rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-image-section[_ngcontent-%COMP%]{width:3rem;height:3rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-info-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   .product-text[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .product-info-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]   .price-value[_ngcontent-%COMP%]{font-size:.8125rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .vendor-content[_ngcontent-%COMP%]   .payment-section[_ngcontent-%COMP%]   .payment-button[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.6875rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]{padding:.75rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-summary-header[_ngcontent-%COMP%]   .order-total-amount[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:.875rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]{padding:.5rem .75rem}.my-order-container[_ngcontent-%COMP%]   .orders-list[_ngcontent-%COMP%]   .vendor-order-card[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   .order-line-items[_ngcontent-%COMP%]{padding:0 .75rem .75rem}.my-order-container[_ngcontent-%COMP%]   .app-footer[_ngcontent-%COMP%]{padding:.75rem}}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]{padding:1rem 1rem .5rem;background:linear-gradient(180deg,#fafbfc,#fff);border-bottom:1px solid #f0f0f0;position:sticky;top:0;z-index:100;backdrop-filter:blur(10px);display:flex!important;align-items:center;gap:.75rem;width:100%;box-sizing:border-box}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]{display:flex;gap:.5rem;overflow-x:auto;overflow-y:hidden;padding-bottom:0;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;width:100%;justify-content:center}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.625rem 1.25rem;border-radius:2rem;background:#fff;border:1px solid #e5e7eb;color:#6b7280;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);white-space:nowrap;-webkit-user-select:none;user-select:none;position:relative;overflow:hidden;box-shadow:0 1px 2px #0000000d;flex:1;max-width:fit-content}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]:hover:not(.active){background:#f9fafb;border-color:#d1d5db;color:#374151;transform:translateY(-1px);box-shadow:0 4px 6px #0000000d}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip.active[_ngcontent-%COMP%]{background:#5d157c;border-color:#5d157c;color:#fff;box-shadow:0 4px 12px #5d157c40,0 2px 4px #5d157c26;transform:translateY(-1px)}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98)}@media (max-width: 768px){.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]{padding:.875rem .875rem .375rem;gap:.5rem}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]{gap:.625rem;padding-bottom:.375rem}.my-order-container[_ngcontent-%COMP%]   .tab-chips-container[_ngcontent-%COMP%]   .tab-chips[_ngcontent-%COMP%]   .tab-chip[_ngcontent-%COMP%]{padding:.625rem 1rem;font-size:.813rem}}.my-order-container[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{font-size:1rem;color:#5d157c;cursor:pointer;margin-left:.5rem;padding:.25rem;border-radius:50%;transition:all .2s ease}.my-order-container[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]:hover{background-color:#5d157c1a}.my-order-container[_ngcontent-%COMP%]     .p-dialog .p-dialog-header{padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e5e7eb}.my-order-container[_ngcontent-%COMP%]     .p-dialog .p-dialog-content{padding:0}.my-order-container[_ngcontent-%COMP%]   .edit-modal-content[_ngcontent-%COMP%]{padding:1.5rem}.my-order-container[_ngcontent-%COMP%]   .edit-modal-content[_ngcontent-%COMP%]   .modal-subtitle[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#4b5563;font-size:.95rem;line-height:1.5}.my-order-container[_ngcontent-%COMP%]   .edit-modal-content[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.my-order-container[_ngcontent-%COMP%]   .edit-modal-content[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#374151;font-size:.9rem}.my-order-container[_ngcontent-%COMP%]   .edit-modal-content[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .full-width-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border-radius:.5rem;border:1px solid #d1d5db}.my-order-container[_ngcontent-%COMP%]   .edit-modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.my-order-container[_ngcontent-%COMP%]   .edit-modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .full-width-btn[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.875rem}.my-order-container[_ngcontent-%COMP%]   .edit-modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.my-order-container[_ngcontent-%COMP%]   .edit-modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .flex-btn[_ngcontent-%COMP%]{flex:1;justify-content:center;font-size:.9rem;padding:.75rem}.my-order-container[_ngcontent-%COMP%]   .page-loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;z-index:9999;display:flex;justify-content:center;align-items:center;backdrop-filter:blur(2px)}.my-order-container[_ngcontent-%COMP%]   .page-loader-overlay[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:1rem;box-shadow:0 4px 12px #00000026;display:flex;flex-direction:column;align-items:center;gap:1rem}.my-order-container[_ngcontent-%COMP%]   .page-loader-overlay[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#5d157c;font-weight:600;font-size:1.1rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]{padding:.5rem;padding-bottom:120px;display:flex;flex-direction:column;gap:.5rem;z-index:1;max-width:600px;margin:0 auto}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]{width:100%;border-radius:12px;overflow:hidden;background:#fff;border:1px solid #f3f4f6;box-shadow:0 1px 3px #0000000d;transition:all .3s ease;position:relative;color:#374151;margin-bottom:.5rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026;z-index:2}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.5rem;padding:.5rem .75rem .125rem;background:transparent;border-bottom:1px solid #f9fafb;transition:all .3s ease}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background:transparent}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.125rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6b7280;margin:0;display:flex;align-items:center;gap:.375rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:.938rem;font-weight:700;line-height:1.2;color:#111827;margin:0}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .sub-id[_ngcontent-%COMP%]{font-size:.688rem;color:#9ca3af;font-family:monospace;background:#f9fafb;padding:.063rem .25rem;border-radius:3px;width:fit-content}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.75rem;font-size:.625rem;font-weight:700;letter-spacing:.3px;white-space:nowrap;flex-shrink:0;text-transform:uppercase;background:#f3f4f6;color:#374151}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card.card-active[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:#fdf2f8;color:#be185d}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card.card-expired[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card.card-inactive[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card.card-cancelled[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:#f3f4f6;color:#4b5563}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card.card-pending[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card.card-pending_payment[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{background:#fffbeb;color:#d97706}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.5rem .75rem;background:#f9fafb;border-bottom:1px solid #f3f4f6}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:#4b5563;display:flex;align-items:center;gap:.5rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af;width:14px;text-align:center}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-weight:500}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .centered-info[_ngcontent-%COMP%]   .plan-name[_ngcontent-%COMP%]{font-size:.7rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.25rem;padding:.25rem .75rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;flex:1;min-width:0}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;font-size:.75rem;color:#4b5563}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af;flex-shrink:0;width:14px;text-align:center}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-weight:500;color:#1f2937}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item.full-width[_ngcontent-%COMP%]{width:100%}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;flex-shrink:0}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{font-size:.563rem;text-transform:uppercase;color:#9ca3af;margin-bottom:.063rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:#5d157c;letter-spacing:-.5px}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .alert-banner[_ngcontent-%COMP%]{margin:0 .75rem .5rem;padding:.375rem .5rem;border-radius:.25rem;font-size:.688rem;font-weight:600;text-align:center;display:flex;align-items:center;justify-content:center;gap:.5rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .alert-banner.alert-warning[_ngcontent-%COMP%]{background:#fffbeb;border:1px solid #fcd34d;color:#b45309}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .alert-banner.alert-danger[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#b91c1c}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.25rem;padding:.25rem .75rem .5rem;border-top:none;background:transparent}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .billing-type[_ngcontent-%COMP%]{font-size:.625rem;font-weight:700;padding:.188rem .375rem;border-radius:.25rem;background:#e5e7eb;color:#4b5563;letter-spacing:.3px;text-transform:uppercase}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:.25rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.25rem;border:1px solid transparent;font-size:.688rem;font-weight:600;cursor:pointer;transition:all .2s}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn.btn-cancel[_ngcontent-%COMP%]{background:#fff;border-color:#e5e7eb;color:#dc2626}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn.btn-cancel[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#fecaca}@media (max-width: 768px){.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]{border-radius:.75rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.875rem .875rem .75rem 1.125rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:.875rem 1rem}.my-order-container[_ngcontent-%COMP%]   .product-subscriptions-list[_ngcontent-%COMP%]   .product-subscription-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.25rem}}.my-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:50vh;padding:2rem}.my-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(52,152,219,.2);border-top-color:#3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-bottom:.75rem}@media (max-width: 768px){.my-order-container[_ngcontent-%COMP%]{padding:.875rem .875rem .375rem;gap:.5rem}.my-order-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:#666;font-size:.875rem;font-weight:600}}.my-order-container[_ngcontent-%COMP%]   .empty-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:50vh;text-align:center;padding:2rem}.my-order-container[_ngcontent-%COMP%]   .empty-container[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1rem}.my-order-container[_ngcontent-%COMP%]   .empty-container[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#666;font-size:.938rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse-alert{0%,to{opacity:1}50%{opacity:.85}}.my-order-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.3px;box-shadow:0 2px 4px #00000014;transition:all .2s cubic-bezier(.4,0,.2,1);border:none!important}.my-order-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]     .p-button-icon{font-size:.875rem;font-weight:700}.my-order-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px #0000001f}.my-order-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.my-order-container[_ngcontent-%COMP%]   .action-btn.btn-eager-pause[_ngcontent-%COMP%]{background:#fff;color:#5d157c;border:1px solid #e5e7eb!important}.my-order-container[_ngcontent-%COMP%]   .action-btn.btn-eager-pause[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#5d157c!important;box-shadow:0 4px 12px #5d157c26}.my-order-container[_ngcontent-%COMP%]   .action-btn.btn-eager-pause[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .action-btn.btn-eager-resume[_ngcontent-%COMP%]{background:#fff;color:#5d157c;border:1px solid #e5e7eb!important}.my-order-container[_ngcontent-%COMP%]   .action-btn.btn-eager-resume[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#5d157c!important;box-shadow:0 4px 12px #5d157c26}.my-order-container[_ngcontent-%COMP%]   .action-btn.btn-eager-resume[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#5d157c}.my-order-container[_ngcontent-%COMP%]   .action-btn.btn-eager-cancel[_ngcontent-%COMP%]{background:#e5e7eb;color:#ef4444}.my-order-container[_ngcontent-%COMP%]   .action-btn.btn-eager-cancel[_ngcontent-%COMP%]:hover{background:#d1d5db;color:#dc2626}@media (max-width: 480px){.my-order-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.813rem}.my-order-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]     .p-button-label{display:inline-block}.my-order-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]     .p-button-icon{margin-right:.25rem}}.my-order-container[_ngcontent-%COMP%]     .custom-dialog{border-radius:12px!important;overflow:hidden;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .p-dialog-header{padding:.5rem;border-bottom:none;background:#fff;justify-content:center}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .p-dialog-header .p-dialog-title{display:none}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .p-dialog-header .p-dialog-header-icons{position:absolute;top:.5rem;right:.5rem;z-index:2}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .p-dialog-header .p-dialog-header-icons .p-dialog-header-close{width:1.5rem;height:1.5rem;border-radius:50%;background:transparent;color:#9ca3af}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .p-dialog-header .p-dialog-header-icons .p-dialog-header-close:hover{background:#f3f4f6;color:#374151}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .p-dialog-content{padding:0;border-radius:0 0 12px 12px;background:#fff}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .p-dialog-content ul, .my-order-container[_ngcontent-%COMP%]     .custom-dialog .p-dialog-content li{list-style:none;padding:0;margin:0}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .dialog-header-content{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem 1.5rem .5rem;text-align:center;gap:.5rem;background:#fff;width:100%;margin:0 auto}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .dialog-header-content .icon-wrapper{width:3rem;height:3rem;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:.25rem}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .dialog-header-content .icon-wrapper.pause-wrapper{background:#fef3c7;color:#d97706}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .dialog-header-content .icon-wrapper.cancel-wrapper{background:#fee2e2;color:#dc2626}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .dialog-header-content .icon-wrapper i{font-size:1.25rem}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .dialog-header-content .dialog-header-icon{font-size:2rem}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .dialog-header-content .dialog-title{font-size:1.25rem;font-weight:800;color:#111827;margin:0;line-height:1.2;text-align:center;width:100%}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content{padding:0 1.5rem 1.5rem;text-align:center;display:flex;flex-direction:column;align-items:center}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .dialog-description{color:#6b7280;font-size:.875rem;line-height:1.5;margin:0 auto 1.25rem;max-width:100%;text-align:center}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .field-group{width:100%;text-align:left;margin-bottom:1.25rem;background:#f9fafb;padding:1rem;border-radius:8px;border:1px solid #e5e7eb}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .field-group .field-label{display:block;font-size:.75rem;font-weight:600;color:#4b5563;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .field-group .input-wrapper   .p-calendar{width:100%}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .field-group .input-wrapper   .p-calendar .p-inputtext{width:100%;padding:.5rem .75rem;border-radius:6px;border-color:#d1d5db;font-size:.875rem;text-align:center}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .field-group .input-wrapper   .p-calendar .p-inputtext:hover{border-color:#9ca3af}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .field-group .input-wrapper   .p-calendar .p-inputtext:focus{border-color:#5d157c;box-shadow:0 0 0 2px #5d157c1a}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .dialog-actions{display:flex;justify-content:center;gap:.75rem;margin-top:1rem;width:100%}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .dialog-actions button{width:auto;min-width:100px;padding:.625rem 1rem;font-weight:600;font-size:.875rem;border-radius:6px;justify-content:center}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .dialog-actions button.p-button-text{padding:.625rem 1rem;color:#6b7280}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .dialog-actions button.p-button-text:hover{color:#374151;background:#f3f4f6}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .dialog-actions button.p-button-primary{background:#5d157c;border:1px solid #5d157c;color:#fff!important}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .dialog-actions button.p-button-primary:hover{background:#4d1166}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .dialog-actions button.p-button-danger.p-button-outlined{color:#dc2626;border:1px solid #fee2e2;background:#fff}.my-order-container[_ngcontent-%COMP%]     .custom-dialog .custom-dialog-content .dialog-actions button.p-button-danger.p-button-outlined:hover{background:#fef2f2;border-color:#fecaca}"]})};var Bn=o=>({"background-image":o});function Ti(o,t){if(o&1&&m(0,"div",12),o&2){let e=l(2).$implicit;d("ngStyle",K(1,Bn,"url("+e.image_url+")"))}}function Fi(o,t){if(o&1&&(i(0,"div",13),m(1,"img",14),r()),o&2){let e=l(4);c(),d("src",e.defaultCatIcon,U)}}function Di(o,t){if(o&1&&m(0,"div",12),o&2){let e=l().$implicit;d("ngStyle",K(1,Bn,"url("+e.image_url+")"))}}function Ai(o,t){if(o&1&&(i(0,"div",13),m(1,"img",14),r()),o&2){let e=l(5);c(),d("src",e.defaultCatIcon,U)}}function zi(o,t){if(o&1){let e=h();i(0,"div",15),u("click",function(){let a=f(e).$implicit,p=l(4);return C(p.onCategorySelect(a))}),i(1,"div",16),s(2),r(),_(3,Di,1,3,"div",7)(4,Ai,2,1,"div",8),r()}if(o&2){let e=t.$implicit;c(2),g(e.name),c(),d("ngIf",e.validImage),c(),d("ngIf",!e.validImage)}}function ji(o,t){if(o&1){let e=h();i(0,"div",5)(1,"div",6),_(2,Ti,1,3,"div",7)(3,Fi,2,1,"div",8),s(4),r(),i(5,"div",9),u("click",function(){f(e);let a=l().$implicit,p=l(2);return C(p.onCategorySelect(a))}),s(6),b(7,"translate"),r()(),i(8,"div",10),_(9,zi,5,3,"div",11),r()}if(o&2){let e=l().$implicit;c(2),d("ngIf",e.validImage),c(),d("ngIf",!e.validImage),c(),v(" ",e.name," "),c(2),g(M(7,5,"recommends.view_all")),c(3),d("ngForOf",e.children)}}function Ui(o,t){if(o&1&&_(0,ji,10,7),o&2){let e=t.$implicit;De(e.children!=null&&e.children.length?0:-1)}}function Ri(o,t){if(o&1&&Xt(0,Ui,1,1,null,null,Qt),o&2){let e=l();Zt(e.categories)}}function Vi(o,t){o&1&&m(0,"div",21)}function Li(o,t){if(o&1&&(i(0,"div",17),m(1,"div",18),r(),i(2,"div",19),_(3,Vi,1,0,"div",20),r()),o&2){let e=l();c(3),d("ngForOf",e.placeholderCategories)}}var vt=class o{constructor(t,e,n,a){this._customerService=t;this._route=e;this.translate=n;this.cdr=a}defaultCatIcon="/assets/images/svg/gen-cat.svg";isCategoryLoading=!0;placeholderCategories=Array(3).fill({});ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.cdr.detectChanges()}),this._customerService.getCategoriesSubject().subscribe(t=>{t&&(this.isCategoryLoading=!1,this.categories=t,this.categories.forEach(e=>{Nt(e.image_url).then(n=>{e.validImage=n}),e.children?.length===0&&this.categoriesWithoutChild.push(e),e.children?.forEach(n=>{Nt(n.image_url).then(a=>{n.validImage=a})})}))}),this._customerService.setAllCategoriesSubject()}categories=[];categoriesWithoutChild=[];onCategorySelect(t){this._customerService.categorySelectedFromHomePage=t,this._route.navigate(["customers","search-providers"])}testTranslation(){let t=["en","fr","ta","hi"],e=this.translate.currentLang;t.forEach(n=>{this.translate.use(n).subscribe(()=>{this.translate.get("recommends.title").subscribe(()=>{})})}),this.translate.use(e)}refreshTranslation(){this.translate.get("recommends.title").subscribe(()=>{this.cdr.detectChanges()})}static \u0275fac=function(e){return new(e||o)(P(te),P(T),P(de),P(se))};static \u0275cmp=w({type:o,selectors:[["app-recommends"]],decls:9,vars:5,consts:[[1,"cat0container"],[1,"cat0title"],[1,"cat0dottedlines"],[1,"categories-list-container"],[1,"categories-list"],[1,"category-title-container"],[1,"category-title"],["class","category-image",3,"ngStyle",4,"ngIf"],["class","category-image",4,"ngIf"],[1,"category-view-more",3,"click"],[1,"category-item-container"],["class","category-item",3,"click",4,"ngFor","ngForOf"],[1,"category-image",3,"ngStyle"],[1,"category-image"],[3,"src"],[1,"category-item",3,"click"],[1,"category-name"],[1,"category-title-container","loading-placeholder"],[1,"category-title","skeleton-animation"],[1,"category-item-container","loading-placeholder"],["class","category-item skeleton-animation",4,"ngFor","ngForOf"],[1,"category-item","skeleton-animation"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1),s(2),b(3,"translate"),r(),m(4,"div",2),r(),i(5,"div",3)(6,"div",4),_(7,Ri,2,0)(8,Li,4,1),r()()),e&2&&(c(2),g(M(3,3,"recommends.title")),c(5),De(n.categories.length&&!n.isCategoryLoading?7:-1),c(),De(n.categories.length===0&&n.isCategoryLoading?8:-1))},dependencies:[D,k,nn,A],styles:['.cat0container[_ngcontent-%COMP%]{position:relative;margin:.5rem 0}.cat0container[_ngcontent-%COMP%]   .cat0title[_ngcontent-%COMP%]{background-color:#5d157c;color:#fff;border-radius:50px;padding:.25rem 1.5rem;margin:auto;text-align:center;width:fit-content}.cat0container[_ngcontent-%COMP%]   .cat0dottedlines[_ngcontent-%COMP%]{border:none;height:1px;position:relative;top:-20px;z-index:-1}.cat0container[_ngcontent-%COMP%]   .cat0dottedlines[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:8px;background-image:repeating-linear-gradient(to right,#5D157C 0,#5D157C 8px,transparent 0px,transparent 12px);background-repeat:no-repeat;background-size:100% .125rem,.125rem 100%,100% .125rem,.125rem 100%;background-position:top left,top right,bottom right,bottom left;pointer-events:none}.categories-list-container[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;padding:1rem;padding-top:0;padding-bottom:80px}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0 .5rem}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-title-container[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:#5d157c}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-title-container[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]   .category-image[_ngcontent-%COMP%]{width:18px;height:18px;background-size:cover;background-position:center;margin-right:.5rem}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-title-container[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]   .category-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-title-container[_ngcontent-%COMP%]   .category-view-more[_ngcontent-%COMP%]{font-size:.8rem;color:#7c3aed;font-weight:500;cursor:pointer}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-title-container.loading-placeholder[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{height:1.5rem;width:100%;position:relative;background:#e4e4e4!important}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-item-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:1rem;padding:.5rem 0;scroll-snap-type:x mandatory}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-item-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-item-container.loading-placeholder[_ngcontent-%COMP%]{overflow:hidden}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-item-container.loading-placeholder[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{width:7.9rem;height:7rem;background:#e4e4e4!important;position:relative;box-shadow:none}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;cursor:pointer;scroll-snap-align:start;background:linear-gradient(134.42deg,#fff 4%,#ffda6dfa);box-shadow:0 0 1.5px #1c191d45,0 0 2px #1c191d52;padding:.5rem 1rem;border-radius:4px}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{width:80px;background:#5d157c;color:#fff;font-size:.75rem;padding:.25rem .4rem;border-radius:5px;margin-bottom:.3rem;font-weight:500;display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;position:relative;left:-15px}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:12px;background-size:cover;background-position:center;background-color:#f5f5f5}.categories-list-container[_ngcontent-%COMP%]   .categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:12px;object-fit:cover}.categories-list-container[_ngcontent-%COMP%]   .others-title[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#5d157c;margin:1.5rem 0 .5rem}.categories-list-container[_ngcontent-%COMP%]   .without-child[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}']})};var ht=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=w({type:o,selectors:[["app-offers-nearby"]],decls:0,vars:0,template:function(e,n){}})};function qi(o,t){o&1&&(ge(0),m(1,"app-recents")(2,"app-favorites")(3,"app-recommends")(4,"app-offers-nearby"),ue())}function Yi(o,t){o&1&&m(0,"my-subscriptions")}function Hi(o,t){o&1&&m(0,"my-ids")}function Ki(o,t){o&1&&m(0,"my-orders")}var xt=class o{constructor(t,e,n,a,p,O){this._customerService=t;this._webviewService=e;this._commonService=n;this._auth=a;this.cdr=p;this.orderService=O}viewMode="view";messageFromReactNative="";homeViewContent=we.HOME;homeTAB_LIST=we;homeSlides=[{id:1,src:"./assets/images/banner/banner_1.png",title:"bannerBanner 1",subtitle:"Some subtitle here",action_url:"https://www.google.com"},{id:2,src:"./assets/images/banner/banner_2.png",title:"bannerBanner 2",subtitle:"Some subtitle here",action_url:"https://www.wikipedia.org"},{id:3,src:"./assets/images/banner/banner_3.png",title:"bannerBanner 3",subtitle:"Some subtitle here",action_url:"https://www.github.com"},{id:4,src:"./assets/images/banner/banner_4.png",title:"bannerBanner 4",subtitle:"Some subtitle here",action_url:"https://www.stackoverflow.com"},{id:5,src:"./assets/images/banner/banner_5.png",title:"bannerBanner 5",subtitle:"Some subtitle here",action_url:"https://www.youtube.com"}];touchStartX=0;touchEndX=0;touchStartY=0;touchEndY=0;swipeHandled=!1;destroy$=new Te;tabOrder=[we.HOME,we.My_IDS,we.My_SUBSCRIPTIONS,we.My_ORDERS];ngOnInit(){this._webviewService.passActionToRN({action:Gn.ACTIONS.showHeader,value:!0}),this.viewMode=this._customerService.customerViewMode;let t=!1,e=()=>{t||this._auth.getUserId()&&(t=!0,this.fetchDashboardData())};this._commonService.hasInitialRecord.subscribe(n=>{n&&e()}),setTimeout(()=>{let n=this._auth.getUserId(),a=this._customerService._recents$.getValue(),p=this._customerService._favorites$.getValue();n&&(!a||!p)&&e()},1e3),this.orderService.navigateToOrder$.pipe(H(this.destroy$)).pipe(H(this.destroy$)).subscribe(({screen:n})=>{(n==="customer_order_details"||n==="order-details")&&this.setActiveTab(we.My_ORDERS)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}_bottomSheet=Jt(yn);nextTrigger(t){}previousTrigger(t){}fetchDashboardData(){try{if(!this._auth.getUserId()){console.warn("[CustomersComponent] Cannot fetch dashboard data - no user ID");return}this._customerService.getCustomerDashboardData().subscribe({next:e=>{e.recents&&Array.isArray(e.recents)?this._customerService.recents=e.recents:console.warn("[CustomersComponent] No recents in dashboard data, recents component will load independently"),e.favorites&&Array.isArray(e.favorites)?this._customerService.favorites=e.favorites:console.warn("[CustomersComponent] No favorites in dashboard data, favorites component will load independently")},error:e=>{console.error("[CustomersComponent] \u274C Error fetching dashboard data:",e),console.error("[CustomersComponent] Error details:",{message:e?.message,status:e?.status,statusText:e?.statusText,url:e?.url})}})}catch(t){console.error("[CustomersComponent] Exception in fetchDashboardData:",t)}}changeHomeContentView(t){t!==this.homeViewContent&&(this.homeViewContent=t,this.cdr.detectChanges())}onTouchStart(t){this.touchStartX=t.changedTouches[0].screenX,this.touchStartY=t.changedTouches[0].screenY,this.swipeHandled=!1}onTouchEnd(t){this.touchEndX=t.changedTouches[0].screenX,this.touchEndY=t.changedTouches[0].screenY,this.swipeHandled||(this.handleSwipeGesture(),this.swipeHandled=!0)}handleSwipeGesture(){let t=this.touchEndX-this.touchStartX,e=this.touchEndY-this.touchStartY;if(Math.abs(t)<80||Math.abs(t)<Math.abs(e))return;let a=this.tabOrder.indexOf(this.homeViewContent);t>0&&a>0?this.setActiveTab(this.tabOrder[a-1]):t<0&&a<this.tabOrder.length-1&&this.setActiveTab(this.tabOrder[a+1])}setActiveTab(t){this.changeHomeContentView(t)}onBannerClick(t){t.action_url&&window.open(t.action_url,"_blank")}static \u0275fac=function(e){return new(e||o)(P(te),P(ke),P(lt),P(I),P(se),P(Le))};static \u0275cmp=w({type:o,selectors:[["app-customers"]],decls:8,vars:7,consts:[[1,"custom-search-container","m-4"],[3,"slideClicked","slides","openExternal"],[3,"onMenuTabChange","activeTab"],[1,"swipe-area",2,"min-height","70vh","touch-action","pan-y",3,"touchstart","touchend"],[4,"ngIf"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"app-ad-viwer",1),u("slideClicked",function(p){return n.onBannerClick(p)}),r(),i(2,"app-menu-tabs",2),u("onMenuTabChange",function(p){return n.changeHomeContentView(p)}),r(),i(3,"div",3),u("touchstart",function(p){return n.onTouchStart(p)})("touchend",function(p){return n.onTouchEnd(p)}),_(4,qi,5,0,"ng-container",4)(5,Yi,1,0,"my-subscriptions",4)(6,Hi,1,0,"my-ids",4)(7,Ki,1,0,"my-orders",4),r()()),e&2&&(c(),d("slides",n.homeSlides)("openExternal",!0),c(),d("activeTab",n.homeViewContent),c(2),d("ngIf",n.homeViewContent===n.homeTAB_LIST.HOME),c(),d("ngIf",n.homeViewContent===n.homeTAB_LIST.My_SUBSCRIPTIONS),c(),d("ngIf",n.homeViewContent===n.homeTAB_LIST.My_IDS),c(),d("ngIf",n.homeViewContent===n.homeTAB_LIST.My_ORDERS))},dependencies:[k,In,Ct,En,Tn,Mt,Ot,Pt,vt,ht],styles:[".custom-search-container[_ngcontent-%COMP%]{margin-top:.3rem}"]})};var ve=Ze(ft());function Qi(o,t){if(o&1&&(i(0,"div",14)(1,"span"),s(2),b(3,"translate"),r(),i(4,"span"),s(5),b(6,"date"),r()()),o&2){let e=l().$implicit;c(2),g(M(3,2,"kyc.verified_at")),c(3),g(J(6,4,e.verified_at,"medium"))}}function Xi(o,t){if(o&1&&(i(0,"div",9)(1,"div",10)(2,"div",11),s(3),b(4,"translate"),r(),i(5,"div",12),s(6),r()(),i(7,"div",13)(8,"div",14)(9,"span"),s(10),b(11,"translate"),r(),i(12,"span"),s(13),r()(),i(14,"div",14)(15,"span"),s(16),b(17,"translate"),r(),i(18,"span"),s(19),r()(),i(20,"div",14)(21,"span"),s(22),b(23,"translate"),r(),i(24,"span"),s(25),b(26,"date"),r()(),_(27,Qi,7,7,"div",15),r()()),o&2){let e=t.$implicit,n=l(2);c(3),g(M(4,10,"kyc.kyc_submission")),c(2),d("ngClass",n.getStatusClass(e.status)),c(),g(e.status),c(4),g(M(11,12,"kyc.name")),c(3),g(e.contact_name),c(3),g(M(17,14,"kyc.business_name")),c(3),g(e.business_name),c(3),g(M(23,16,"kyc.submitted_at")),c(3),g(J(26,18,e.submitted_at,"medium")),c(2),d("ngIf",e.verified_at)}}function Zi(o,t){if(o&1&&(i(0,"div",7),_(1,Xi,28,21,"div",8),r()),o&2){let e=l();c(),d("ngForOf",e.kycSubmissions)}}function er(o,t){if(o&1){let e=h();i(0,"button",19),u("click",function(a){return f(e),l(2).toggleForm(),a.preventDefault(),C(a.stopPropagation())}),s(1),b(2,"translate"),r()}o&2&&(c(),v(" ",M(2,1,"kyc.submit_new_kyc")," "))}function tr(o,t){if(o&1){let e=h();i(0,"button",20),u("click",function(){f(e);let a=l(2);return C(a.goToOneTown())}),s(1),b(2,"translate"),m(3,"i",21),r()}o&2&&(c(),v("",M(2,1,"kyc.one_town")," "))}function nr(o,t){if(o&1&&(i(0,"div",16),_(1,er,3,3,"button",17)(2,tr,4,3,"button",18),r()),o&2){let e=l();c(),d("ngIf",!e.showForm),c(),d("ngIf",e.isVerified)}}function or(o,t){if(o&1){let e=h();i(0,"form",22),u("ngSubmit",function(){f(e);let a=l();return C(a.onSubmit())}),i(1,"div",23)(2,"label",24),s(3),b(4,"translate"),r(),m(5,"input",25),b(6,"translate"),r(),i(7,"div",23)(8,"label",26),s(9),b(10,"translate"),r(),m(11,"input",27),b(12,"translate"),r(),i(13,"div",23)(14,"label",28),s(15),b(16,"translate"),r(),m(17,"input",29),b(18,"translate"),r(),i(19,"div",23)(20,"label",30),s(21),b(22,"translate"),r(),m(23,"input",31),b(24,"translate"),r(),i(25,"div",23)(26,"label",32),s(27),b(28,"translate"),r(),m(29,"p-dropdown",33),b(30,"translate"),r(),i(31,"div",23)(32,"label",34),s(33),b(34,"translate"),r(),m(35,"input",35),b(36,"translate"),r(),i(37,"div",23)(38,"label",36),s(39,"District/City"),r(),m(40,"input",37),r(),i(41,"div",38),u("click",function(){f(e);let a=l();return C(a.selectKycLocation())}),m(42,"i",39),i(43,"span"),s(44),b(45,"translate"),r()(),i(46,"div",40)(47,"button",41),s(48,"Submit"),r(),i(49,"button",42),u("click",function(a){return f(e),l().toggleForm(),a.preventDefault(),C(a.stopPropagation())}),s(50,"Cancel"),r()()()}if(o&2){let e=l();d("formGroup",e.kycForm),c(3),g(M(4,16,"kyc.name")),c(2),d("placeholder",M(6,18,"kycPlaceholders.name_example")),c(4),g(M(10,20,"kyc.business_name")),c(2),d("placeholder",M(12,22,"kycPlaceholders.business_example")),c(4),g(M(16,24,"kyc.phone_number")),c(2),d("placeholder",M(18,26,"kycPlaceholders.business_example")),c(4),g(M(22,28,"kyc.alt_number")),c(2),d("placeholder",M(24,30,"kycPlaceholders.business_example")),c(4),g(M(28,32,"kyc.types_of_business")),c(2),oe("placeholder",M(30,34,"kyc.select")),d("options",e.businessTypes),c(4),g(M(34,36,"kyc.address_line")),c(2),d("placeholder",M(36,38,"kycPlaceholders.address_example")),c(9),g(M(45,40,"kyc.click_to_detect")),c(3),d("disabled",!e.kycForm.valid)}}var yt=class o{constructor(t,e,n,a,p,O,x,E,Ce,Ye){this.fb=t;this.router=e;this.auth=n;this._webviewService=a;this._customerService=p;this.translate=O;this.cdr=x;this.locationBridge=E;this.platform=Ce;this.toast=Ye;this.kycForm=this.fb.group({contact_name:["",V.required],business_name:["",V.required],business_type:["",V.required],phone_number:["",V.required],alt_number:["",V.required],address_line_1:["",V.required],address_line_2:["",V.required],latitude:["",V.required],longitude:["",V.required]})}kycForm;businessTypes=[];hasKYC=!1;isVerified=!0;kycProgress=[];activeKycStatus=0;showForm=!1;kycSubmissions=[];isLoading=!0;kycSlides=Array.from({length:3},(t,e)=>({id:e+1,src:`./assets/images/kyc/banner_${e+1}.png`,title:`KYC Banner ${e+1}`,subtitle:"Some subtitle here"}));selectedLocationData={};ngOnInit(){this.loadBusinessTypes(),this.getKYC(),this.translate.onLangChange.subscribe(()=>{this.loadBusinessTypes(),this.cdr.detectChanges()}),this._customerService.kycLocation.subscribe(t=>{this.kycForm.get("latitude")?.setValue(t.lat_lon.latitude),this.kycForm.get("longitude")?.setValue(t.lat_lon.longitude),this.kycForm.get("address_line_2")?.setValue(t.address.city)})}loadBusinessTypes(){this.businessTypes=[this.translate.instant("kyc.business_types.product_selling"),this.translate.instant("kyc.business_types.service"),this.translate.instant("kyc.business_types.others")]}getKYC(){this._customerService.getKYCbyUser(this.auth.getUserId()).subscribe(t=>{let a=(O=>O?Array.isArray(O)?O:[O]:[])(t).filter(O=>O&&typeof O.status=="string"&&O.kyc_id);if(this.kycSubmissions=a.sort((O,x)=>new Date(O.submitted_at).getTime()-new Date(x.submitted_at).getTime()),this.kycSubmissions.length===0){this.hasKYC=!1,this.isVerified=!1,this.kycProgress=[],this.activeKycStatus=0,this.openNewForm(),this.isLoading=!1;return}let p=this.kycSubmissions.length?this.kycSubmissions[this.kycSubmissions.length-1]:void 0;this.hasKYC=this.kycSubmissions.length>0,this.isVerified=this.kycSubmissions.some(O=>(O.status||"").toLowerCase()==="Verified".toLowerCase()),p&&typeof p.status=="string"&&(this.activeKycStatus=Object.keys(dt).findIndex(O=>O.toLowerCase()===p.status.toLowerCase()),this.showProgressBar(p)),this.showForm=!1,this.isLoading=!1},t=>{this.isLoading=!1})}fillForm(t){Object.keys(this.kycForm.controls).forEach(e=>{let n=this.kycForm.get(e),a=t[e];n&&a&&(n.setValue(a),n.disable())})}showProgressBar(t){let e=Object.keys(dt).findIndex(n=>n==="Rejected");this.kycProgress=[{label:"Submitted",completed:!0},{label:"Pending",completed:!0},{label:this.activeKycStatus===e?"Rejected":"Verified",completed:t.status==="Verified",rejected:t.status==="Rejected"}]}onSubmit(){if(this.kycForm.valid){let t=this.kycForm.value;t.phone_number=t.phone_number.toString(),t.alt_number=t.alt_number.toString();let e=this.auth.getUserId(),n=$(G({},t),{user_id:e,status:"Pending"});try{this._customerService.submitKYC(n).subscribe({next:a=>{let p=a||null;p?(this.kycSubmissions=[...this.kycSubmissions,p],this.hasKYC=this.kycSubmissions.length>0,this.isVerified=this.kycSubmissions.some(O=>(O.status||"").toLowerCase()==="Verified".toLowerCase()),this.activeKycStatus=Object.keys(dt).findIndex(O=>O.toLowerCase()===p.status.toLowerCase()),this.toast.success(this.translate.instant("kyc.success")||"Success",this.translate.instant("kyc.kyc_submitted_success")||"KYC Submitted Successfully"),this.closeFormAndRestoreLatest()):this.getKYC()},error:a=>{},complete:()=>{}})}catch{}}}selectKycLocation(){return ne(this,null,function*(){if(!(!this.showForm&&this.hasKYC))try{let t=yield this.locationBridge.requestAddressSelection("select");if(t){if(t.latlong){let[e,n]=t.latlong.split(",").map(Number);!isNaN(e)&&!isNaN(n)&&(this.selectedLocationData.latitude=e.toString(),this.selectedLocationData.longitude=n.toString(),this.kycForm.get("latitude")?.setValue(e),this.kycForm.get("longitude")?.setValue(n))}t.line1&&this.kycForm.get("address_line_1")?.setValue(t.line1),t.city?this.kycForm.get("address_line_2")?.setValue(t.city):t.line2&&this.kycForm.get("address_line_2")?.setValue(t.line2),this.cdr.detectChanges(),this.platform.isNativeWebView&&this._webviewService.passActionToRN({action:ve.ACTIONS.mapView,value:ve.MapViewAction.AddressMap,mapPage:ve.MapPage.KYC})}}catch(t){console.error("[KycProcessComponent] Failed to get location:",t),this.platform.isNativeWebView&&this._webviewService.passActionToRN({action:ve.ACTIONS.mapView,value:ve.MapViewAction.AddressMap,mapPage:ve.MapPage.KYC})}})}getLocation(){this.selectKycLocation()}goToOneTown(){let t={providerId:this.auth.oneTownProviderId};this.router.navigate(["customers","info"],{state:t})}startNewForm(){this.openNewForm()}getStatusClass(t){let e=(t||"").toLowerCase();return e==="Verified".toLowerCase()?"verified":e==="Pending".toLowerCase()?"pending":e==="Rejected".toLowerCase()?"rejected":"submitted"}openNewForm(){this.showForm=!0,this.selectedLocationData={},Object.keys(this.kycForm.controls).forEach(t=>{let e=this.kycForm.get(t);e&&(e.enable(),e.reset(""))})}closeFormAndRestoreLatest(){let t=this.kycSubmissions.length?this.kycSubmissions[this.kycSubmissions.length-1]:void 0;t&&(this.fillForm(t),this.showProgressBar(t),this.hasKYC=!0,this.isVerified=t.status==="Verified"),this.showForm=!1,this.selectedLocationData={}}toggleForm(){this.isLoading||(this.showForm?this.closeFormAndRestoreLatest():this.openNewForm())}static \u0275fac=function(e){return new(e||o)(P(ye),P(T),P(I),P(ke),P(te),P(de),P(se),P(Ne),P(pt),P(me))};static \u0275cmp=w({type:o,selectors:[["app-kyc-process"]],decls:8,vars:4,consts:[[1,"slides-container",3,"slides"],[1,"kyc-form-container"],[1,"kyc-header"],[1,"header-text"],["class","kyc-cards",4,"ngIf"],["class","button-container",4,"ngIf"],["class","kyc-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"kyc-cards"],["class","kyc-card",4,"ngFor","ngForOf"],[1,"kyc-card"],[1,"kyc-card-header"],[1,"kyc-title"],[1,"kyc-status",3,"ngClass"],[1,"kyc-card-body"],[1,"kyc-row"],["class","kyc-row",4,"ngIf"],[1,"button-container"],["type","button","class","new-submit-link",3,"click",4,"ngIf"],["class","href-link href",3,"click",4,"ngIf"],["type","button",1,"new-submit-link",3,"click"],[1,"href-link","href",3,"click"],[1,"pi","pi-external-link"],[1,"kyc-form",3,"ngSubmit","formGroup"],[1,"form-field"],["for","name"],["id","name","type","text","formControlName","contact_name",3,"placeholder"],["for","businessName"],["id","businessName","type","text","formControlName","business_name",3,"placeholder"],["for","phone_number"],["id","phone_number","type","number","formControlName","phone_number",3,"placeholder"],["for","alt_number"],["id","alt_number","type","number","formControlName","alt_number",3,"placeholder"],["for","businessType"],["id","businessType","formControlName","business_type",3,"options","placeholder"],["for","address"],["id","address","type","text","formControlName","address_line_1",3,"placeholder"],["for","location"],["id","location","type","text","formControlName","address_line_2","placeholder","Eg: Chennai"],[1,"location-detected",3,"click"],[1,"map-pin-icon"],[1,"form-actions"],["type","submit",1,"submit-button",3,"disabled"],["type","button",1,"cancel-button",3,"click"]],template:function(e,n){e&1&&(m(0,"app-ad-viwer",0),i(1,"div",1),m(2,"div",2),i(3,"div",3),s(4,"Business Registration"),r(),_(5,Zi,2,1,"div",4)(6,nr,3,2,"div",5)(7,or,51,42,"form",6),r()),e&2&&(d("slides",n.kycSlides),c(5),d("ngIf",!n.isLoading&&n.kycSubmissions.length>0),c(),d("ngIf",!n.isLoading&&n.kycSubmissions.length>0),c(),d("ngIf",(!n.kycSubmissions.length||n.showForm)&&!n.isLoading))},dependencies:[Y,D,k,je,Oe,Ue,le,ze,Re,Ve,gt,Ct,Me,A],styles:['.kyc-form-container[_ngcontent-%COMP%]{--content-max-width: clamp(18rem, 92vw, 35rem);max-width:clamp(20rem,92vw,60rem);margin-left:auto;margin-right:auto;background:#fff;border-radius:12px;box-shadow:0 .25rem .75rem #0000001a;margin-bottom:0;overflow-y:auto;overflow-x:hidden;position:relative;min-height:100vh;padding-bottom:clamp(3.5rem,9vh,6rem)}.kyc-form-container[_ngcontent-%COMP%]   .href-link.href[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:clamp(.375rem,2.2vw,.625rem);margin:.5rem auto;padding:clamp(.5rem,2.5vw,.75rem) clamp(.75rem,5vw,1.25rem);background:#5d157c;color:#fff;text-decoration:none;border-radius:1.25rem;font-weight:500;font-size:clamp(.75rem,3.5vw,.875rem);transition:all .3s ease}.kyc-form-container[_ngcontent-%COMP%]   .href-link.href[_ngcontent-%COMP%]:hover{background:#4a1d96;transform:translateY(-1px)}.kyc-form-container[_ngcontent-%COMP%]   .href-link.href[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:clamp(.75rem,3vw,.875rem);transition:transform .3s ease}.kyc-form-container[_ngcontent-%COMP%]   .href-link.href[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(.125rem)}.kyc-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.75rem;padding:0 .75rem 1rem;max-width:var(--content-max-width);margin-left:auto;margin-right:auto}.kyc-card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;border:.0625rem solid #e5e7eb;box-shadow:0 .0625rem .125rem #0000000d;padding:.75rem}.kyc-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}.kyc-title[_ngcontent-%COMP%]{font-weight:600}.kyc-status[_ngcontent-%COMP%]{font-size:.75rem;padding:.125rem .5rem;border-radius:999px;border:.0625rem solid transparent}.kyc-status.pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e;border-color:#f59e0b}.kyc-status.verified[_ngcontent-%COMP%]{background:#dcfce7;color:#065f46;border-color:#22c55e}.kyc-status.submitted[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;border-color:#3b82f6}.kyc-status.rejected[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b;border-color:#ef4444}.kyc-card-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:6px}.kyc-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:.875rem}.kyc-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#6b7280}.new-submit-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:clamp(.375rem,2.2vw,.625rem);margin:.5rem auto;padding:clamp(.5rem,2.5vw,.75rem) clamp(.75rem,5vw,1.25rem);background:#5d157c;color:#fff;text-decoration:none;border-radius:1.25rem;font-weight:500;font-size:clamp(.75rem,3.5vw,.875rem);transition:all .3s ease}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:clamp(.5rem,3vw,.75rem) clamp(.5rem,4vw,1rem);gap:clamp(.5rem,4vw,.75rem);flex-wrap:wrap;max-width:var(--content-max-width);width:100%;margin-left:auto;margin-right:auto}.button-container[_ngcontent-%COMP%] > .new-submit-link[_ngcontent-%COMP%], .button-container[_ngcontent-%COMP%] > .href-link.href[_ngcontent-%COMP%]{flex:1 1 auto;min-width:7.5rem;margin:0;min-height:clamp(2.25rem,7vw,2.5rem)}.kyc-header[_ngcontent-%COMP%]{position:relative;height:auto;overflow:hidden;background:#fff;display:flex;flex-direction:column}.kyc-header[_ngcontent-%COMP%]   app-ad-viwer[_ngcontent-%COMP%]{display:block;width:100vw;position:relative;left:50%;right:50%;margin-left:-50vw;margin-right:-50vw;padding:0;overflow:visible}.header-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.header-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:300;color:#fff;padding:.1rem 1.5rem .75rem;text-align:center;background:linear-gradient(135deg,#5d157c,#8b5fbf);backdrop-filter:blur(.5rem);margin:0 0 clamp(.75rem,3vh,1.25rem) 0;text-shadow:0 .25rem .5rem rgba(0,0,0,.5);letter-spacing:.125rem;white-space:nowrap;position:relative}.header-text[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:.5rem;left:50%;transform:translate(-50%);width:30rem;height:.1875rem;background:linear-gradient(90deg,#e9a213,#ffb84d);border-radius:2px}.kyc-form[_ngcontent-%COMP%]{--field-max-width: var(--content-max-width);max-width:var(--content-max-width);margin-left:auto;margin-right:auto;padding:clamp(1rem,3.5vw,1.5rem) clamp(1rem,4vw,1.25rem);background:#fff;margin-top:8px}.form-title[_ngcontent-%COMP%]{margin-bottom:clamp(16px,4vw,32px);text-align:center;padding:clamp(.75rem,3vw,1.5rem);background:#f9f2fd;border-radius:16px;border:.0625rem solid #e2e8f0;box-shadow:0 .5rem 1.5rem #5d157c1f;position:relative;overflow:hidden}.form-title[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:clamp(.125rem,.6vw,.25rem);background:#5d157c}.form-title[_ngcontent-%COMP%]   .pre-kyc[_ngcontent-%COMP%]{font-size:clamp(1.125rem,3.2vw,1.5rem);font-weight:700;color:#5d157c;display:block;margin-bottom:clamp(.375rem,1.2vw,.5rem);position:relative}.form-title[_ngcontent-%COMP%]   .pre-kyc[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:clamp(-.375rem,-.8vw,-.25rem);left:50%;transform:translate(-50%);width:clamp(2.5rem,10vw,5rem);height:clamp(.125rem,.6vw,.1875rem);background:#e9a213;border-radius:2px}.business-provider[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#f97316;display:block}.form-field[_ngcontent-%COMP%]{font-size:.875rem;color:#5d157c;display:flex;flex-direction:column;margin-top:.5rem;margin-bottom:clamp(12px,3vw,20px);position:relative;max-width:var(--field-max-width);width:100%;margin-left:auto;margin-right:auto}.form-field[_ngcontent-%COMP%]:last-of-type{margin-bottom:clamp(1rem,3.5vw,1.5rem)}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:clamp(.125rem,.8vw,.375rem);color:#4f126a;font-size:clamp(.75rem,2.6vw,.875rem)}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#f9f2fd;height:clamp(2.5rem,6vh,3rem);border-radius:3.125rem;padding-left:1rem;width:100%;max-width:var(--field-max-width);border:none;font-size:clamp(.875rem,2.8vw,1rem);color:#4f126a;transition:all .3s ease}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{border:.0625rem solid #5D157C;outline:0;background:#fff}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-weight:400}.form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]     .p-dropdown{background:#f9f2fd;height:clamp(2.5rem,6vh,3rem);border-radius:3.125rem;width:100%;max-width:var(--field-max-width);border:none;font-size:clamp(.875rem,2.8vw,1rem);color:#4f126a;transition:all .3s ease;cursor:pointer;display:flex;align-items:center}.form-field[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-label{background:transparent;padding:0 1rem;height:100%;line-height:clamp(2.5rem,6vh,3rem)}.form-field[_ngcontent-%COMP%]     .p-dropdown.p-focus .p-dropdown-label{border:.0625rem solid #5D157C;outline:0;background:#fff}.form-field[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-trigger{height:100%;width:clamp(2.25rem,6vh,2.75rem);border-top-right-radius:50px;border-bottom-right-radius:50px;background:transparent;color:#5d157c}.form-field[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-trigger .p-dropdown-trigger-icon{color:#5d157c}.form-field[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:4px}  .p-dropdown{width:100%}  .p-dropdown .p-dropdown-label{background:#f9f2fd;height:2.25rem;border-radius:50px;padding-left:1rem;border:none;font-size:.875rem;color:#4f126a;transition:all .3s ease}  .p-dropdown .p-dropdown-label:focus{border:1px solid #5D157C;outline:0;background:#fff}  .p-dropdown .p-dropdown-trigger{color:#5d157c;width:2.5rem}  .p-dropdown .p-dropdown-panel{border-radius:8px;box-shadow:0 4px 12px #0000001a;border:1px solid #e2e8f0}  .p-dropdown .p-dropdown-items .p-dropdown-item{padding:10px 16px;border-radius:4px;margin:2px 4px}  .p-dropdown .p-dropdown-items .p-dropdown-item:hover{background-color:#f3f4f6}  .p-dropdown .p-dropdown-items .p-dropdown-item.p-highlight{background-color:#5d157c;color:#fff}.location-detected[_ngcontent-%COMP%]{display:flex;align-items:center;padding:clamp(.75rem,2.8vw,1rem);background-color:#f9f2fd;border:.0625rem solid #e2e8f0;border-radius:.625rem;margin-bottom:clamp(.75rem,3vw,1.25rem);font-weight:600;color:#5d157c;cursor:pointer;transition:all .3s ease}.location-detected[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;border-color:#5d157c;transform:translateY(-1px)}.map-pin-icon[_ngcontent-%COMP%]{margin-right:8px;color:#5d157c;font-size:clamp(.875rem,2.6vw,1rem)}.submit-button[_ngcontent-%COMP%]{width:100%;max-width:var(--content-max-width);padding:clamp(.5rem,2vw,.75rem) clamp(.875rem,2.8vw,1.125rem);background:linear-gradient(135deg,#5d157c,#8b5fbf);color:#fff;border:none;border-radius:12px;font-size:clamp(.8125rem,2.2vw,.9375rem);font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 .25rem .75rem #5d157c4d;text-transform:uppercase;letter-spacing:.5px}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#4a1d96,#7c4dbf);transform:translateY(-3px);box-shadow:0 8px 20px #5d157c66}.submit-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px)}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;box-shadow:0 2px 6px #5d157c33;transform:none}.form-actions[_ngcontent-%COMP%]{display:flex;gap:clamp(.5rem,3vw,.75rem);align-items:stretch;justify-content:space-between;max-width:var(--content-max-width);margin-left:auto;margin-right:auto}.form-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{flex:1 1 0;width:auto;order:2}.cancel-button[_ngcontent-%COMP%]{flex:1 1 0;width:auto;padding:clamp(.5rem,2vw,.75rem) clamp(.875rem,2.8vw,1.125rem);background:#fff;color:#5d157c;border:.125rem solid rgba(93,21,124,.35);border-radius:12px;font-size:clamp(.8125rem,2.2vw,.9375rem);font-weight:700;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px;order:1}.cancel-button[_ngcontent-%COMP%]:hover{background:#f9f2fd;box-shadow:0 .25rem .75rem #5d157c26;transform:translateY(-2px)}.cancel-button[_ngcontent-%COMP%]:active{transform:translateY(-1px)}  .p-steps{padding:24px;background:#f8fafc;border-bottom:1px solid #e2e8f0;margin:0}  .p-steps .p-steps-item .p-steps-number{width:36px;height:36px;border-radius:50%;background:#e5e7eb;color:#6b7280;font-weight:600;font-size:14px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}  .p-steps .p-steps-item.p-highlight .p-steps-number{background-color:#28a745;color:#fff;box-shadow:0 2px 8px #28a7454d}  .p-steps .p-steps-item .p-steps-title{font-weight:500;color:#374151;margin-top:6px;font-size:12px}  .p-steps .p-steps-item.p-highlight .p-steps-title{color:#28a745;font-weight:600}']})};var qn=Ze(ft());var wt=class o{_target=null;setTarget(t){this._target=t}consumeTarget(){let t=this._target;return this._target=null,t}static \u0275fac=function(e){return new(e||o)};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})};var Yn=o=>({active:o}),rr=o=>({selected:o}),Ie=o=>({$implicit:o});function ar(o,t){if(o&1&&m(0,"i",22),o&2){let e=l().$implicit;Z("background-image","url("+e.image_url+")")}}function cr(o,t){o&1&&m(0,"i",23)}function sr(o,t){if(o&1){let e=h();i(0,"span",16),u("click",function(){let a=f(e).$implicit,p=l(2);return C(p.onCategorySelect(a))}),i(1,"div",17),_(2,ar,1,2,"i",21)(3,cr,1,0,"ng-template",null,4,ee),r(),i(5,"div",19),s(6),r()()}if(o&2){let e=t.$implicit,n=j(4),a=l(2);d("ngClass",K(4,Yn,a.activeCategory&&e.provider_category_id===a.activeCategory.provider_category_id)),c(2),d("ngIf",e.validImage)("ngIfElse",n),c(4),g(e.name)}}function dr(o,t){if(o&1){let e=h();i(0,"div",15)(1,"span",16),u("click",function(){f(e);let a=l();return C(a.onCategorySelect("All"))}),i(2,"div",17),m(3,"i",18),r(),i(4,"div",19),s(5),b(6,"translate"),r()(),_(7,sr,7,6,"span",20),r()}if(o&2){let e=l();c(),d("ngClass",K(5,Yn,!e.activeCategory)),c(4),g(M(6,3,"search-page.discovery")),c(2),d("ngForOf",e.categories)}}function lr(o,t){o&1&&(i(0,"span",24)(1,"div",17),m(2,"div",26),r()())}function pr(o,t){if(o&1&&(i(0,"div",15)(1,"span",24)(2,"div",17),m(3,"i",18),r(),i(4,"div",19),s(5),b(6,"translate"),r()(),_(7,lr,3,0,"span",25),r()),o&2){let e=l();c(5),g(M(6,2,"search-page.discovery")),c(2),d("ngForOf",e.placeholderCategories)}}function mr(o,t){if(o&1){let e=h();i(0,"span",27),u("click",function(){let a=f(e).$implicit,p=l();return C(p.subcategorySelected(a.category))}),s(1),b(2,"titlecase"),r()}if(o&2){let e=t.$implicit;d("ngClass",K(4,rr,e.selected)),c(),g(M(2,2,e.category))}}function gr(o,t){o&1&&Pe(0)}function ur(o,t){o&1&&Pe(0)}function _r(o,t){o&1&&Pe(0)}function fr(o,t){if(o&1&&(ge(0),_(1,gr,1,0,"ng-container",30)(2,ur,1,0,"ng-container",30)(3,_r,1,0,"ng-container",30),ue()),o&2){let e=l().$implicit;l();let n=j(11),a=j(13),p=j(17);c(),d("ngTemplateOutlet",p)("ngTemplateOutletContext",K(6,Ie,e)),c(),d("ngTemplateOutlet",a)("ngTemplateOutletContext",K(8,Ie,e)),c(),d("ngTemplateOutlet",n)("ngTemplateOutletContext",K(10,Ie,e))}}function Cr(o,t){o&1&&Pe(0)}function br(o,t){o&1&&Pe(0)}function Mr(o,t){if(o&1&&(ge(0),_(1,Cr,1,0,"ng-container",30),i(2,"div",31)(3,"div",32),s(4),r(),i(5,"div",33),s(6),b(7,"slice"),r(),i(8,"div",34)(9,"span",35),s(10," storefront "),r(),i(11,"span",36),s(12),r()()(),_(13,br,1,0,"ng-container",30),ue()),o&2){let e=l().$implicit;l();let n=j(11),a=j(15);c(),d("ngTemplateOutlet",a)("ngTemplateOutletContext",K(11,Ie,e)),c(3),g(e.title1),c(2),g(e.title2&&e.title2.length>50?Vt(7,7,e.title2,0,50)+"...":e.title2),c(6),g(e.provider_name),c(),d("ngTemplateOutlet",n)("ngTemplateOutletContext",K(13,Ie,e))}}function Or(o,t){o&1&&Pe(0)}function Pr(o,t){o&1&&Pe(0)}function vr(o,t){o&1&&Pe(0)}function hr(o,t){if(o&1&&(ge(0),_(1,Or,1,0,"ng-container",30)(2,Pr,1,0,"ng-container",30)(3,vr,1,0,"ng-container",30),ue()),o&2){let e=l().$implicit;l();let n=j(11),a=j(13),p=j(15);c(),d("ngTemplateOutlet",p)("ngTemplateOutletContext",K(6,Ie,e)),c(),d("ngTemplateOutlet",a)("ngTemplateOutletContext",K(8,Ie,e)),c(),d("ngTemplateOutlet",n)("ngTemplateOutletContext",K(10,Ie,e))}}function xr(o,t){if(o&1){let e=h();i(0,"div",28),u("click",function(){let a=f(e).$implicit,p=l();return C(p.cardClicked(a))}),_(1,fr,4,12,"ng-container",29)(2,Mr,14,15,"ng-container",29)(3,hr,4,12,"ng-container",29),r()}if(o&2){let e=t.$implicit,n=t.index;Wt("provider-card-container ",e.type,""),F("even",n%2===0)("old",n%2===1),c(),d("ngIf",e.type==="provider"),c(),d("ngIf",e.type==="product"),c(),d("ngIf",e.type==="service")}}function yr(o,t){if(o&1){let e=h();i(0,"span",40),u("click",function(a){f(e);let p=l().$implicit,O=l();return C(O.removeFromFavorites(p.provider_id.toString(),a))}),s(1," thumb_up "),r()}}function wr(o,t){if(o&1){let e=h();i(0,"span",41),u("click",function(a){f(e);let p=l().$implicit,O=l();return C(O.addToFavorites(p,a))}),s(1," thumb_up "),r()}}function Sr(o,t){if(o&1&&(i(0,"div",37),_(1,yr,2,0,"span",38)(2,wr,2,0,"span",39),r()),o&2){let e=t.$implicit,n=l();c(),De(n.isInFavorites(e.provider_id.toString())?1:2)}}function kr(o,t){if(o&1&&(i(0,"div",32),s(1),r()),o&2){let e=l().$implicit;c(),v(" ",e.provider_name,"")}}function Ir(o,t){if(o&1&&(i(0,"div",31)(1,"div",32),s(2),r(),_(3,kr,2,1,"div",42),i(4,"div",33),s(5),b(6,"slice"),r(),i(7,"div",34)(8,"span",35),s(9),r(),i(10,"span",36),s(11),r()()()),o&2){let e=t.$implicit;c(2),g(e.title1),c(),d("ngIf",e.type==="provider"&&!e.title1&&e.provider_name),c(2),g(e.title2&&e.title2.length>50?Vt(6,5,e.title2,0,50)+"...":e.title2),c(4),v(" ",e.type==="service"?"storefront":"pin_drop"," "),c(2),g(e.type==="service"?e.provider_name:e.distance+" km")}}function Er(o,t){if(o&1&&m(0,"div",45),o&2){let e=l().$implicit;Z("background-image","url("+e.product_image_url[0]+")")}}function Tr(o,t){if(o&1&&m(0,"div",46),o&2){l(2);let e=j(15);Z("background-image","url("+e+")")}}function Fr(o,t){if(o&1&&(i(0,"div",43),_(1,Er,1,2,"div",44)(2,Tr,1,2,"ng-template",null,5,ee),r()),o&2){let e=t.$implicit,n=j(3);c(),d("ngIf",e.validProductImage)("ngIfElse",n)}}function Dr(o,t){if(o&1&&m(0,"div",45),o&2){let e=l().$implicit;Z("background-image","url("+e.logo_url+")")}}function Ar(o,t){if(o&1&&(i(0,"div",46),s(1),r()),o&2){let e=l().$implicit;c(),v(" ",e.logoShorten," ")}}function zr(o,t){if(o&1&&(i(0,"div",43),_(1,Dr,1,2,"div",44)(2,Ar,2,1,"ng-template",null,6,ee),r()),o&2){let e=t.$implicit,n=j(3);c(),d("ngIf",e.validProviderLogo)("ngIfElse",n)}}var St=class o{constructor(t,e,n,a,p){this._customerService=t;this._webviewService=e;this._commonService=n;this._router=a;this._searchNav=p}isCategoryLoading=!1;ngOnInit(){this._webviewService.passActionToRN({action:qn.ACTIONS.showHeader,value:!1}),this.isCategoryLoading=!0,this.favorites=this._customerService.favorites,this._customerService._favorites$.subscribe(t=>{t&&(this.favorites=t)}),this._customerService.getCategoriesSubject().subscribe(t=>{t&&(this.isCategoryLoading=!1,this.categories=t,this.categories.forEach(e=>{this.checkImageExists(e.image_url).then(n=>{e.validImage=n})}))}),this._customerService.setAllCategoriesSubject(),this._customerService.categorySelectedFromHomePage&&(this.onCategorySelect(this._customerService.categorySelectedFromHomePage),this._customerService.categorySelectedFromHomePage=void 0),this.selectedSearchType=this.subcategoryList.map(t=>({category:t.toLowerCase(),selected:!1}))}favorites=[];selectedSearchType=[];searchBarValue;productPlaceholderImage="assets/images/product-placeholder.png";subcategoryList=["Product","Service","Provider"];categories=[];placeholderCategories=Array.from({length:5});activeCategory;searchResults=[];searchMetadata={total:0,limit:0,offset:0,current_page:0,total_pages:0,has_next:!1,has_prev:!1};onCategorySelect(t){t==="All"?this.activeCategory=void 0:this.activeCategory=t;let e=this.selectedSearchType.filter(n=>n.selected).map(n=>n.category);this.searchBarValue?t!=="All"?this.searchApiTrigger({search_term:this.searchBarValue,search_type:e,provider_category_id:t.provider_category_id}):this.searchApiTrigger({search_term:this.searchBarValue,search_type:e}):this.activeCategory&&this.searchApiTrigger({provider_category_id:this.activeCategory.provider_category_id,search_type:e})}searchApiTrigger(t){let{search_term:e,provider_category_id:n,search_type:a}=t,p={search_term:e,latitude:0,longitude:0,radius:this._commonService.searchKmsSubject.getValue().toString(),offset:t.offset||0,provider_category_id:n||void 0,search_type:a?.join(",")||void 0};this._customerService.search(p).subscribe({next:O=>{let x=O.content.filter(E=>E.type==="product"||E.type==="service"||E.type==="provider");x.length===0&&O.metadata.offset===0?(this.searchResults=[],this.searchMetadata={total:0,limit:0,offset:0,current_page:0,total_pages:0,has_next:!1,has_prev:!1}):x.length>0&&O.metadata.offset==0?(this.searchResults=[...x],this.searchMetadata=O.metadata,this.setProviderLogo()):(this.searchResults.push(...x),this.searchMetadata=O.metadata,this.setProviderLogo())},error:O=>{console.error(O)}})}subcategorySelected(t){let e=this.selectedSearchType.find(n=>n.category===t.toLowerCase());if(e){e.selected?e.selected=!1:(this.selectedSearchType.forEach(a=>a.selected=!1),e.selected=!0);let n=this.selectedSearchType.filter(a=>a.selected).map(a=>a.category);this.searchBarValue?this.searchApiTrigger({search_term:this.searchBarValue,search_type:n,offset:0}):this.searchApiTrigger({search_term:"",search_type:n,offset:0})}}searchTriggered(t){this.searchBarValue=t,this.searchResults=[];let e=this.selectedSearchType.filter(n=>n.selected).map(n=>n.category);this.searchApiTrigger({search_term:t,search_type:e,offset:0,provider_category_id:this.activeCategory?.provider_category_id})}checkImageExists(t){return new Promise(e=>{let n=new Image;n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t})}setProviderLogo(){this.searchResults.filter(t=>t.validProviderLogo===void 0||t.validProductImage===void 0).forEach(t=>{this.checkImageExists(t.logo_url).then(e=>{t.validProviderLogo=e}),t.logoShorten=t.provider_name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().substring(0,2),t.product_image_url&&t.product_image_url[0]?this.checkImageExists(t.product_image_url[0]).then(e=>{t.validProductImage=e}):t.validProductImage=!1})}addToFavorites(t,e){e.stopPropagation(),this._customerService.addToLocalFavorites(t),this._customerService.addFavorites(t.provider_id).subscribe({next:n=>{this.favorites=this._customerService.favorites},error:n=>{console.error(n)}})}removeFromFavorites(t,e){e.stopPropagation(),this._customerService.removeFromLocalFavorites(t),this._customerService.removeFavorite(t).subscribe({next:n=>{this.favorites=this._customerService.favorites},error:n=>{console.error(n)}})}isInFavorites(t){return this.favorites&&this.favorites.length>0&&this.favorites.some(e=>e.provider_id.toString()===t.toString())}onScroll(t){let e=t.target,n=e.scrollTop,a=e.scrollHeight,p=e.clientHeight;n+p>=a-10&&this.loadMoreData()}loadMoreData(){if(!this.searchMetadata.has_next)return;let t=this.searchMetadata.offset+this.searchMetadata.limit*this.searchMetadata.current_page,e=this.selectedSearchType.filter(n=>n.selected);this.searchApiTrigger({search_term:this.searchBarValue,search_type:e.map(n=>n.category),provider_category_id:this.activeCategory?.provider_category_id,offset:t})}cardClicked(t){if(t.type!=="product"){let e={providerId:t.provider_id};this._router.navigate(["customers","info"],{state:e})}else{this._searchNav.setTarget({productId:t.product_id,providerId:t.provider_id,categoryId:t.category_id});let e={productId:t.product_id,providerId:t.provider_id,categoryId:t.category_id};this._router.navigate(["customers","info"],{state:e})}}static \u0275fac=function(e){return new(e||o)(P(te),P(ke),P(lt),P(T),P(wt))};static \u0275cmp=w({type:o,selectors:[["search-page"]],decls:18,vars:5,consts:[["addToFavoriteTemplate",""],["providerDetailsTemplate",""],["productPlaceholderImage",""],["providerPlaceholderImage",""],["errorImage",""],["errorImageOnProduct",""],["errorImageOnProviderLogo",""],[3,"onSearch","isSearchPage"],["class","categories-container",4,"ngIf"],[1,"search-subcategory-list-container"],[1,"filter-icon-container"],[1,"material-symbols-outlined","filter-icon"],["class","sub-category",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"search-results",3,"scroll"],[3,"class","even","old","click",4,"ngFor","ngForOf"],[1,"categories-container"],[1,"category-wrap",3,"click","ngClass"],[1,"category-icon-wrap"],[1,"pi","pi-globe"],[1,"category-name"],["class","category-wrap",3,"ngClass","click",4,"ngFor","ngForOf"],["class","image_url",3,"background-image",4,"ngIf","ngIfElse"],[1,"image_url"],[1,"pi","pi-book"],[1,"category-wrap"],["class","category-wrap ",4,"ngFor","ngForOf"],[1,"skeleton-icon","skeleton-animation"],[1,"sub-category",3,"click","ngClass"],[3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"provider-info"],[1,"title"],[1,"sub"],[1,"tag-view"],[1,"material-symbols-outlined","icon"],[1,"distance"],[1,"add-to-favorite"],[1,"material-icons"],[1,"material-symbols-outlined"],[1,"material-icons",3,"click"],[1,"material-symbols-outlined",3,"click"],["class","title",4,"ngIf"],[1,"provider-icon-wrap"],["class","provider-icon has-logo",3,"background-image",4,"ngIf","ngIfElse"],[1,"provider-icon","has-logo"],[1,"provider-icon"]],template:function(e,n){if(e&1){let a=h();i(0,"app-search-bar",7),u("onSearch",function(O){return f(a),C(n.searchTriggered(O))}),r(),_(1,dr,8,7,"div",8)(2,pr,8,4,"div",8),i(3,"div",9)(4,"span",10)(5,"span",11),s(6," tune "),r()(),_(7,mr,3,6,"span",12),r(),i(8,"div",13),u("scroll",function(O){return f(a),C(n.onScroll(O))}),_(9,xr,4,10,"div",14),r(),_(10,Sr,3,1,"ng-template",null,0,ee)(12,Ir,12,9,"ng-template",null,1,ee)(14,Fr,4,2,"ng-template",null,2,ee)(16,zr,4,2,"ng-template",null,3,ee)}e&2&&(d("isSearchPage",!0),c(),d("ngIf",!n.isCategoryLoading),c(),d("ngIf",n.isCategoryLoading),c(5),d("ngForOf",n.selectedSearchType),c(2),d("ngForOf",n.searchResults))},dependencies:[Y,D,k,on,kn,cn,Ae,A],styles:['body{overflow:hidden}.categories-container[_ngcontent-%COMP%]{display:flex;width:auto;overflow:auto;scrollbar-width:none;background-color:#4f126a}.categories-container[_ngcontent-%COMP%]   .category-wrap[_ngcontent-%COMP%]{width:auto;margin:.5rem;position:relative}.categories-container[_ngcontent-%COMP%]   .category-wrap.active[_ngcontent-%COMP%], .categories-container[_ngcontent-%COMP%]   .category-wrap.active[_ngcontent-%COMP%]   .category-icon-wrap[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .categories-container[_ngcontent-%COMP%]   .category-wrap.active[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{color:#ff0}.categories-container[_ngcontent-%COMP%]   .category-wrap.active[_ngcontent-%COMP%]:after{content:"";background-color:#ff0;position:absolute;bottom:-.3125rem;width:100%;height:.1875rem}.categories-container[_ngcontent-%COMP%]   .category-wrap[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{white-space:nowrap;text-align:center;margin:.125rem;color:#fff}.categories-container[_ngcontent-%COMP%]   .category-wrap[_ngcontent-%COMP%]   div.category-name[_ngcontent-%COMP%]{font-size:.6875rem}.categories-container[_ngcontent-%COMP%]   .category-wrap[_ngcontent-%COMP%]   div.category-icon-wrap[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.375rem}.search-subcategory-list-container[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;font-family:inherit;display:flex;align-items:center;gap:.5rem;overflow-x:auto;scrollbar-width:none;padding-left:1rem}.search-subcategory-list-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.search-subcategory-list-container[_ngcontent-%COMP%]   .filter-icon-container[_ngcontent-%COMP%]{color:#5d157c;font-family:inherit;display:flex;align-items:center}.search-subcategory-list-container[_ngcontent-%COMP%]   .filter-icon-container[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{color:#5d157c;font-size:1.5rem}.search-subcategory-list-container[_ngcontent-%COMP%]   .sub-category[_ngcontent-%COMP%]{border:none;border-radius:.75rem;margin:0;padding:.5rem 1rem;background-color:#f8eaff;color:#6a1b9a;font-weight:500;font-size:.875rem;cursor:pointer;white-space:nowrap}.search-subcategory-list-container[_ngcontent-%COMP%]   .sub-category.selected[_ngcontent-%COMP%]{background-color:#d19ce6;color:#4a0072}.search-results[_ngcontent-%COMP%]{margin-top:.5rem;padding-left:.15rem;padding-right:.15rem;height:80%;overflow-y:auto;padding-bottom:2rem;background-color:#fff}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]{position:relative;height:5.6rem;border-radius:.375rem;box-shadow:0 .15625rem .40625rem #1c191d4a,0 0 .125rem #1c191d52;display:flex;justify-content:space-between;align-items:center;width:95%;background-color:#f9f2fd;margin:auto;margin-top:.625rem}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]   .add-to-favorite[_ngcontent-%COMP%]{margin-right:.625rem;color:#5d157c}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]   .provider-icon-wrap[_ngcontent-%COMP%]   .provider-icon[_ngcontent-%COMP%]{margin-top:.5rem;margin-left:1rem;display:inline-block;width:3.875rem;height:3.875rem;border-radius:50%;line-height:3.875rem;text-align:center;font-size:1.5rem;font-weight:700;border-radius:.75rem;color:#5d157c;background-color:#fff;box-shadow:0 .15625rem .40625rem #1c191d4a,0 0 .125rem #1c191d52}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]   .provider-icon-wrap[_ngcontent-%COMP%]   .provider-icon.has-logo[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:contain}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]   .provider-info[_ngcontent-%COMP%]{display:inline-block;font-size:1rem;margin-left:.5rem;flex:1}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]   .provider-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.875rem;color:#5d157c;font-weight:700}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]   .provider-info[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{font-weight:400;color:#243156;font-size:.6875rem}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]   .provider-info[_ngcontent-%COMP%]   .tag-view[_ngcontent-%COMP%]{background-color:#e9a213c9;border-radius:3.125rem;padding:.3125rem .5rem;display:inline;font-size:.875rem}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]   .provider-info[_ngcontent-%COMP%]   .tag-view[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;font-size:1.125rem;margin-right:.3125rem}.search-results[_ngcontent-%COMP%]   .provider-card-container[_ngcontent-%COMP%]   .provider-info[_ngcontent-%COMP%]   .tag-view[_ngcontent-%COMP%]   span.distance[_ngcontent-%COMP%]{display:inline-block;max-width:9rem;overflow:hidden;white-space:nowrap;vertical-align:middle;text-overflow:ellipsis;font-size:.75rem}.skeleton-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;margin:0 auto!important;position:relative;overflow:hidden;border-radius:.625rem}.loading-placeholder[_ngcontent-%COMP%]   .skeleton-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%;background:#e0e0e0;margin:0 auto;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}.loading-placeholder[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]{width:3.75rem;height:.75rem;background:#e0e0e0;margin:.5rem auto 0;border-radius:.25rem;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear}@keyframes _ngcontent-%COMP%_shimmer{0%{background-color:#e0e0e0}50%{background-color:#f5f5f5}to{background-color:#e0e0e0}}']})};function jr(o,t){if(o&1&&m(0,"i"),o&2){let e=l().$implicit;he(e.icon)}}function Ur(o,t){if(o&1){let e=h();i(0,"div",8)(1,"div",9)(2,"div",10),_(3,jr,1,3,"i",11),r()(),i(4,"div",2),s(5),b(6,"translate"),r(),i(7,"div",3),s(8),b(9,"translate"),r(),i(10,"div",4)(11,"button",12),u("click",function(){let a=f(e).$implicit,p=l();return C(p.actionExecute(a))}),s(12),b(13,"translate"),r()()()}if(o&2){let e=t.$implicit;c(3),d("ngIf",e.iconType==="primeng"),c(2),v(" ",M(6,4,e.titleKey)," "),c(3),v(" ",M(9,6,e.descKey)," "),c(4),v(" ",M(13,8,e.actionNameKey)," ")}}var kt=class o{constructor(t,e,n){this.router=t;this.translate=e;this.cdr=n}ngOnInit(){this.translate.onLangChange.subscribe(t=>{this.cdr.detectChanges()})}cards=[{icon:"pi pi-building",iconType:"primeng",titleKey:"joinTown.cards.join_business.title",descKey:"joinTown.cards.join_business.desc",actionNameKey:"joinTown.cards.join_business.action",action:"goToNav",url:"kyc"},{icon:"pi pi-check-circle",iconType:"primeng",titleKey:"joinTown.cards.volunteer.title",descKey:"joinTown.cards.volunteer.desc",actionNameKey:"joinTown.cards.volunteer.action",action:"goToExt"},{icon:"pi pi-megaphone",iconType:"primeng",titleKey:"joinTown.cards.announcements.title",descKey:"joinTown.cards.announcements.desc",actionNameKey:"joinTown.cards.announcements.action",action:"goToNav",url:"announcements"},{icon:"pi pi-users",iconType:"primeng",titleKey:"joinTown.cards.explore_services.title",descKey:"joinTown.cards.explore_services.desc",actionNameKey:"joinTown.cards.explore_services.action",action:"goToNav",url:"search-providers"}];actionExecute(t){t.action==="goToNav"&&this.router.navigate(["customers",t.url])}gotoKyc(){this.router.navigate(["customers","kyc"])}static \u0275fac=function(e){return new(e||o)(P(T),P(de),P(se))};static \u0275cmp=w({type:o,selectors:[["join-town"]],decls:15,vars:10,consts:[[1,"home-banner"],[1,"banner-content"],[1,"title"],[1,"desc"],[1,"action"],["mat-flat-button","",3,"click"],[1,"main-content-grid"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"icon-wrap"],[1,"icon"],[3,"class",4,"ngIf"],[1,"button-for-action",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),s(3),b(4,"translate"),r(),i(5,"div",3)(6,"p"),s(7),b(8,"translate"),r()(),i(9,"div",4)(10,"button",5),u("click",function(){return n.gotoKyc()}),s(11),b(12,"translate"),r()()()(),i(13,"div",6),_(14,Ur,14,10,"div",7),r()),e&2&&(c(3),g(M(4,4,"joinTown.banner_title")),c(4),g(M(8,6,"joinTown.banner_desc")),c(4),g(M(12,8,"joinTown.join_as_business")),c(3),d("ngForOf",n.cards))},dependencies:[D,k,bn,A],styles:[".home-banner[_ngcontent-%COMP%]{min-height:14rem;height:auto;background-repeat:no-repeat;background-color:#f2cb57;display:flex;justify-content:center;align-items:center;border-radius:0 0 1.5rem 1.5rem;padding:1.5rem 0}.home-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{text-align:center;line-height:2}.home-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.9rem;color:#5d157c;font-weight:600;font-family:Roboto;word-wrap:break-word;overflow-wrap:break-word;white-space:normal;line-height:1.4;padding:0 1rem}.home-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{color:#171a1f;font-size:1rem;word-wrap:break-word;overflow-wrap:break-word;white-space:normal;line-height:1.5;padding:0 1rem}.home-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#5d157c}.main-content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;row-gap:1.5rem;column-gap:1rem;padding:1rem 1rem 7rem;text-align:center;background-color:#ececec;align-items:stretch}.main-content-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;box-shadow:0 0 1px #171a1f12,0 0 2px #171a1f1f;border-radius:12px;padding:1.5rem 1rem;min-height:fit-content;height:100%;overflow:visible;align-self:stretch}.main-content-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{text-align:center;padding-top:0;margin-bottom:.5rem;flex-shrink:0}.main-content-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:4rem;height:4rem;border-radius:50%;background:#324477;display:flex;justify-content:center;align-items:center;color:#fff;font-size:2rem;margin:0 auto}.main-content-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.main-content-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.125rem;word-wrap:break-word;overflow-wrap:break-word;white-space:normal;line-height:1.5;min-height:2.8em;margin-bottom:.75rem;margin-top:0;padding-bottom:.25rem;overflow:visible;flex-shrink:0}.main-content-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:.875rem;color:#8c8d8b;margin-bottom:1rem;word-wrap:break-word;overflow-wrap:break-word;white-space:normal;line-height:1.6;overflow:visible;min-height:4em;padding-bottom:.5rem;flex:1}.main-content-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{margin-top:auto;padding-top:.5rem;flex-shrink:0}.main-content-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .button-for-action[_ngcontent-%COMP%]{border-radius:.5rem;background-color:#5d157c;color:#fff;padding:.75rem .625rem;font-size:.875rem;min-height:3rem;height:auto;white-space:normal;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;width:100%;overflow:visible;display:flex;align-items:center;justify-content:center;text-align:center}"]})};function Rr(o,t){o&1&&(i(0,"div",4),m(1,"div",5),i(2,"p"),s(3),b(4,"translate"),r()()),o&2&&(c(3),g(M(4,1,"profile.loading")))}function Vr(o,t){if(o&1){let e=h();i(0,"div",6)(1,"div",7),m(2,"i",8),r(),i(3,"p",9),s(4),r(),i(5,"button",10),u("click",function(){f(e);let a=l();return C(a.retryFetchUserInfo())}),m(6,"i",11),s(7," Retry "),r()()}if(o&2){let e=l();c(4),g(e.error)}}function Lr(o,t){o&1&&m(0,"i",45)}function Nr(o,t){o&1&&m(0,"i",46)}function Br(o,t){o&1&&(i(0,"span"),s(1),b(2,"translate"),r()),o&2&&(c(),g(M(2,1,"profile.edit")))}function Gr(o,t){o&1&&(i(0,"span"),s(1),b(2,"translate"),r()),o&2&&(c(),g(M(2,1,"profile.editing_address")))}function $r(o,t){o&1&&m(0,"br")}function qr(o,t){if(o&1&&(i(0,"span"),s(1),_(2,$r,1,0,"br",3),s(3),r()),o&2){let e=l(2);c(),v(" ",e.profile.address.street,""),c(),d("ngIf",e.profile.address.city),c(),v(" ",e.profile.address.city," ")}}function Yr(o,t){o&1&&(i(0,"span",47),s(1),b(2,"translate"),r()),o&2&&(c(),v(" ",M(2,1,"profile.select_address")," "))}function Hr(o,t){if(o&1){let e=h();i(0,"div",48),u("click",function(){let a=f(e).$implicit,p=l(2);return C(p.onCommunityClick(a))}),i(1,"div",49),m(2,"i",50),r(),i(3,"div",51)(4,"div",52),s(5),r(),i(6,"div",53),m(7,"i",54),s(8),b(9,"translate"),r()(),m(10,"i",42),r()}if(o&2){let e=t.$implicit;c(),Z("background-color",e.color),c(4),g(e.name),c(3),ie(" ",e.orders," ",M(9,5,"profile.orders")," ")}}function Kr(o,t){if(o&1){let e=h();i(0,"div",55)(1,"div",56),m(2,"i",57),r(),i(3,"div",58)(4,"div",59),s(5),r(),i(6,"div",60),s(7),r()(),i(8,"button",61),u("click",function(){f(e);let a=l(2);return C(a.onEditInterest())}),m(9,"i",45),s(10),b(11,"translate"),r()()}if(o&2){let e=t.$implicit;c(5),g(e.label),c(2),g(e.value),c(3),v(" ",M(11,3,"profile.edit")," ")}}function Jr(o,t){if(o&1){let e=h();i(0,"div")(1,"div",12)(2,"button",13),u("click",function(){f(e);let a=l();return C(a.onNavigateBack())}),m(3,"i",14),r(),i(4,"div",15)(5,"span"),s(6),r()(),i(7,"h2",16),s(8),r()(),i(9,"div",17)(10,"h3",18),s(11),b(12,"translate"),r(),i(13,"div",19)(14,"div",20),m(15,"i",21),r(),i(16,"div",22)(17,"div",23),s(18),b(19,"translate"),r(),i(20,"div",24),s(21),r()()(),i(22,"div",19)(23,"div",20),m(24,"i",25),r(),i(25,"div",22)(26,"div",23),s(27),b(28,"translate"),r(),i(29,"div",24),s(30),r()()(),i(31,"div",26)(32,"div",20),m(33,"i",27),r(),i(34,"div",22)(35,"div",28)(36,"div",23),s(37),b(38,"translate"),r(),i(39,"button",29),u("click",function(){f(e);let a=l();return C(a.onEditAddress())}),_(40,Lr,1,0,"i",30)(41,Nr,1,0,"i",31)(42,Br,3,3,"span",3)(43,Gr,3,3,"span",3),r()(),i(44,"div",32),_(45,qr,4,3,"span",3)(46,Yr,3,3,"span",33),r()()()(),i(47,"div",17)(48,"h3",18),s(49),b(50,"translate"),r(),i(51,"div",34),_(52,Hr,11,7,"div",35),r()(),i(53,"div",17)(54,"h3",18),s(55),b(56,"translate"),r(),i(57,"div",36),_(58,Kr,12,5,"div",37),r()(),i(59,"div",38)(60,"button",39),u("click",function(){f(e);let a=l();return C(a.onGrievanceRegistration())}),i(61,"div",40),m(62,"i",41),r(),i(63,"span"),s(64),b(65,"translate"),r(),m(66,"i",42),r(),i(67,"button",43),u("click",function(){f(e);let a=l();return C(a.onLogout())}),i(68,"div",40),m(69,"i",44),r(),i(70,"span"),s(71),b(72,"translate"),r(),m(73,"i",42),r()()()}if(o&2){let e=l();c(6),g(e.profile.initials),c(2),g(e.profile.name),c(3),g(M(12,21,"profile.contact_details")),c(7),g(M(19,23,"profile.phone_number")),c(3),g(e.profile.phone),c(6),g(M(28,25,"profile.email_address")),c(3),g(e.profile.email),c(7),g(M(38,27,"profile.residential_address")),c(2),d("disabled",e.isEditingAddress),c(),d("ngIf",!e.isEditingAddress),c(),d("ngIf",e.isEditingAddress),c(),d("ngIf",!e.isEditingAddress),c(),d("ngIf",e.isEditingAddress),c(2),d("ngIf",e.profile.address.street||e.profile.address.city),c(),d("ngIf",!e.profile.address.street&&!e.profile.address.city),c(3),g(M(50,29,"profile.communities")),c(3),d("ngForOf",e.communities),c(3),g(M(56,31,"profile.my_interests")),c(3),d("ngForOf",e.interests),c(6),g(M(65,33,"profile.grievance_registration")),c(7),g(M(72,35,"profile.logout"))}}var It=class o{constructor(t,e,n,a,p,O,x,E,Ce,Ye){this.router=t;this.location=e;this.authService=n;this.authBridge=a;this.toast=p;this.translate=O;this.cdr=x;this.locationBridge=E;this.customerService=Ce;this.backHandleService=Ye}loading=!1;error=null;userInfo=null;addresses=[];profile={initials:"JD",name:"John Doe",phone:"+1 234 567 8900",email:"john.doe@example.com",address:{street:"123 Community Lane,",city:"Cityville, CA 90210"}};communities=[{id:"1",name:"Volunteer Hub Network",icon:"M12 2L2 7v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7l-10-5z",orders:12,color:"#5D157C"},{id:"2",name:"Local Artisans Market",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",orders:5,color:"#5D157C"}];interests=[{type:"primary",label:"Primary Interest",value:"Freelancer"},{type:"secondary",label:"Secondary Interest",value:"Local Events Organizer"}];isEditingAddress=!1;selectedAddressId=null;ngOnInit(){this.backHandleService.backAction.filter(e=>e.backNavigationUrl==="/providers/dashboard").length>0&&(this.backHandleService.backAction=this.backHandleService.backAction.filter(e=>e.backNavigationUrl!=="/providers/dashboard")),this.registerBackAction(),this.fetchUserInfo(),this.translate.onLangChange.subscribe(()=>{this.cdr.detectChanges()})}ngOnDestroy(){setTimeout(()=>{this.cleanupBackAction()},100)}registerBackAction(){let t=this.router.url;[t,t.split("?")[0],"/customers/user-profile"].forEach((n,a)=>{let p={id:`user-profile-back-action-${a}`,actionType:"navigate",backNavigationUrl:"/customers",callback:()=>{},value:"",forPageUrl:n};this.backHandleService.backAction=this.backHandleService.backAction.filter(O=>!O.id.startsWith("user-profile-back-action-")||O.forPageUrl!==n),this.backHandleService.backAction.push(p)})}cleanupBackAction(){let t=this.router.url,e=this.backHandleService.backAction.length;this.backHandleService.backAction=this.backHandleService.backAction.filter(a=>!a.id.startsWith("user-profile-back-action-"));let n=this.backHandleService.backAction.length}fetchUserInfo(){this.loading=!0,this.error=null;let t=this.authService.getUserId();if(!t){this.error="User ID not found. Please login again.",this.loading=!1,this.toast.error("Error","User ID not found. Please login again.");return}this.authService.changeProfileApi(t).subscribe({next:e=>{e&&e.user?(this.userInfo=e.user,this.lastUserResponse=e,this.updateProfileFromUserInfo()):e&&e.user_id?(this.userInfo=e,this.updateProfileFromUserInfo()):(this.error="Invalid user data received.",this.toast.error("Error","Invalid user data received.")),this.loading=!1},error:e=>{console.error("Error fetching user info:",e),this.error="Failed to load user information.",this.loading=!1,this.toast.error("Error","Failed to load user information. Please try again.")}})}updateProfileFromUserInfo(){if(!this.userInfo)return;this.profile.name=this.userInfo.name||"Unknown User",this.profile.initials=this.getInitials(this.userInfo.name);let t=this.lastUserResponse;if(t?.user){this.profile.phone=t.user.mobile_number||this.profile.phone,this.profile.email=t.user.email||this.profile.email;let e=Array.isArray(t.addresses)?t.addresses:[];if(e.length){this.addresses=e.map(a=>({id:a.id,formatted_address:a.formatted_address||a.address_line1}));let n=this.addresses.length>1?this.addresses[1]:this.addresses[0];n?.formatted_address&&(this.profile.address.street=n.formatted_address,this.profile.address.city="")}}}getInitials(t){return t?t.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):"U"}onViewFullProfile(){}onEditAddress(){return ne(this,null,function*(){if(!this.isEditingAddress)try{this.isEditingAddress=!0;let t=yield this.locationBridge.requestAddressSelection("select");t&&(t.formattedAddress?(this.profile.address.street=t.formattedAddress,this.profile.address.city=""):t.line1&&(this.profile.address.street=t.line1,this.profile.address.city=t.city||t.line2||""),yield this.saveAddress(t),this.fetchUserInfo(),this.toast.success(this.translate.instant("profile.address_updated_title"),this.translate.instant("profile.address_updated_message")),this.cdr.detectChanges())}catch(t){console.error("[UserProfileComponent] Error editing address:",t),this.toast.error(this.translate.instant("profile.address_update_error_title"),this.translate.instant("profile.address_update_error_message"))}finally{this.isEditingAddress=!1}})}saveAddress(t){return ne(this,null,function*(){if(!this.authService.getUserId())throw new Error("User ID not found");try{let n=this.addresses.length>0?this.addresses[0]:null,a=null,p=null;if(t.latlong){let[E,Ce]=t.latlong.split(",").map(Number);!isNaN(E)&&!isNaN(Ce)&&(a=E,p=Ce)}let O=this.profile.phone?.replace(/\D/g,"")||"",x={formatted_address:t.formattedAddress||t.line1||"",address_line1:t.line1||"",address_line2:t.line2||"",postal_code:t.pincode||"",city:t.city||"",region:t.state||"",latitude:a,longitude:p,mobile:O,label:t.address_tag?.toLowerCase()||"home",is_active:!0};if((t.formattedAddress||t.city)&&(x.google_address={city:t.city||"",timezone:null,subregion:t.state||"",formatted_address:t.formattedAddress||t.line1||"",isoCountryCode:"IN",country:"India",district:t.line2||"",name:t.line1||"",region:t.state||"",streetNumber:null,postalCode:t.pincode||"",street:null}),n&&n.id){let E=yield Rt(this.customerService.updateUserAddress(n.id,x))}else{let E=yield Rt(this.customerService.createUserAddress(x))}}catch(n){console.error("[UserProfileComponent] Error saving address:",n);let a=n?.error?.message||n?.message||"Failed to save address";throw new Error(a)}})}onEditInterest(){}onCommunityClick(t){}onGrievanceRegistration(){this.router.navigate(["/customers/grievance"])}onLogout(){return ne(this,null,function*(){try{yield this.authBridge.logout(),this.authService.clearSession(),this.router.navigate(["/web-login"],{replaceUrl:!0})}catch(t){console.error("[UserProfileComponent] Logout error:",t),this.authService.clearSession(),this.router.navigate(["/web-login"],{replaceUrl:!0})}})}onNavigateBack(){let t=this.router.url;this.backHandleService.backAction.length>0?this.backHandleService.backActionTrigger(t):this.location.back()}onNotifications(){}onTabClick(t){}retryFetchUserInfo(){this.fetchUserInfo()}static \u0275fac=function(e){return new(e||o)(P(T),P(tn),P(I),P(Cn),P(me),P(de),P(se),P(Ne),P(te),P(Se))};static \u0275cmp=w({type:o,selectors:[["user-profile"]],decls:4,vars:3,consts:[[1,"profile-container"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"],[1,"error-icon"],[1,"pi","pi-exclamation-triangle"],[1,"error-message"],[1,"retry-button",3,"click"],[1,"pi","pi-refresh","mr-2"],[1,"profile-section"],[1,"back-button",3,"click"],[1,"pi","pi-arrow-left","text-xl"],[1,"profile-avatar"],[1,"profile-name"],[1,"section"],[1,"section-title"],[1,"contact-item"],[1,"contact-icon"],[1,"pi","pi-phone","text-base"],[1,"contact-info"],[1,"contact-label"],[1,"contact-value"],[1,"pi","pi-envelope","text-base"],[1,"contact-item","address-item"],[1,"pi","pi-map-marker","text-base"],[1,"contact-header"],[1,"edit-button",3,"click","disabled"],["class","pi pi-pencil mr-1 text-sm",4,"ngIf"],["class","pi pi-spin pi-spinner mr-1 text-sm",4,"ngIf"],[1,"contact-value","address-value"],["class","text-gray-400",4,"ngIf"],[1,"community-list"],["class","community-item",3,"click",4,"ngFor","ngForOf"],[1,"interests-list"],["class","interest-item",4,"ngFor","ngForOf"],[1,"menu-section"],[1,"menu-item",3,"click"],[1,"menu-icon"],[1,"pi","pi-exclamation-circle","text-base"],[1,"pi","pi-chevron-right","text-sm","chevron"],[1,"menu-item","logout",3,"click"],[1,"pi","pi-sign-out","text-base"],[1,"pi","pi-pencil","mr-1","text-sm"],[1,"pi","pi-spin","pi-spinner","mr-1","text-sm"],[1,"text-gray-400"],[1,"community-item",3,"click"],[1,"community-icon"],[1,"pi","pi-users","text-base"],[1,"community-info"],[1,"community-name"],[1,"community-orders"],[1,"pi","pi-shopping-cart","mr-1","text-xs"],[1,"interest-item"],[1,"interest-icon"],[1,"pi","pi-user","text-base"],[1,"interest-info"],[1,"interest-label"],[1,"interest-value"],[1,"edit-button",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0),_(1,Rr,5,3,"div",1)(2,Vr,8,1,"div",2)(3,Jr,74,37,"div",3),r()),e&2&&(c(),d("ngIf",n.loading),c(),d("ngIf",n.error&&!n.loading),c(),d("ngIf",!n.loading&&!n.error))},dependencies:[D,k,A],styles:['.profile-container[_ngcontent-%COMP%]{width:100%;margin:0;background-color:#f8fafc;min-height:100vh;position:relative;overflow-x:hidden}.header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e3e0e4;position:sticky;top:0;z-index:100}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 0;height:44px;margin:1rem 0}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{background:none;border:none;color:#374151;cursor:pointer;display:flex;align-items:center;padding:4px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{color:#6366f1}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin:0;flex:1;text-align:center}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .notification-button[_ngcontent-%COMP%]{background:none;border:none;color:#374151;cursor:pointer;display:flex;align-items:center;padding:4px;margin-right:8px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .notification-button[_ngcontent-%COMP%]:hover{color:#6366f1}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .profile-avatar-mini[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#5d157c;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:14px}.profile-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5d157c08,#5d157c14);padding:48px 24px 40px;text-align:center;position:relative;overflow:hidden}.profile-section[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;background:none;border:none;color:#374151;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:8px;min-width:40px;min-height:40px;border-radius:8px;transition:all .2s ease;z-index:10}.profile-section[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{color:#5d157c;background-color:#5d157c14}.profile-section[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.profile-section[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.profile-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:300px;height:300px;background:radial-gradient(circle,rgba(93,21,124,.08) 0%,transparent 70%);border-radius:50%}.profile-section[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-30%;left:-15%;width:250px;height:250px;background:radial-gradient(circle,rgba(93,21,124,.05) 0%,transparent 70%);border-radius:50%}.profile-section[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:50%;background:linear-gradient(135deg,#5d157c,#3c0e50);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:36px;margin:0 auto 20px;box-shadow:0 8px 24px #5d157c40;position:relative;z-index:1;border:4px solid white}.profile-section[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#0f172a;margin:0;position:relative;z-index:1;letter-spacing:-.5px}.profile-section[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-bottom:16px}.profile-section[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-type[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;font-weight:500;margin-bottom:4px}.profile-section[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-status[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;font-weight:500;padding:2px 8px;border-radius:12px;background:#f3f4f6;display:inline-block}.profile-section[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-status.active[_ngcontent-%COMP%]{color:#059669;background:#d1fae5}.profile-section[_ngcontent-%COMP%]   .view-profile-button[_ngcontent-%COMP%]{background-color:#5d157c;color:#fff;border:none;border-radius:8px;padding:12px 24px;font-size:16px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;margin:0 auto;transition:background-color .2s}.profile-section[_ngcontent-%COMP%]   .view-profile-button[_ngcontent-%COMP%]:hover{background-color:#4f46e5}.profile-section[_ngcontent-%COMP%]   .view-profile-button[_ngcontent-%COMP%]:active{background-color:#4338ca}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #e5e7eb;border-top:4px solid #5D157C;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:16px;font-weight:500}.error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;color:#dc2626;margin-bottom:16px}.error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:16px;font-weight:500;margin-bottom:16px}.error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{padding:12px 24px;background:#5d157c;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:14px;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center}.error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#4a0f63,#6a1fd9);transform:translateY(-1px);box-shadow:0 4px 12px #5d157c4d}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.section[_ngcontent-%COMP%]{background-color:#fff;margin-bottom:0;border-radius:0;border-bottom:1px solid #e3e0e4;border-top:1px solid #e3e0e4}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0;padding:16px 16px 0}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:16px;border-bottom:1px solid #e3e0e4;position:relative}.contact-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.contact-item.address-item[_ngcontent-%COMP%]{align-items:flex-start}.contact-item[_ngcontent-%COMP%]   .contact-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background-color:#f8fafc;display:flex;align-items:center;justify-content:center;color:#6b7280;margin-right:12px;flex-shrink:0}.contact-item[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{flex:1;min-width:0}.contact-item[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}.contact-item[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-label[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;margin-bottom:4px;font-weight:500}.contact-item[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-value[_ngcontent-%COMP%]{font-size:14px;color:#111827;line-height:1.4}.contact-item[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-value.address-value[_ngcontent-%COMP%]{text-align:justify;padding-right:4px}.contact-item[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{background:none;border:none;color:#5d157c;cursor:pointer;display:flex;align-items:center;gap:4px;font-size:13px;font-weight:600;padding:4px 8px;border-radius:4px;white-space:nowrap;flex-shrink:0;transition:all .2s ease}.contact-item[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#5d157c14}.contact-item[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active{transform:scale(.96)}.contact-item[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.community-list[_ngcontent-%COMP%]   .community-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;border-bottom:1px solid #e3e0e4;cursor:pointer;transition:background-color .2s}.community-list[_ngcontent-%COMP%]   .community-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.community-list[_ngcontent-%COMP%]   .community-item[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.community-list[_ngcontent-%COMP%]   .community-item[_ngcontent-%COMP%]   .community-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#fff;margin-right:12px;flex-shrink:0}.community-list[_ngcontent-%COMP%]   .community-item[_ngcontent-%COMP%]   .community-info[_ngcontent-%COMP%]{flex:1}.community-list[_ngcontent-%COMP%]   .community-item[_ngcontent-%COMP%]   .community-info[_ngcontent-%COMP%]   .community-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#111827;margin-bottom:4px}.community-list[_ngcontent-%COMP%]   .community-item[_ngcontent-%COMP%]   .community-info[_ngcontent-%COMP%]   .community-orders[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;display:flex;align-items:center;gap:4px}.community-list[_ngcontent-%COMP%]   .community-item[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{color:#9ca3af}.interests-list[_ngcontent-%COMP%]   .interest-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;border-bottom:1px solid #e3e0e4}.interests-list[_ngcontent-%COMP%]   .interest-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.interests-list[_ngcontent-%COMP%]   .interest-item[_ngcontent-%COMP%]   .interest-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background-color:#f8fafc;display:flex;align-items:center;justify-content:center;color:#6b7280;margin-right:12px;flex-shrink:0}.interests-list[_ngcontent-%COMP%]   .interest-item[_ngcontent-%COMP%]   .interest-info[_ngcontent-%COMP%]{flex:1}.interests-list[_ngcontent-%COMP%]   .interest-item[_ngcontent-%COMP%]   .interest-info[_ngcontent-%COMP%]   .interest-label[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;margin-bottom:4px;font-weight:500}.interests-list[_ngcontent-%COMP%]   .interest-item[_ngcontent-%COMP%]   .interest-info[_ngcontent-%COMP%]   .interest-value[_ngcontent-%COMP%]{font-size:14px;color:#111827;font-weight:500}.interests-list[_ngcontent-%COMP%]   .interest-item[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{background:none;border:none;color:#5d157c;cursor:pointer;display:flex;align-items:center;gap:4px;font-size:14px;font-weight:500;padding:4px 8px;border-radius:4px}.interests-list[_ngcontent-%COMP%]   .interest-item[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.menu-section[_ngcontent-%COMP%]{background-color:#fff;border-radius:0;border:1px solid #e3e0e4;border-left:none;border-right:none;margin-bottom:0}.menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;border:none;background:none;cursor:pointer;width:100%;text-align:left;border-bottom:1px solid #e3e0e4;transition:background-color .2s}.menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.menu-section[_ngcontent-%COMP%]   .menu-item.logout[_ngcontent-%COMP%], .menu-section[_ngcontent-%COMP%]   .menu-item.logout[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{color:#dc2626}.menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background-color:#f8fafc;display:flex;align-items:center;justify-content:center;color:#6b7280;margin-right:12px;flex-shrink:0}.menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:500;color:#111827}.menu-section[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{color:#9ca3af}.bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:50%;transform:translate(-50%);width:100%;max-width:100%;background-color:#fff;border-top:1px solid #e3e0e4;display:flex;justify-content:space-around;padding:8px 0 calc(8px + env(safe-area-inset-bottom));z-index:100}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:4px;padding:4px 8px;border-radius:8px;transition:all .2s;position:relative;min-width:44px}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{color:#5d157c}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;font-weight:500;color:#6b7280}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5d157c}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:8px;background-color:#dc2626;color:#fff;border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600}.footer[_ngcontent-%COMP%]{background-color:#fff;padding:16px;text-align:center;margin-bottom:80px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;font-size:12px;color:#6b7280}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .visily-text[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600}@media (max-height: 667px){.header[_ngcontent-%COMP%]{padding-top:env(safe-area-inset-top)}}@media (prefers-color-scheme: dark){.profile-container[_ngcontent-%COMP%]{background-color:#fff;color:#000}.header[_ngcontent-%COMP%]{background-color:#fff;border-bottom-color:#e3e0e4}.section[_ngcontent-%COMP%]{background-color:#fff;border-color:#e3e0e4}.profile-section[_ngcontent-%COMP%]{background-color:#fff;border-bottom-color:#e3e0e4}.menu-section[_ngcontent-%COMP%]{background-color:#fff;border-color:#e3e0e4}.bottom-nav[_ngcontent-%COMP%]{background-color:#fff;border-top-color:#e3e0e4}.footer[_ngcontent-%COMP%]{background-color:#fff}.contact-item[_ngcontent-%COMP%], .community-item[_ngcontent-%COMP%], .interest-item[_ngcontent-%COMP%], .menu-item[_ngcontent-%COMP%]{border-bottom-color:#e3e0e4}.contact-icon[_ngcontent-%COMP%], .interest-icon[_ngcontent-%COMP%], .menu-icon[_ngcontent-%COMP%]{background-color:#fff}.section-title[_ngcontent-%COMP%], .profile-name[_ngcontent-%COMP%], .header-title[_ngcontent-%COMP%], .contact-value[_ngcontent-%COMP%], .community-name[_ngcontent-%COMP%], .interest-value[_ngcontent-%COMP%], .menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f8fafc}.contact-label[_ngcontent-%COMP%], .community-orders[_ngcontent-%COMP%]{color:#94a3b8}}']})};function Wr(o,t){if(o&1&&(i(0,"div",28),m(1,"i",22),r()),o&2){let e=l().$implicit;c(),d("ngClass",e.isExpanded?"pi-chevron-up":"pi-chevron-down")}}function Qr(o,t){if(o&1){let e=h();i(0,"div",31),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.onSubIssueClick(a))}),i(1,"div",32),m(2,"i",22),r(),i(3,"span",33),s(4),r(),i(5,"div",17),m(6,"i",18),r()()}if(o&2){let e=t.$implicit;c(2),d("ngClass","pi-"+e.icon+" text-sm text-[#8C8D8B]"),c(2),g(e.title)}}function Xr(o,t){if(o&1&&(i(0,"div",29),_(1,Qr,7,2,"div",30),r()),o&2){let e=l().$implicit;c(),d("ngForOf",e.subItems)}}function Zr(o,t){if(o&1){let e=h();i(0,"div",19)(1,"div",20),u("click",function(){let a=f(e).$implicit,p=l();return C(p.onIssueTypeClick(a))}),i(2,"div",21),m(3,"i",22),r(),i(4,"div",23)(5,"h3",24),s(6),r(),i(7,"p",25),s(8),r()(),_(9,Wr,2,1,"div",26),r(),_(10,Xr,2,1,"div",27),r()}if(o&2){let e=t.$implicit;F("expanded",e.isExpanded),c(3),d("ngClass","pi-"+e.icon+" text-xl text-[#5D157C]"),c(3),g(e.title),c(2),g(e.description),c(),d("ngIf",e.type==="expandable"),c(),d("ngIf",e.isExpanded&&e.subItems)}}var Et=class o{constructor(t,e,n,a,p){this.router=t;this.translate=e;this.cdr=n;this.fb=a;this.backHandleService=p;this.form=this.fb.group({detailed_description:[""]})}form;issueTypes=[{id:"provider-related",title:"Provider Related",description:"Concerns about services from a specific community provider.",icon:"building",type:"expandable",isExpanded:!1,subItems:[{id:"incorrect-info",title:"Incorrect Provider Information",icon:"info"},{id:"unresponsive-provider",title:"Unresponsive Provider",icon:"volume-off"},{id:"missed-appointment",title:"Missed Appointment or Delay",icon:"calendar-x"},{id:"unprofessional-behavior",title:"Unprofessional Behavior",icon:"user-minus"},{id:"poor-service",title:"Incomplete or Poor Quality Service",icon:"thumbs-down"},{id:"overcharging",title:"Overcharging or Unexpected Fees",icon:"credit-card"},{id:"safety-concern",title:"Safety or Trust Concern",icon:"shield-alert"},{id:"remove-provider",title:"Request to Remove or Block Provider",icon:"user-x"},{id:"other-provider-issues",title:"Other Provider Issues",icon:"dots-horizontal"}]},{id:"app-related",title:"App Related",description:"Issues concerning application functionality or user experience.",icon:"desktop",type:"clickable",isExpanded:!1,subItems:[]}];ngOnInit(){this.translate.onLangChange.subscribe(t=>{this.cdr.detectChanges()}),this.registerBackAction()}ngOnDestroy(){this.cleanupBackAction()}registerBackAction(){let t=this.router.url;[t,t.split("?")[0],"/customers/grievance"].forEach((n,a)=>{let p={id:`grievance-back-action-${a}-${Date.now()}`,actionType:"navigate",backNavigationUrl:"/customers/user-profile",callback:()=>{},value:"",forPageUrl:n};this.backHandleService.backAction=this.backHandleService.backAction.filter(O=>!O.id.startsWith("grievance-back-action-")||O.forPageUrl!==n),this.backHandleService.backAction.push(p)})}cleanupBackAction(){this.backHandleService.backAction=this.backHandleService.backAction.filter(t=>!t.id.startsWith("grievance-back-action-"))}onBackClick(){this.router.navigate(["/customers/user-profile"])}onIssueTypeClick(t){t.type==="expandable"?t.isExpanded=!t.isExpanded:this.router.navigate(["/customers/support"],{state:{issueType:"app_related"}}),this.form.patchValue({detailed_description:t.title})}onSubIssueClick(t){this.router.navigate(["/customers/support"],{state:{issueType:"provider-related",subIssueId:t.id,subIssueTitle:t.title}}),this.form.patchValue({detailed_description:t.title})}onFaqSupportClick(){}static \u0275fac=function(e){return new(e||o)(P(T),P(de),P(se),P(ye),P(Se))};static \u0275cmp=w({type:o,selectors:[["grievance"]],decls:28,vars:7,consts:[[1,"select-issue-container"],[1,"header"],[1,"header-content"],[1,"back-button",3,"click"],[1,"pi","pi-chevron-left","text-xl","text-gray-700"],[1,"header-title"],[1,"content"],[1,"issue-types"],["class","issue-type-card",3,"expanded",4,"ngFor","ngForOf"],[1,"help-section"],[1,"help-card"],[1,"help-content"],[1,"help-title"],[1,"help-description"],[1,"faq-button",3,"click"],[1,"faq-icon"],[1,"pi","pi-headphones","text-base","text-[#5D157C]"],[1,"chevron"],[1,"pi","pi-chevron-right","text-sm","text-gray-400"],[1,"issue-type-card"],[1,"issue-type-item",3,"click"],[1,"issue-icon"],[1,"pi",3,"ngClass"],[1,"issue-content"],[1,"issue-title"],[1,"issue-description"],["class","expand-icon",4,"ngIf"],["class","sub-items",4,"ngIf"],[1,"expand-icon"],[1,"sub-items"],["class","sub-item",3,"click",4,"ngFor","ngForOf"],[1,"sub-item",3,"click"],[1,"sub-icon"],[1,"sub-title"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u("click",function(){return n.onBackClick()}),m(4,"i",4),r(),i(5,"h1",5),s(6),b(7,"translate"),r()()(),i(8,"div",6)(9,"div",7),_(10,Zr,11,7,"div",8),r(),i(11,"div",9)(12,"div",10)(13,"div",11)(14,"h3",12),s(15,"Ready to help?"),r(),i(16,"p",13),s(17," Choose an option below to get started."),m(18,"br"),s(19," We're here to assist you. "),r()(),i(20,"button",14),u("click",function(){return n.onFaqSupportClick()}),i(21,"div",15),m(22,"i",16),r(),i(23,"span"),s(24),b(25,"translate"),r(),i(26,"div",17),m(27,"i",18),r()()()()()()),e&2&&(c(6),g(M(7,3,"grievance.issue_type")),c(4),d("ngForOf",n.issueTypes),c(14),g(M(25,5,"grievance.faq")))},dependencies:[Y,D,k,A],styles:[".select-issue-container[_ngcontent-%COMP%]{width:100%;margin:0;min-height:100vh;position:relative;overflow-x:hidden}.header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e3e0e4;position:sticky;top:0;z-index:100}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 16px;font-size:14px;font-weight:600;color:#111827}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:15px;font-weight:600;letter-spacing:-.3px}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .signal-strength[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:2px}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .signal-strength[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:3px;background-color:#fff;border-radius:1px}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .signal-strength[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(1){height:4px}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .signal-strength[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(2){height:6px}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .signal-strength[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(3){height:8px}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .signal-strength[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(4){height:10px}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .wifi-icon[_ngcontent-%COMP%]{color:#111827;display:flex;align-items:center;margin:0 2px}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .battery-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .battery-icon[_ngcontent-%COMP%]   .battery-body[_ngcontent-%COMP%]{width:22px;height:11px;border:1px solid #e3e0e4;border-radius:2px;background-color:#fff;position:relative}.header[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .battery-icon[_ngcontent-%COMP%]   .battery-tip[_ngcontent-%COMP%]{width:1px;height:6px;background-color:#fff;border-radius:0 1px 1px 0;margin-left:1px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px 16px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{background:none;border:none;color:#374151;cursor:pointer;display:flex;align-items:center;padding:4px;margin-right:12px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{color:#5d157c}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin:0}.content[_ngcontent-%COMP%]{padding:16px 16px 100px}.issue-types[_ngcontent-%COMP%]{margin-bottom:24px}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:0;border-bottom:1px solid #e2e8f0;margin-bottom:0;overflow:hidden;transition:all .3s ease}.issue-types[_ngcontent-%COMP%]   .issue-type-card.expanded[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .issue-type-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:16px;cursor:pointer;transition:background-color .2s}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .issue-type-item[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .issue-type-item[_ngcontent-%COMP%]   .issue-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background-color:#ece5f0;display:flex;align-items:center;justify-content:center;color:#5d157c;margin-right:12px;flex-shrink:0}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .issue-type-item[_ngcontent-%COMP%]   .issue-content[_ngcontent-%COMP%]{flex:1}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .issue-type-item[_ngcontent-%COMP%]   .issue-content[_ngcontent-%COMP%]   .issue-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#111827;margin:0 0 4px}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .issue-type-item[_ngcontent-%COMP%]   .issue-content[_ngcontent-%COMP%]   .issue-description[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0;line-height:1.4}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .issue-type-item[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{color:#9ca3af;display:flex;align-items:center;margin-left:8px;transition:transform .3s ease}.issue-types[_ngcontent-%COMP%]   .issue-type-card.expanded[_ngcontent-%COMP%]   .issue-type-item[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .sub-items[_ngcontent-%COMP%]{border-top:1px solid #e3e0e4}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .sub-items[_ngcontent-%COMP%]   .sub-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;cursor:pointer;transition:background-color .2s;border-bottom:1px solid #e3e0e4}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .sub-items[_ngcontent-%COMP%]   .sub-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .sub-items[_ngcontent-%COMP%]   .sub-item[_ngcontent-%COMP%]:hover{background-color:#f1f5f9}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .sub-items[_ngcontent-%COMP%]   .sub-item[_ngcontent-%COMP%]   .sub-icon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;align-items:center;justify-content:center;color:#6b7280;margin-right:12px;flex-shrink:0}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .sub-items[_ngcontent-%COMP%]   .sub-item[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:500;color:#374151}.issue-types[_ngcontent-%COMP%]   .issue-type-card[_ngcontent-%COMP%]   .sub-items[_ngcontent-%COMP%]   .sub-item[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{color:#9ca3af;display:flex;align-items:center}.help-section[_ngcontent-%COMP%]   .help-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:0;border:1px solid #e3e0e4;overflow:hidden}.help-section[_ngcontent-%COMP%]   .help-card[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{padding:20px 16px;text-align:center}.help-section[_ngcontent-%COMP%]   .help-card[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#111827;margin:0 0 8px}.help-section[_ngcontent-%COMP%]   .help-card[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]   .help-description[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0;line-height:1.5}.help-section[_ngcontent-%COMP%]   .help-card[_ngcontent-%COMP%]   .faq-button[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:16px;background:none;border:none;border-top:1px solid #f1f5f9;cursor:pointer;transition:background-color .2s}.help-section[_ngcontent-%COMP%]   .help-card[_ngcontent-%COMP%]   .faq-button[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.help-section[_ngcontent-%COMP%]   .help-card[_ngcontent-%COMP%]   .faq-button[_ngcontent-%COMP%]   .faq-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#5d157c;margin-right:6px;flex-shrink:0}.help-section[_ngcontent-%COMP%]   .help-card[_ngcontent-%COMP%]   .faq-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:16px;font-weight:600;color:#5d157c;text-align:left}.help-section[_ngcontent-%COMP%]   .help-card[_ngcontent-%COMP%]   .faq-button[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{color:#9ca3af;display:flex;align-items:center}.sub-items[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})};var Tt=class o extends fn{constructor(e,n){let a=n.getSelectedProviderId(),p=o.getUrlObj(a);super(e,"provider_id",p,"items");this.authServ=n}list(){let e=this.authServ.getSelectedProviderId();return this.setUrl(o.getUrlObj(e)),super.list()}createOrUpdate(e,n){return n&&this.setUrl(o.getUrlObj(n)),super.createOrUpdate(e,n)}getProvider(e){return this.http.get(`${y.PROVIDER_INFO.PROVIDER_URL}/${e}`)}searchProviders(e,n=0,a=10){let p={skip:n,limit:a};return e&&e.trim()&&(p.search=e.trim()),this.setUrl(o.getUrlObj(0)),super.list(p)}searchProvidersWithTotal(e,n=0,a=10){let p={skip:n,limit:a};return e&&e.trim()&&(p.search=e.trim()),this.setUrl(o.getUrlObj(0)),super.listWithTotal(p)}static getUrlObj(e){let n=`${y.PROVIDER_INFO.PROVIDER_URL}`;return{create:y.PROVIDER_INFO.PROVIDER_REGISTER,update:`${y.PROVIDER_INFO.PROVIDER_UPDATE}/${e}`,list:n,delete:y.PROVIDER_INFO.PROVIDER_URL}}static \u0275fac=function(n){return new(n||o)(q(pe),q(I))};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})};var $e=class o{constructor(t,e){this.http=t;this.authService=e}createGrievance(t){let e=this.authService.getUserId(),n=$(G({},t),{created_by_user_id:e});return this.http.post(y.GRIEVANCE.CREATE,n)}getGrievances(t=1,e=10){let n=this.authService.getUserId(),a=`?page=${t}&limit=${e}&user_id=${n}`;return this.http.get(`${y.GRIEVANCE.LIST}${a}`)}getGrievanceById(t){let e=y.GRIEVANCE.GET.replace(":id",t.toString());return this.http.get(e)}updateGrievance(t,e){let n=y.GRIEVANCE.UPDATE.replace(":id",t.toString());return this.http.put(n,e)}deleteGrievance(t){let e=y.GRIEVANCE.DELETE.replace(":id",t.toString());return this.http.delete(e)}resolveGrievance(t,e){let n=this.authService.getUserId(),a=y.GRIEVANCE.UPDATE.replace(":id",t.toString()),p={status:"resolved",resolved_by_user_id:n,resolved_at:new Date().toISOString(),resolution_notes:e};return this.http.put(a,p)}getGrievancesByProvider(t,e=1,n=10){let a=`?provider_id=${t}&page=${e}&limit=${n}`;return this.http.get(`${y.GRIEVANCE.LIST}${a}`)}getGrievancesByOrder(t,e=1,n=10){let a=`?order_id=${t}&page=${e}&limit=${n}`;return this.http.get(`${y.GRIEVANCE.LIST}${a}`)}static \u0275fac=function(e){return new(e||o)(q(pe),q(I))};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})};function na(o,t){o&1&&(i(0,"div",11),m(1,"div",12),i(2,"p"),s(3),b(4,"translate"),r()()),o&2&&(c(3),g(M(4,1,"support.loading")))}function oa(o,t){if(o&1){let e=h();i(0,"div",13)(1,"p",14),s(2),r(),i(3,"button",15),u("click",function(){f(e);let a=l();return C(a.retryLoading())}),s(4),b(5,"translate"),r()()}if(o&2){let e=l();c(2),g(e.error),c(2),g(M(5,2,"support.retry"))}}function ia(o,t){if(o&1){let e=h();i(0,"div",29)(1,"div",30),m(2,"i"),i(3,"span",31),s(4),r(),i(5,"span",32),s(6),r(),i(7,"span",33),s(8),b(9,"date"),r()(),i(10,"button",34),b(11,"translate"),u("click",function(){let a=f(e).index,p=l(4);return C(p.removeAttachment(a))}),m(12,"i",35),r()()}if(o&2){let e=t.$implicit,n=l(4);c(2),he(n.isImageFile(e.file_url)?"pi pi-image":"pi pi-file"),c(2),g(n.getFileName(e.file_url)),c(2),g(n.getFileSize(e.file_url)),c(2),g(J(9,6,e.uploaded_at,"short")),c(2),oe("title",M(11,9,"support.remove_attachment"))}}function ra(o,t){if(o&1&&(i(0,"div",26)(1,"h4",27),s(2),b(3,"translate"),r(),_(4,ia,13,11,"div",28),r()),o&2){let e=l(3);c(2),g(M(3,2,"support.uploaded_files")),c(2),d("ngForOf",e.uploadedFiles)}}function aa(o,t){o&1&&(i(0,"span"),s(1),b(2,"translate"),r()),o&2&&(c(),g(M(2,1,"support.submit_report")))}function ca(o,t){o&1&&(i(0,"span"),s(1),b(2,"translate"),r()),o&2&&(c(),g(M(2,1,"support.submitting")))}function sa(o,t){if(o&1){let e=h();ge(0),i(1,"div",17)(2,"label",18),s(3),b(4,"translate"),r(),i(5,"div",19)(6,"textarea",20),b(7,"translate"),B("ngModelChange",function(a){f(e);let p=l(2);return N(p.description,a)||(p.description=a),C(a)}),u("input",function(a){f(e);let p=l(2);return C(p.updateCharacterCount(a))}),r(),i(8,"div",21),s(9),b(10,"translate"),r()()(),i(11,"div",17)(12,"label",18),s(13,"Related Issues"),r(),i(14,"p-dropdown",22),B("ngModelChange",function(a){f(e);let p=l(2);return N(p.selectedRelatedIssue,a)||(p.selectedRelatedIssue=a),C(a)}),r()(),i(15,"div",17)(16,"label",18),s(17),b(18,"translate"),r(),i(19,"file-upload",23),b(20,"translate"),u("uploadedUrls",function(a){f(e);let p=l(2);return C(p.onFilesUploaded(a))}),r(),_(21,ra,5,4,"div",24),r(),i(22,"button",25),u("click",function(){f(e);let a=l(2);return C(a.submitReport())}),_(23,aa,3,3,"span",10)(24,ca,3,3,"span",10),r(),ue()}if(o&2){let e=l(2);c(3),g(M(4,14,"support.detailed_description")),c(3),oe("placeholder",M(7,16,"support.detailed_description_ph")),L("ngModel",e.description),c(3),ie("",e.characterCount," / 500 ",M(10,18,"support.characters"),""),c(5),d("options",e.relatedIssuesOptions),L("ngModel",e.selectedRelatedIssue),c(3),g(M(18,20,"support.attachments")),c(2),oe("uploadTitle",M(20,22,"support.add_attachments")),d("enableMultiple",!0),c(2),d("ngIf",e.uploadedFiles.length>0),c(),d("disabled",!e.description.trim()||!e.selectedRelatedIssue||e.submitting),c(),d("ngIf",!e.submitting),c(),d("ngIf",e.submitting)}}function da(o,t){o&1&&(i(0,"div",40),s(1),b(2,"translate"),r()),o&2&&(c(),v(" ",M(2,1,"support.select_provider_first")," "))}function la(o,t){o&1&&(i(0,"div",40),s(1),b(2,"translate"),r()),o&2&&(c(),v(" ",M(2,1,"support.loading_orders")," "))}function pa(o,t){o&1&&(i(0,"div",40),s(1),b(2,"translate"),r()),o&2&&(c(),v(" ",M(2,1,"support.no_orders_for_provider")," "))}function ma(o,t){if(o&1){let e=h();i(0,"div",29)(1,"div",30),m(2,"i"),i(3,"span",31),s(4),r(),i(5,"span",32),s(6),r(),i(7,"span",33),s(8),b(9,"date"),r()(),i(10,"button",34),b(11,"translate"),u("click",function(){let a=f(e).index,p=l(4);return C(p.removeAttachment(a))}),m(12,"i",35),r()()}if(o&2){let e=t.$implicit,n=l(4);c(2),he(n.isImageFile(e.file_url)?"pi pi-image":"pi pi-file"),c(2),g(n.getFileName(e.file_url)),c(2),g(n.getFileSize(e.file_url)),c(2),g(J(9,6,e.uploaded_at,"short")),c(2),oe("title",M(11,9,"support.remove_attachment"))}}function ga(o,t){if(o&1&&(i(0,"div",26)(1,"h4",27),s(2),b(3,"translate"),r(),_(4,ma,13,11,"div",28),r()),o&2){let e=l(3);c(2),g(M(3,2,"support.uploaded_files")),c(2),d("ngForOf",e.uploadedFiles)}}function ua(o,t){o&1&&(i(0,"span"),s(1),b(2,"translate"),r()),o&2&&(c(),g(M(2,1,"support.submit_report")))}function _a(o,t){o&1&&(i(0,"span"),s(1),b(2,"translate"),r()),o&2&&(c(),g(M(2,1,"support.submitting")))}function fa(o,t){if(o&1){let e=h();i(0,"div",17)(1,"label",18),s(2),b(3,"translate"),r(),i(4,"p-dropdown",36),b(5,"translate"),b(6,"translate"),B("ngModelChange",function(a){f(e);let p=l(2);return N(p.selectedProvider,a)||(p.selectedProvider=a),C(a)}),u("onChange",function(){f(e);let a=l(2);return C(a.onProviderChange())}),r()(),i(7,"div",17)(8,"label",18),s(9),b(10,"translate"),r(),i(11,"p-dropdown",37),b(12,"translate"),B("ngModelChange",function(a){f(e);let p=l(2);return N(p.selectedOrder,a)||(p.selectedOrder=a),C(a)}),r(),_(13,da,3,3,"div",38)(14,la,3,3,"div",38)(15,pa,3,3,"div",38),r(),i(16,"div",17)(17,"label",18),s(18),b(19,"translate"),r(),i(20,"p-dropdown",39),b(21,"translate"),B("ngModelChange",function(a){f(e);let p=l(2);return N(p.priority,a)||(p.priority=a),C(a)}),r(),i(22,"div",40)(23,"span"),s(24),b(25,"titlecase"),r(),s(26),b(27,"translate"),r()(),i(28,"div",17)(29,"label",18),s(30),b(31,"translate"),r(),i(32,"div",19)(33,"textarea",20),b(34,"translate"),B("ngModelChange",function(a){f(e);let p=l(2);return N(p.description,a)||(p.description=a),C(a)}),u("input",function(a){f(e);let p=l(2);return C(p.updateCharacterCount(a))}),r(),i(35,"div",21),s(36),b(37,"translate"),r()()(),i(38,"div",17)(39,"label",18),s(40),b(41,"translate"),r(),i(42,"file-upload",23),b(43,"translate"),u("uploadedUrls",function(a){f(e);let p=l(2);return C(p.onFilesUploaded(a))}),r(),_(44,ga,5,4,"div",24),r(),i(45,"button",25),u("click",function(){f(e);let a=l(2);return C(a.submitReport())}),_(46,ua,3,3,"span",10)(47,_a,3,3,"span",10),r()}if(o&2){let e=l(2);c(2),g(M(3,37,"support.select_provider")),c(2),oe("placeholder",M(5,39,"support.placeholder_provider")),oe("filterPlaceholder",M(6,41,"support.search_providers")),d("options",e.providers),L("ngModel",e.selectedProvider),d("showClear",!0)("filter",!0),c(5),g(M(10,43,"support.select_order")),c(2),oe("placeholder",M(12,45,"support.placeholder_order")),d("options",e.orders),L("ngModel",e.selectedOrder),d("showClear",!0)("filter",!0)("disabled",!e.selectedProvider),c(2),d("ngIf",!e.selectedProvider),c(),d("ngIf",e.ordersLoading),c(),d("ngIf",e.selectedProvider&&!e.ordersLoading&&e.orders.length===0),c(3),g(M(19,47,"support.priority")),c(2),oe("placeholder",M(21,49,"support.placeholder_priority")),d("options",e.priorityOptions),L("ngModel",e.priority),c(3),he("priority-"+e.priority),c(),g(M(25,51,e.priority)),c(2),v(" ",M(27,53,"support.priority_selected")," "),c(4),g(M(31,55,"support.detailed_description")),c(3),oe("placeholder",M(34,57,"support.detailed_description_ph")),L("ngModel",e.description),c(3),ie("",e.characterCount," / 500 ",M(37,59,"support.characters"),""),c(4),g(M(41,61,"support.attachments")),c(2),oe("uploadTitle",M(43,63,"support.add_attachments")),d("enableMultiple",!0),c(2),d("ngIf",e.uploadedFiles.length>0),c(),d("disabled",!e.selectedProvider||!e.selectedOrder||!e.description.trim()||e.submitting),c(),d("ngIf",!e.submitting),c(),d("ngIf",e.submitting)}}function Ca(o,t){if(o&1&&(i(0,"div"),_(1,sa,25,24,"ng-container",16)(2,fa,48,65,"ng-template",null,0,ee),r()),o&2){let e=j(3),n=l();c(),d("ngIf",n.grievanceType==="app_related")("ngIfElse",e)}}var Ft=class o{constructor(t,e,n,a,p,O,x){this.router=t;this.providerListService=e;this.orderService=n;this.authService=a;this.grievanceService=p;this.toast=O;this.translate=x;let E=this.router.getCurrentNavigation();this.grievanceType=E?.extras?.state?.issueType||"",this.subIssueId=E?.extras?.state?.subIssueId||null,this.subIssueTitle=E?.extras?.state?.subIssueTitle||null}selectedProvider="";selectedOrder="";description="";characterCount=0;uploadedFiles=[];isUploading=!1;loading=!1;error=null;providersLoading=!1;ordersLoading=!1;submitting=!1;grievanceType="";subIssueId=null;subIssueTitle=null;oneTownId=null;priority="medium";providers=[];orders=[];priorityOptions=[];relatedIssuesOptions=[{label:"Login Issue",value:"login_issue"},{label:"Crash or Bug",value:"crash_bug"},{label:"Feature Request",value:"feature_request"},{label:"Performance Issue",value:"performance_issue"}];selectedRelatedIssue=null;issueTypeLabels={"incorrect-info":"Incorrect Provider Information","unresponsive-provider":"Unresponsive Provider","missed-appointment":"Missed Appointment or Delay","unprofessional-behavior":"Unprofessional Behavior","poor-service":"Incomplete or Poor Quality Service",overcharging:"Overcharging or Unexpected Fees","safety-concern":"Safety or Trust Concern","remove-provider":"Request to Remove or Block Provider","other-provider-issues":"Other Provider Issues",app_related:"App Related Issue"};subIssueTitleMap={"incorrect-info":"Incorrect Provider Information","unresponsive-provider":"Unresponsive Provider","missed-appointment":"Missed Appointment or Delay","unprofessional-behavior":"Unprofessional Behavior","poor-service":"Incomplete or Poor Quality Service",overcharging:"Overcharging or Unexpected Fees","safety-concern":"Safety or Trust Concern","remove-provider":"Request to Remove or Block Provider","other-provider-issues":"Other Provider Issues"};ngOnInit(){this.loadTranslations(),this.loadData(),this.grievanceType==="provider-related"&&this.subIssueTitle?(this.description=this.subIssueTitle,this.characterCount=this.description.length):this.grievanceType&&this.issueTypeLabels[this.grievanceType]&&(this.description=this.issueTypeLabels[this.grievanceType],this.characterCount=this.description.length)}loadTranslations(){this.translate.get(["grievanceTypes.provider_related","grievanceTypes.order_related","grievanceTypes.payment_related","grievanceTypes.delivery_related","grievanceTypes.other"]).subscribe(()=>{this.priorityOptions=[{label:"Low",value:"low"},{label:"Medium",value:"medium"},{label:"High",value:"high"},{label:"Urgent",value:"urgent"}]})}loadData(){this.grievanceType!=="app_related"?(this.loading=!0,this.fetchProviders()):this.fetchOneTownId()}getGrievanceTypeLabel(t){let e=`grievanceTypes.${t}`;return this.translate.instant(e)||t}fetchProviders(){this.providersLoading=!0,this.error=null,this.providerListService.list().subscribe({next:t=>{this.providers=t||[],this.providersLoading=!1,this.updateLoadingState()},error:t=>{this.error="Failed to load providers.",this.providersLoading=!1,this.updateLoadingState(),console.error("Error fetching providers:",t)}})}fetchOrders(t){this.ordersLoading=!0,this.error=null;try{this.orderService.getOrdersByProvider(t).subscribe({next:e=>{this.orders=e||[],this.ordersLoading=!1,this.updateLoadingState()},error:e=>{this.error="Failed to load orders for the selected provider.",this.ordersLoading=!1,this.updateLoadingState(),console.error("Error fetching orders:",e)}})}catch(e){this.error="Error accessing provider information.",this.ordersLoading=!1,this.updateLoadingState(),console.error("Error in fetchOrders:",e)}}onProviderChange(){if(this.selectedOrder="",this.orders=[],this.selectedProvider){let t=parseInt(this.selectedProvider);t&&!isNaN(t)?this.fetchOrders(t):this.error="Invalid provider selected."}}updateLoadingState(){this.loading=this.providersLoading||this.ordersLoading}fetchOneTownId(){let t=this.authService.getUserId();t&&this.authService.getUserContext(t).subscribe({next:e=>{this.oneTownId=e.oneTownId||null},error:e=>{console.error("Error fetching user context:",e)}})}goBack(){this.router.navigate(["/customers/grievance"])}updateCharacterCount(t){this.characterCount=t.target.value.length}addAttachments(){}onFilesUploaded(t){let e=this.authService.getUserId(),n=new Date().toISOString();try{this.uploadedFiles=t.map(a=>({file_url:a,uploaded_by_user_id:e,uploaded_at:n}))}catch{this.error="Error processing uploaded files. Please try again."}}submitReport(){if(this.grievanceType==="app_related"){if(!this.description.trim()||!this.selectedRelatedIssue){this.toast.error("Validation Error","Please fill in all required fields");return}}else if(!this.selectedProvider||!this.selectedOrder||!this.description.trim()||!this.grievanceType||!this.priority){this.toast.error("Validation Error","Please fill in all required fields");return}this.submitting=!0,this.error=null;let t={grievance_type:this.grievanceType,description:this.description.trim(),attachments:this.uploadedFiles};this.grievanceType!=="app_related"?t=$(G({},t),{provider_id:parseInt(this.selectedProvider),order_id:parseInt(this.selectedOrder),priority:this.priority}):(t.related_issue=this.selectedRelatedIssue,this.oneTownId&&(t.provider_id=this.oneTownId)),this.grievanceService.createGrievance(t).subscribe({next:e=>{this.submitting=!1,this.toast.success("Success","Grievance submitted successfully! We will review your complaint and get back to you soon."),this.resetForm(),setTimeout(()=>{this.router.navigate(["/customers/confirmation"])},2e3)},error:e=>{this.submitting=!1;let n=e?.error?.message||"Failed to submit grievance. Please try again.";this.toast.error("Submission Failed",n),this.error="Failed to submit grievance. Please try again."}})}resetForm(){this.selectedProvider="",this.selectedOrder="",this.description="",this.characterCount=0,this.uploadedFiles=[],this.priority="medium",this.selectedRelatedIssue=null,this.error=null}getProviderDisplayName(t){return t.business_name||`Provider #${t.provider_id}`}getOrderDisplayName(t){return`Order #${t.display_order_id}`}retryLoading(){this.error=null,this.grievanceType!=="app_related"&&this.fetchProviders()}removeAttachment(t){t>=0&&t<this.uploadedFiles.length&&this.uploadedFiles.splice(t,1)}getFileName(t){try{return new URL(t).pathname.split("/").pop()||"Unknown file"}catch{return"Unknown file"}}getFileSize(t){return"Unknown size"}isImageFile(t){let e=[".jpg",".jpeg",".png",".gif",".bmp",".webp"],n=this.getFileName(t).toLowerCase();return e.some(a=>n.endsWith(a))}static \u0275fac=function(e){return new(e||o)(P(T),P(Tt),P(Le),P(I),P($e),P(me),P(de))};static \u0275cmp=w({type:o,selectors:[["support-form"]],decls:15,vars:9,consts:[["providerRelatedFields",""],[1,"support-form-container"],[1,"header"],[1,"back-button",3,"click"],[1,"pi","pi-chevron-left","text-xl","text-gray-700"],[1,"header-title"],[1,"content"],[1,"main-title"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"error-state"],[1,"error-message"],[1,"retry-button",3,"click"],[4,"ngIf","ngIfElse"],[1,"form-group"],[1,"form-label"],[1,"textarea-wrapper"],["maxlength","500",1,"form-textarea",3,"ngModelChange","input","ngModel","placeholder"],[1,"character-count"],["optionLabel","label","optionValue","value","placeholder","Select Related Issue",1,"w-full","custom-dropdown",3,"ngModelChange","options","ngModel"],[3,"uploadedUrls","enableMultiple","uploadTitle"],["class","attachments-list",4,"ngIf"],[1,"submit-button",3,"click","disabled"],[1,"attachments-list"],[1,"attachments-title"],["class","attachment-item",4,"ngFor","ngForOf"],[1,"attachment-item"],[1,"attachment-info"],[1,"file-name"],[1,"file-size"],[1,"upload-time"],["type","button",1,"remove-attachment-btn",3,"click","title"],[1,"pi","pi-times"],["optionLabel","business_name","optionValue","provider_id",1,"w-full","custom-dropdown",3,"ngModelChange","onChange","options","ngModel","placeholder","showClear","filter","filterPlaceholder"],["optionLabel","display_order_id","optionValue","id","filterPlaceholder","Search orders...",1,"w-full","custom-dropdown",3,"ngModelChange","options","ngModel","placeholder","showClear","filter","disabled"],["class","helper-text",4,"ngIf"],["optionLabel","label","optionValue","value",1,"w-full","custom-dropdown",3,"ngModelChange","options","ngModel","placeholder"],[1,"helper-text"]],template:function(e,n){e&1&&(i(0,"div",1),m(1,"p-toast"),i(2,"div",2)(3,"button",3),u("click",function(){return n.goBack()}),m(4,"i",4),r(),i(5,"h1",5),s(6),b(7,"translate"),r()(),i(8,"div",6)(9,"h2",7),s(10),b(11,"translate"),r(),_(12,na,5,3,"div",8)(13,oa,6,4,"div",9)(14,Ca,4,2,"div",10),r()()),e&2&&(c(6),g(M(7,5,"support.describe_issue")),c(4),g(M(11,7,"support.tell_more")),c(2),d("ngIf",n.loading),c(),d("ngIf",n.error),c(),d("ngIf",!n.loading&&!n.error))},dependencies:[D,k,Oe,le,ln,xe,gt,Pn,_n,Ae,Me,A],styles:[".support-form-container[_ngcontent-%COMP%]{max-width:375px;margin:0 auto;background:#fff;min-height:100vh;position:relative}.header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;background:#fff;border-bottom:1px solid #f0f0f0;position:sticky;top:0;z-index:100}.back-button[_ngcontent-%COMP%]{background:none;border:none;padding:8px;margin-right:12px;cursor:pointer;color:#333;display:flex;align-items:center;justify-content:center}.back-button[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-radius:4px}.header-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin:0}.content[_ngcontent-%COMP%]{padding:24px 16px 100px}.main-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;margin:0 0 32px;line-height:1.2;text-align:center}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f3f3;border-top:3px solid #5D157C;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:16px;margin-bottom:16px;line-height:1.4}.retry-button[_ngcontent-%COMP%]{padding:12px 24px;background:#5d157c;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.retry-button[_ngcontent-%COMP%]:hover{background:#3c0e50}.form-group[_ngcontent-%COMP%]{margin-bottom:24px}.form-label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:500;color:#333;margin-bottom:8px}.helper-text[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-top:4px;font-style:italic}.grievance-type-display[_ngcontent-%COMP%]{padding:12px 16px;background:#f5f5f5;border:1px solid #e0e0e0;border-radius:8px;min-height:48px;display:flex;align-items:center}.grievance-type-badge[_ngcontent-%COMP%]{background:#5d157c;color:#fff;padding:6px 12px;border-radius:16px;font-size:14px;font-weight:500;display:inline-block}.priority-high[_ngcontent-%COMP%]{color:#d32f2f;font-weight:600}.priority-urgent[_ngcontent-%COMP%]{color:#c62828;font-weight:700}.priority-medium[_ngcontent-%COMP%]{color:#f57c00;font-weight:500}.priority-low[_ngcontent-%COMP%]{color:#388e3c;font-weight:500}.attachments-list[_ngcontent-%COMP%]{margin-top:16px;border:1px solid #e0e0e0;border-radius:8px;padding:16px;background:#f9f9f9}.attachments-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;margin:0 0 12px}.attachment-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:#fff;border:1px solid #e0e0e0;border-radius:6px;margin-bottom:8px;transition:all .2s ease}.attachment-item[_ngcontent-%COMP%]:hover{border-color:#5d157c;box-shadow:0 2px 4px #0000001a}.attachment-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.attachment-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#5d157c;font-size:16px;min-width:16px}.file-name[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500;flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-size[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-left:8px;white-space:nowrap}.upload-time[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-left:auto;white-space:nowrap}.remove-attachment-btn[_ngcontent-%COMP%]{background:none;border:none;color:#d32f2f;cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .2s ease;margin-left:8px}.remove-attachment-btn[_ngcontent-%COMP%]:hover{background:#ffebee}.remove-attachment-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.select-wrapper[_ngcontent-%COMP%]{position:relative}.form-select[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid #e0e0e0;border-radius:8px;font-size:16px;background:#fff;appearance:none;cursor:pointer;color:#333}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#5d157c}.select-icon[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);color:#666;pointer-events:none}.textarea-wrapper[_ngcontent-%COMP%]{position:relative}.form-textarea[_ngcontent-%COMP%]{width:100%;min-height:120px;padding:16px;border:2px solid #5D157C;border-radius:8px;font-size:16px;font-family:inherit;resize:vertical;background:#fff;color:#333}.form-textarea[_ngcontent-%COMP%]::placeholder{color:#999}.form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#5d157c}.character-count[_ngcontent-%COMP%]{position:absolute;bottom:12px;right:16px;font-size:12px;color:#999;background:#fff;padding:0 4px}.attachment-button[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid #5D157C;border-radius:8px;background:#fff;color:#5d157c;font-size:16px;font-weight:500;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:24px;transition:all .2s ease}.attachment-button[_ngcontent-%COMP%]:hover{background:#f8f6ff}.submit-button[_ngcontent-%COMP%]{width:100%;padding:16px;background:#5d157c;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s ease}.submit-button[_ngcontent-%COMP%]:hover{background:#5d157c}.submit-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;opacity:.6}@media (max-width: 375px){.support-form-container[_ngcontent-%COMP%]{max-width:100%}.content[_ngcontent-%COMP%]{padding:20px 12px 80px}.main-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}}"]})};var Dt=class o{constructor(t){this.router=t}referenceNumber="GRV-2023-5739";returnToHome(){this.router.navigate(["/customers"])}static \u0275fac=function(e){return new(e||o)(P(T))};static \u0275cmp=w({type:o,selectors:[["grievance-confirmation"]],inputs:{referenceNumber:"referenceNumber"},decls:21,vars:13,consts:[[1,"thank-you-container"],[1,"content"],[1,"success-icon-wrapper"],[1,"success-icon"],[1,"pi","pi-check-circle","text-[48px]"],[1,"main-content","text-center"],[1,"title","text-xl","font-semibold","mb-2"],[1,"description","text-sm","text-gray-600","mb-4"],[1,"reference-section","mb-4"],[1,"reference-label","text-sm","text-gray-500"],[1,"reference-number","text-lg","font-bold","text-[#5D157C]"],[1,"return-button","bg-[#5D157C]","text-white","px-4","py-2","rounded-lg",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m(4,"i",4),r()(),i(5,"div",5)(6,"h1",6),s(7),b(8,"translate"),r(),i(9,"p",7),s(10),b(11,"translate"),r(),i(12,"div",8)(13,"p",9),s(14),b(15,"translate"),r(),i(16,"div",10),s(17),r()(),i(18,"button",11),u("click",function(){return n.returnToHome()}),s(19),b(20,"translate"),r()()()()),e&2&&(c(7),g(M(8,5,"grievance.thank_you")),c(3),v(" ",M(11,7,"grievance.submitted_desc")," "),c(4),g(M(15,9,"grievance.reference_label")),c(3),v(" ",n.referenceNumber," "),c(2),v(" ",M(20,11,"grievance.return_home")," "))},dependencies:[A],styles:[".thank-you-container[_ngcontent-%COMP%]{max-width:375px;margin:0 auto;background:#fff;min-height:100vh;position:relative;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 24px;text-align:center}.success-icon-wrapper[_ngcontent-%COMP%]{margin-bottom:32px}.success-icon[_ngcontent-%COMP%]{width:120px;height:120px;background:#f3f0ff;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto;color:#5d157c}.main-content[_ngcontent-%COMP%]{width:100%;max-width:320px}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#333;margin:0 0 24px;line-height:1.2}.description[_ngcontent-%COMP%]{font-size:16px;color:#666;line-height:1.5;margin:0 0 40px}.reference-section[_ngcontent-%COMP%]{margin-bottom:40px}.reference-label[_ngcontent-%COMP%]{font-size:16px;color:#666;margin:0 0 8px}.reference-number[_ngcontent-%COMP%]{display:inline-block;background:#f3f0ff;color:#5d157c;font-size:16px;font-weight:600;padding:8px 16px;border-radius:6px;letter-spacing:.5px}.return-button[_ngcontent-%COMP%]{width:100%;padding:16px 24px;background:#5d157c;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s ease;box-shadow:0 2px 4px #8b5cf633}.return-button[_ngcontent-%COMP%]:hover{background:#5d157c;box-shadow:0 4px 8px #8b5cf64d}.return-button[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 1px 2px #8b5cf633}@media (max-width: 375px){.thank-you-container[_ngcontent-%COMP%]{max-width:100%}.content[_ngcontent-%COMP%]{padding:32px 16px}.title[_ngcontent-%COMP%]{font-size:28px}.success-icon[_ngcontent-%COMP%]{width:100px;height:100px;color:#5d157c}}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.success-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.main-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .2s both}"]})};function ba(o,t){o&1&&(i(0,"div",7)(1,"div",8),m(2,"i",9),r(),i(3,"p"),s(4),b(5,"translate"),r()()),o&2&&(c(4),g(M(5,1,"mem-details.loading_member_details")))}function Ma(o,t){if(o&1&&m(0,"img",21),o&2){let e=l(2);d("src",e.getMemberProfileImage(),U)("alt",e.getMemberName())}}function Oa(o,t){if(o&1&&(i(0,"div",22),s(1),r()),o&2){let e=l(2);c(),v(" ",e.getMemberInitials()," ")}}function Pa(o,t){if(o&1&&(i(0,"div",10)(1,"div",11),s(2),r(),i(3,"div",12)(4,"div",13)(5,"div",14)(6,"span",15),s(7),b(8,"translate"),r(),i(9,"span",16),s(10),r()(),i(11,"div",14)(12,"span",15),s(13),b(14,"translate"),r(),i(15,"span",16),s(16),r()(),i(17,"div",14)(18,"span",15),s(19),b(20,"translate"),r(),i(21,"span",16),s(22),r()(),i(23,"div",14)(24,"span",15),s(25),b(26,"translate"),r(),i(27,"span",17),s(28),b(29,"translate"),r()()(),i(30,"div",18)(31,"div",19),_(32,Ma,1,2,"img",20)(33,Oa,2,1,"ng-template",null,0,ee),r()()()()),o&2){let e=j(34),n=l();c(2),g(n.getProviderName()),c(5),v("",M(8,11,"profile.name"),":"),c(3),g(n.getMemberName()),c(3),v("",M(14,13,"mem-details.age"),":"),c(3),g(n.getMemberAge()),c(3),v("",M(20,15,"mem-details.mobile"),":"),c(3),g(n.getMemberMobile()),c(3),g(M(26,17,"nav.profile")),c(3),g(M(29,19,"mem-details.view_profile")),c(4),d("ngIf",n.getMemberProfileImage())("ngIfElse",e)}}function va(o,t){if(o&1){let e=h();i(0,"div",23)(1,"div",24),s(2,"\u26A0\uFE0F"),r(),i(3,"p"),s(4),b(5,"translate"),r(),i(6,"button",25),u("click",function(){f(e);let a=l();return C(a.goBack())}),s(7),b(8,"translate"),r()()}o&2&&(c(4),g(M(5,2,"mem-details.member_info_not_found")),c(3),g(M(8,4,"mem-details.go_back")))}var At=class o{constructor(t,e,n,a,p){this.route=t;this.router=e;this.memberService=n;this.toast=a;this.authService=p}memberCard=null;memberDetails=null;isLoading=!1;ngOnInit(){setTimeout(()=>{this.loadMemberData()},0)}loadMemberData(){let e=this.router.getCurrentNavigation()?.extras?.state;if(e||(e=window.history.state),!e){setTimeout(()=>{let a=this.router.getCurrentNavigation()?.extras?.state||window.history.state;a&&a.card?(this.memberCard=a.card,this.loadMemberDetails()):(console.error("No member card found even with delay"),this.handleMissingData())},100);return}e&&e.card?(this.memberCard=e.card,this.loadMemberDetails()):(console.error("No member card found in navigation state"),this.handleMissingData())}handleMissingData(){this.toast.error("Error","Member information not found"),this.goBack()}loadMemberDetails(){if(!this.memberCard?.member_id){this.toast.error("Error","Member ID not found");return}this.isLoading=!0,this.memberDetails={member_id:this.memberCard.member_id,member_name:this.memberCard.member_name||"Unknown",user_id:"",member_mobile_number:"",member_json_form:[],member_json_form_obj:{},provider_id:this.memberCard.provider_details.provider_id,myid_enabled:!0},this.isLoading=!1}goBack(){this.router.navigate(["../"],{relativeTo:this.route})}getMemberName(){return this.memberDetails?.member_name||this.memberCard?.member_name||"Unknown"}getMemberAge(){if(this.memberDetails?.member_json_form_obj){let t=this.memberDetails.member_json_form_obj.Age||this.memberDetails.member_json_form_obj.age||this.memberDetails.member_json_form_obj.AGE;return t?String(t):"N/A"}return"N/A"}getMemberMobile(){return this.memberDetails?.member_mobile_number||"N/A"}getProviderName(){return this.memberCard?.provider_details.provider_display_name||"Unknown Provider"}getMemberProfileImage(){return this.memberDetails?.member_json_form_obj?this.memberDetails.member_json_form_obj.profile_image||this.memberDetails.member_json_form_obj["Profile Image"]||this.memberDetails.member_json_form_obj.photo:null}getMemberInitials(){let t=this.getMemberName();if(!t)return"??";let e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():t.substring(0,2).toUpperCase()}static \u0275fac=function(e){return new(e||o)(P(ct),P(T),P(_t),P(me),P(I))};static \u0275cmp=w({type:o,selectors:[["member-details"]],decls:6,vars:6,consts:[["defaultAvatar",""],[3,"title","icon","showBack"],[1,"card-wrapper"],[1,"card"],["class","loading-state",4,"ngIf"],["class","member-details-card",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],[1,"loading-spinner"],[1,"pi","pi-spin","pi-spinner"],[1,"member-details-card"],[1,"company-name"],[1,"member-info-section"],[1,"member-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","profile-link"],[1,"profile-section"],[1,"profile-image-container"],["class","profile-image",3,"src","alt",4,"ngIf","ngIfElse"],[1,"profile-image",3,"src","alt"],[1,"default-avatar"],[1,"error-state"],[1,"error-icon"],[1,"retry-button",3,"click"]],template:function(e,n){e&1&&(m(0,"app-title-card",1),i(1,"div",2)(2,"mat-card",3),_(3,ba,6,3,"div",4)(4,Pa,35,21,"div",5)(5,va,9,6,"div",6),r()()),e&2&&(d("title","Members")("icon","group")("showBack",!0),c(3),d("ngIf",n.isLoading),c(),d("ngIf",!n.isLoading&&n.memberCard),c(),d("ngIf",!n.isLoading&&!n.memberCard))},dependencies:[k,xn,hn,A],styles:[".card-wrapper[_ngcontent-%COMP%]{padding:1.25rem;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]{border-radius:6px;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52;padding:2rem;min-height:400px;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#6b7280}.card[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;color:#5d157c}.card[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.card[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#6b7280}.card[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.card[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem}.card[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{background-color:#5d157c;color:#fff;border:none;border-radius:6px;padding:.75rem 1.5rem;font-size:.875rem;font-weight:600;cursor:pointer;transition:background-color .2s ease;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background-color:#4a115a}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;font-weight:700;color:#5d157c;margin-bottom:2rem;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:3rem}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:2rem}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin-bottom:.5rem;font-weight:500;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:1.125rem;color:#5d157c;font-weight:600;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.profile-link[_ngcontent-%COMP%]{color:#5d157c;cursor:pointer;text-decoration:underline}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value.profile-link[_ngcontent-%COMP%]:hover{color:#4a115a}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]{flex-shrink:0}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:8px;overflow:hidden;box-shadow:0 2.5px 6.5px #1c191d4a,0 0 2px #1c191d52}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#9ca3af;color:#fff;display:flex;align-items:center;justify-content:center;font-size:3rem;font-weight:600;font-family:Roboto,sans-serif}@media (max-width: 768px){.card-wrapper[_ngcontent-%COMP%]{padding:1rem;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]{padding:1.5rem;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]{flex-direction:column;gap:2rem}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{margin-bottom:1.5rem}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:1rem;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]{align-self:center}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{width:120px;height:120px}.card[_ngcontent-%COMP%]   .member-details-card[_ngcontent-%COMP%]   .member-info-section[_ngcontent-%COMP%]   .profile-section[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:2.5rem;font-family:Roboto,sans-serif}}"]})};var fe=Ze(ft());var qe=class o{constructor(t){this.http=t}getCategories(t=0,e=100){let n=new R({fromObject:{skip:t.toString(),limit:e.toString()}});return this.http.get(y.COMMUNITY_CATEGORY.LIST,{params:n})}getCategoryById(t){let e=y.COMMUNITY_CATEGORY.GET_BY_ID.replace(":id",t.toString());return this.http.get(e)}createCategory(t){return this.http.post(y.COMMUNITY_CATEGORY.URL,t)}updateCategory(t,e){let n=y.COMMUNITY_CATEGORY.UPDATE.replace(":id",t.toString());return this.http.put(n,e)}deleteCategory(t){let e=y.COMMUNITY_CATEGORY.DELETE.replace(":id",t.toString());return this.http.delete(e)}static \u0275fac=function(e){return new(e||o)(q(pe))};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ee=class o{constructor(t){this.http=t}getCommunities(t=0,e=100,n,a=!0){let p={skip:t.toString(),limit:e.toString(),is_approved:a.toString()};n&&(p.category_id=n.toString());let O=new R({fromObject:p});return this.http.get(y.COMMUNITY.LIST,{params:O})}getCommunitiesByCategory(t,e=0,n=100){return this.getCommunities(e,n,t,!0)}createCommunity(t,e){let n=new R({fromObject:{created_by:e.toString()}});return this.http.post(y.COMMUNITY.URL,t,{params:n})}getCommunityById(t){let e=`${y.COMMUNITY.URL}/${t}`;return this.http.get(e)}updateCommunity(t,e){let n=`${y.COMMUNITY.URL}/${t}`;return this.http.put(n,e)}deleteCommunity(t){let e=`${y.COMMUNITY.URL}/${t}`;return this.http.delete(e)}getRecentUpdates(t,e=0,n=50){let a=new R({fromObject:{user_id:t.toString(),skip:e.toString(),limit:n.toString()}}),p=`${y.COMMUNITY.URL}/updates/recent`;return this.http.get(p,{params:a})}joinCommunity(t,e){let n=new R({fromObject:{user_id:t.toString()}}),a={community_id:e},p=`${y.COMMUNITY.URL}/join`;return this.http.post(p,a,{params:n})}joinCommunityWithForm(t,e,n){let a=new R({fromObject:{user_id:t.toString()}}),p={community_id:e,form_data:n},O=`${y.COMMUNITY.URL}/join`;return this.http.post(O,p,{params:a})}getCommunityMessages(t,e=0,n=50){let a=new R({fromObject:{skip:e.toString(),limit:n.toString()}}),p=`${y.COMMUNITY.URL}/${t}/messages`;return this.http.get(p,{params:a})}sendCommunityMessage(t,e,n){let a=new R({fromObject:{created_by:t.toString()}}),p={message:n.message,community_id:e,title:n.title||"",image_urls:n.image_urls||[],is_announcement:n.is_announcement||!1,is_pinned:n.is_pinned||!1},O=`${y.COMMUNITY.URL}/messages`;return this.http.post(O,p,{params:a})}deleteMessage(t){let e=`${y.COMMUNITY.URL}/messages/${t}`;return this.http.delete(e)}getCommunityMembers(t,e=0,n=100){let a=new R({fromObject:{skip:e.toString(),limit:n.toString()}}),p=`${y.COMMUNITY.URL}/${t}/members`;return this.http.get(p,{params:a})}approveMember(t,e){let n=new R({fromObject:{admin_id:e.toString()}}),a=`${y.COMMUNITY.URL}/members/${t}/approve`;return this.http.put(a,{},{params:n})}rejectMember(t,e){let n=new R({fromObject:{admin_id:e.toString()}}),a=`${y.COMMUNITY.URL}/members/${t}/reject`;return this.http.put(a,{},{params:n})}likeMessage(t,e){let n=new R({fromObject:{user_id:e.toString()}}),a=`${y.COMMUNITY.URL}/messages/${t}/like`;return this.http.post(a,{},{params:n})}unlikeMessage(t,e){let n=new R({fromObject:{user_id:e.toString()}}),a=`${y.COMMUNITY.URL}/messages/${t}/like`;return this.http.delete(a,{params:n})}removeMember(t,e){let n=new R({fromObject:{admin_id:e.toString()}}),a=`${y.COMMUNITY.URL}/members/${t}`;return this.http.delete(a,{params:n})}leaveCommunity(t,e){let n=new R({fromObject:{user_id:e.toString()}}),a=`${y.COMMUNITY.URL}/${t}/leave`;return this.http.delete(a,{params:n})}static \u0275fac=function(e){return new(e||o)(q(pe))};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})};var ya=(o,t)=>({"pi-chevron-down":o,"pi-chevron-up":t});function wa(o,t){o&1&&(i(0,"div",17),m(1,"div",18),i(2,"p"),s(3,"Loading communities..."),r()())}function Sa(o,t){if(o&1){let e=h();i(0,"div",19),m(1,"i",20),i(2,"p"),s(3),r(),i(4,"button",21),u("click",function(){f(e);let a=l(2);return C(a.retryLoading())}),m(5,"i",22),s(6," Retry "),r()()}if(o&2){let e=l(2);c(3),g(e.errorMessage)}}function ka(o,t){o&1&&(i(0,"div",19),m(1,"i",23),i(2,"p"),s(3,"No categories available"),r()())}function Ia(o,t){if(o&1&&m(0,"img",34),o&2){let e=l().$implicit;d("src",e.categoryIcon,U)}}function Ea(o,t){if(o&1&&m(0,"i"),o&2){let e=l().$implicit;he(e.icon)}}function Ta(o,t){o&1&&(i(0,"div",38),m(1,"i",39),i(2,"p"),s(3,"No approved groups in this category yet"),r()())}function Fa(o,t){if(o&1&&m(0,"img",56),o&2){let e=l().$implicit;d("src",e.groupIcon,U)}}function Da(o,t){o&1&&m(0,"i",50)}function Aa(o,t){o&1&&(i(0,"span",57),s(1,"Premium"),r())}function za(o,t){if(o&1&&(i(0,"span"),m(1,"i",58),s(2),r()),o&2){let e=l().$implicit;c(2),v(" \u20B9",e.joinFee," ")}}function ja(o,t){o&1&&(i(0,"span",59),m(1,"i",60),s(2," Member "),r())}function Ua(o,t){o&1&&(i(0,"span",61),m(1,"i",62),s(2," Pending "),r())}function Ra(o,t){if(o&1){let e=h();i(0,"button",63),u("click",function(){f(e);let a=l().$implicit,p=l(5);return C(p.joinGroup(a))}),s(1),r()}if(o&2){let e=l().$implicit,n=l(5);c(),v(" ",n.getJoinButtonText(e)," ")}}function Va(o,t){if(o&1){let e=h();i(0,"div",40),u("click",function(){let a=f(e).$implicit,p=l(5);return C(p.openGroup(a))}),i(1,"div",41),_(2,Fa,1,1,"img",42)(3,Da,1,0,"i",43),r(),i(4,"div",44)(5,"div",45)(6,"h3"),s(7),r(),_(8,Aa,2,0,"span",46),r(),i(9,"p",47),s(10),r(),i(11,"div",48)(12,"span",49),m(13,"i",50),s(14),r(),i(15,"span",51),s(16),r(),_(17,za,3,1,"span",16),r()(),i(18,"div",52),u("click",function(a){return f(e),C(a.stopPropagation())}),_(19,ja,3,0,"span",53)(20,Ua,3,0,"span",54)(21,Ra,2,1,"button",55),r()()}if(o&2){let e=t.$implicit,n=l(5);c(),Z("background",e.color),c(),d("ngIf",e.groupIcon),c(),d("ngIf",!e.groupIcon),c(4),g(e.name),c(),d("ngIf",e.isPremium),c(2),g(e.description),c(4),ie(" ",e.membersCount," ",e.membersCount===1?"member":"members"," "),c(2),g(n.getTimeAgo(e.lastActivity)),c(),d("ngIf",e.joinFee&&n.parseFloat(e.joinFee)>0),c(2),d("ngIf",e.userMembershipStatus==="approved"||e.isCreatedByUser),c(),d("ngIf",e.userMembershipStatus==="pending"),c(),d("ngIf",n.shouldShowJoinButton(e))}}function La(o,t){if(o&1&&(i(0,"div",35),_(1,Ta,4,0,"div",36)(2,Va,22,14,"div",37),r()),o&2){let e=l().$implicit,n=l(3);c(),d("ngIf",n.getGroupsByCategory(e.id).length===0),c(),d("ngForOf",n.getGroupsByCategory(e.id))}}function Na(o,t){if(o&1){let e=h();i(0,"div",25)(1,"div",26),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.toggleCategory(a.id))}),i(2,"div",27)(3,"div",28),_(4,Ia,1,1,"img",29)(5,Ea,1,2,"i",30),r(),i(6,"div",31)(7,"h3"),s(8),r(),i(9,"p"),s(10),r()()(),m(11,"i",32),r(),_(12,La,3,2,"div",33),r()}if(o&2){let e=t.$implicit;c(3),Z("background",e.color),c(),d("ngIf",e.categoryIcon),c(),d("ngIf",!e.categoryIcon),c(3),g(e.name),c(2),ie(" ",e.groupCount," ",e.groupCount===1?"group":"groups"," "),c(),d("ngClass",Fe(9,ya,!e.expanded,e.expanded)),c(),d("ngIf",e.expanded)}}function Ba(o,t){if(o&1&&(i(0,"div"),_(1,Na,13,12,"div",24),r()),o&2){let e=l(2);c(),d("ngForOf",e.groupCategories)}}function Ga(o,t){if(o&1&&(i(0,"div",13),_(1,wa,4,0,"div",14)(2,Sa,7,1,"div",15)(3,ka,4,0,"div",15)(4,Ba,2,1,"div",16),r()),o&2){let e=l();c(),d("ngIf",e.isLoading),c(),d("ngIf",e.hasError&&!e.isLoading),c(),d("ngIf",!e.isLoading&&!e.hasError&&e.groupCategories.length===0),c(),d("ngIf",!e.isLoading&&!e.hasError&&e.groupCategories.length>0)}}function $a(o,t){o&1&&(i(0,"div",17),m(1,"div",18),i(2,"p"),s(3,"Loading updates..."),r()())}function qa(o,t){o&1&&(i(0,"div",19),m(1,"i",23),i(2,"p"),s(3,"No updates yet"),r(),i(4,"p",66),s(5," Join communities to see their latest updates "),r()())}function Ya(o,t){if(o&1){let e=h();i(0,"div",67)(1,"button",68),u("click",function(){f(e);let a=l(2);return C(a.refreshUpdates())}),m(2,"i",22),s(3," Refresh "),r()()}}function Ha(o,t){if(o&1&&m(0,"img",87),o&2){let e=t.$implicit;d("src",e,U)}}function Ka(o,t){if(o&1&&(i(0,"div",85),_(1,Ha,1,1,"img",86),r()),o&2){let e=l().$implicit;c(),d("ngForOf",e.imageUrls)}}function Ja(o,t){if(o&1){let e=h();i(0,"div",70)(1,"div",71)(2,"div",72)(3,"div",73)(4,"span",74),m(5,"i",50),s(6),r(),i(7,"span",75),m(8,"i",62),s(9),r()()()(),_(10,Ka,2,1,"div",76),i(11,"p",77),s(12),r(),i(13,"div",78)(14,"div",79)(15,"button",80),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.toggleLike(a))}),m(16,"i",81),i(17,"span"),s(18),r()(),i(19,"button",80),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.openComments(a))}),m(20,"i",82),i(21,"span"),s(22),r()(),i(23,"button",83),m(24,"i",84),i(25,"span"),s(26,"Share"),r()()()()()}if(o&2){let e=t.$implicit,n=l(3);c(6),v(" ",e.communityName," "),c(3),v(" ",n.getTimeAgo(e.date)," "),c(),d("ngIf",e.imageUrls&&e.imageUrls.length>0),c(2),g(e.description),c(3),F("active",e.isLiked),c(),F("pi-heart",!e.isLiked)("pi-heart-fill",e.isLiked),c(2),g(e.likes),c(4),g(e.comments)}}function Wa(o,t){if(o&1&&(i(0,"div"),_(1,Ja,27,12,"div",69),r()),o&2){let e=l(2);c(),d("ngForOf",e.announcements)}}function Qa(o,t){if(o&1&&(i(0,"div",64),_(1,$a,4,0,"div",14)(2,qa,6,0,"div",15)(3,Ya,4,0,"div",65)(4,Wa,2,1,"div",16),r()),o&2){let e=l();c(),d("ngIf",e.isLoadingUpdates),c(),d("ngIf",!e.isLoadingUpdates&&e.announcements.length===0),c(),d("ngIf",!e.isLoadingUpdates&&e.announcements.length>0),c(),d("ngIf",!e.isLoadingUpdates&&e.announcements.length>0)}}function Xa(o,t){o&1&&(i(0,"span",118),s(1," Group name is required (min 3 characters) "),r())}function Za(o,t){o&1&&(i(0,"span",118),s(1," Description is required (min 10 characters) "),r())}function ec(o,t){if(o&1){let e=h();i(0,"button",119),u("click",function(){f(e),l();let a=j(31);return C(a.click())}),m(1,"i",120),i(2,"span"),s(3,"Upload Group Icon"),r()()}}function tc(o,t){if(o&1){let e=h();i(0,"div",121),m(1,"img",122),i(2,"button",123),u("click",function(){f(e);let a=l(2);return C(a.removeGroupIcon())}),m(3,"i",92),r()()}if(o&2){let e=l(2);c(),d("src",e.groupIconPreviewUrl,U)}}function nc(o,t){o&1&&(i(0,"div",124),m(1,"div",125),i(2,"span"),s(3,"Uploading..."),r()())}function oc(o,t){o&1&&(i(0,"span",118),s(1," Category is required "),r())}function ic(o,t){o&1&&(i(0,"span",118),s(1," Address is required "),r())}function rc(o,t){o&1&&(i(0,"div",95)(1,"label"),s(2,"Join Fee (\u20B9)"),r(),m(3,"input",126),r())}function ac(o,t){o&1&&(i(0,"span",118),s(1," You must agree to the terms "),r())}function cc(o,t){if(o&1){let e=h();i(0,"div",88),u("click",function(){f(e);let a=l();return C(a.closeAddGroupModal())}),i(1,"div",89),u("click",function(a){return f(e),C(a.stopPropagation())}),i(2,"div",90)(3,"h2"),s(4,"Create New Group"),r(),i(5,"button",91),u("click",function(){f(e);let a=l();return C(a.closeAddGroupModal())}),m(6,"i",92),r()(),i(7,"div",93),m(8,"i",39),i(9,"p"),s(10," Your group will be reviewed and approved by admin before it becomes visible to members. "),r()(),i(11,"form",94)(12,"div",95)(13,"label"),s(14,"Group Name "),i(15,"span",96),s(16,"*"),r()(),m(17,"input",97),_(18,Xa,2,0,"span",98),r(),i(19,"div",95)(20,"label"),s(21,"Description "),i(22,"span",96),s(23,"*"),r()(),m(24,"textarea",99),_(25,Za,2,0,"span",98),r(),i(26,"div",95)(27,"label"),s(28,"Group Icon (Optional)"),r(),i(29,"div",100)(30,"input",101,0),u("change",function(a){f(e);let p=l();return C(p.onGroupIconSelected(a))}),r(),_(32,ec,4,0,"button",102)(33,tc,4,1,"div",103)(34,nc,4,0,"div",104),r()(),i(35,"div",95)(36,"label"),s(37,"Category "),i(38,"span",96),s(39,"*"),r()(),i(40,"app-custom-dropdown",105),u("selectedValueChange",function(a){let p;f(e);let O=l();return C((p=O.groupForm.get("categoryId"))==null?null:p.setValue(a))}),r(),_(41,oc,2,0,"span",98),r(),i(42,"div",95)(43,"label"),s(44,"Address "),i(45,"span",96),s(46,"*"),r()(),m(47,"input",106),_(48,ic,2,0,"span",98),r(),i(49,"div",107),u("click",function(){f(e);let a=l();return C(a.selectGroupLocation())}),m(50,"i",108),i(51,"span"),s(52,"Click to detect location"),r()(),i(53,"div",95)(54,"label"),s(55,"Group Type "),i(56,"span",96),s(57,"*"),r()(),i(58,"app-custom-dropdown",109),u("selectedValueChange",function(a){let p;f(e);let O=l();return C((p=O.groupForm.get("type"))==null?null:p.setValue(a))}),r()(),_(59,rc,4,0,"div",110),i(60,"div",111)(61,"label"),m(62,"input",112),i(63,"span"),s(64,"Mark as Premium Group"),r()()(),i(65,"div",111)(66,"label"),m(67,"input",113),i(68,"span"),s(69,"I agree to the terms and conditions "),i(70,"span",96),s(71,"*"),r()()(),_(72,ac,2,0,"span",98),r(),i(73,"div",114)(74,"button",115),u("click",function(){f(e);let a=l();return C(a.closeAddGroupModal())}),s(75," Cancel "),r(),i(76,"button",116),u("click",function(){f(e);let a=l();return C(a.submitGroup())}),m(77,"i",117),s(78," Create Group "),r()()()()()}if(o&2){let e,n,a,p,O,x,E,Ce,Ye,qt,Qe,Xe,S=l();c(11),d("formGroup",S.groupForm),c(6),F("error",((e=S.groupForm.get("name"))==null?null:e.invalid)&&((e=S.groupForm.get("name"))==null?null:e.touched)),c(),d("ngIf",((n=S.groupForm.get("name"))==null?null:n.invalid)&&((n=S.groupForm.get("name"))==null?null:n.touched)),c(6),F("error",((a=S.groupForm.get("description"))==null?null:a.invalid)&&((a=S.groupForm.get("description"))==null?null:a.touched)),c(),d("ngIf",((p=S.groupForm.get("description"))==null?null:p.invalid)&&((p=S.groupForm.get("description"))==null?null:p.touched)),c(7),d("ngIf",!S.groupIconPreviewUrl),c(),d("ngIf",S.groupIconPreviewUrl),c(),d("ngIf",S.isUploadingGroupIcon),c(6),d("options",S.categoryDropdownOptions)("selectedValue",(O=S.groupForm.get("categoryId"))==null?null:O.value),c(),d("ngIf",((x=S.groupForm.get("categoryId"))==null?null:x.invalid)&&((x=S.groupForm.get("categoryId"))==null?null:x.touched)&&!((x=S.groupForm.get("categoryId"))!=null&&x.value)),c(6),F("error",((E=S.groupForm.get("address"))==null?null:E.invalid)&&((E=S.groupForm.get("address"))==null?null:E.touched)),c(),d("ngIf",((Ce=S.groupForm.get("address"))==null?null:Ce.invalid)&&((Ce=S.groupForm.get("address"))==null?null:Ce.touched)),c(10),d("options",S.groupTypeOptions)("selectedValue",(Ye=S.groupForm.get("type"))==null?null:Ye.value),c(),d("ngIf",((qt=S.groupForm.get("type"))==null?null:qt.value)==="paid_join"),c(8),F("error",((Qe=S.groupForm.get("agreeToTerms"))==null?null:Qe.invalid)&&((Qe=S.groupForm.get("agreeToTerms"))==null?null:Qe.touched)),c(5),d("ngIf",((Xe=S.groupForm.get("agreeToTerms"))==null?null:Xe.invalid)&&((Xe=S.groupForm.get("agreeToTerms"))==null?null:Xe.touched)),c(4),d("disabled",S.groupForm.invalid)}}function sc(o,t){if(o&1){let e=h();i(0,"div",88),u("click",function(){f(e);let a=l();return C(a.closeJoinFormModal())}),i(1,"div",89),u("click",function(a){return f(e),C(a.stopPropagation())}),i(2,"div",90)(3,"h2"),s(4,"Join Request Form"),r(),i(5,"button",91),u("click",function(){f(e);let a=l();return C(a.closeJoinFormModal())}),m(6,"i",92),r()(),i(7,"div",93),m(8,"i",39),i(9,"p"),s(10),r()(),i(11,"form",94)(12,"div",95)(13,"label"),s(14,"Full Name"),r(),m(15,"input",127),r(),i(16,"div",95)(17,"label"),s(18,"Phone Number"),r(),m(19,"input",128),r(),i(20,"div",95)(21,"label"),s(22,"Message"),r(),m(23,"textarea",129),r(),i(24,"div",114)(25,"button",115),u("click",function(){f(e);let a=l();return C(a.closeJoinFormModal())}),s(26," Cancel "),r(),i(27,"button",130),u("click",function(){f(e);let a=l();return C(a.submitJoinRequest())}),m(28,"i",131),s(29," Request "),r()()()()()}if(o&2){let e=l();c(10),v(' Please fill out this form to request to join "',e.selectedGroupForJoin==null?null:e.selectedGroupForJoin.name,'". Your request will be reviewed by the admin. '),c(),d("formGroup",e.joinRequestForm)}}function dc(o,t){if(o&1){let e=h();i(0,"div",132),u("click",function(){f(e);let a=l();return C(a.closeSuccessModal())}),i(1,"div",133),u("click",function(a){return f(e),C(a.stopPropagation())}),i(2,"button",134),u("click",function(){f(e);let a=l();return C(a.closeSuccessModal())}),m(3,"i",92),r(),i(4,"div",135),m(5,"i",81),r(),i(6,"h3"),s(7),r(),i(8,"p"),s(9),r()()()}if(o&2){let e=l();c(),F("error",e.isError),c(4),F("pi-check-circle",!e.isError)("pi-times-circle",e.isError),c(2),g(e.successTitle),c(2),g(e.successMessage)}}var zt=class o{constructor(t,e,n,a,p,O,x,E,Ce,Ye){this.router=t;this.fb=e;this.communityCategoryService=n;this.communityService=a;this.authService=p;this.locationBridge=O;this.platform=x;this.webviewService=E;this.http=Ce;this.backHandleService=Ye}announcements=[];groups=[];groupCategories=[];communitiesMap=new Map;isLoading=!1;isLoadingUpdates=!1;activeTab="groups";errorMessage="";hasError=!1;showAddGroupModal=!1;showSuccessModal=!1;successTitle="";successMessage="";isError=!1;showJoinFormModal=!1;selectedGroupForJoin=null;joinRequestForm;groupForm;currentUserId=null;selectedGroupIconFile=null;groupIconPreviewUrl=null;groupIconUrl="";isUploadingGroupIcon=!1;selectedLocationData={};groupTypeOptions=[{label:"Direct Join (Anyone can join instantly)",value:"direct_join"},{label:"Request to Join (Admin approval required)",value:"request_join"},{label:"Application Form (Users fill form + Admin approval)",value:"request_form_join"},{label:"Paid Join (Payment required)",value:"paid_join"}];get categoryDropdownOptions(){return this.groupCategories.map(t=>({label:t.name,value:t.id}))}categoryStylesMap={1:{icon:"pi pi-briefcase",color:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)"},2:{icon:"pi pi-book",color:"linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)"},3:{icon:"pi pi-heart",color:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},4:{icon:"pi pi-desktop",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},5:{icon:"pi pi-trophy",color:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)"},6:{icon:"pi pi-palette",color:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)"},7:{icon:"pi pi-users",color:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},8:{icon:"pi pi-home",color:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},9:{icon:"pi pi-sun",color:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)"},10:{icon:"pi pi-star",color:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"}};ngOnInit(){this.currentUserId=this.authService.getUserId(),this.webviewService.passActionToRN({action:fe.ACTIONS.showHeader,value:!1}),this.initializeForms(),this.loadGroupCategories(),this.loadCommunitiesAndUpdates(),this.registerBackAction()}ngOnDestroy(){this.cleanupBackAction(),this.webviewService.passActionToRN({action:fe.ACTIONS.showHeader,value:!0})}registerBackAction(){let t=this.router.url;console.log("\u{1F519} [Announcements] Registering back action for URL:",t),[t,t.split("?")[0],"/customers/announcements"].forEach((n,a)=>{let p={id:`announcements-back-action-${a}-${Date.now()}`,actionType:"navigate",backNavigationUrl:"/customers",callback:()=>{},value:"",forPageUrl:n};this.backHandleService.backAction=this.backHandleService.backAction.filter(O=>!O.id.startsWith("announcements-back-action-")||O.forPageUrl!==n),this.backHandleService.backAction.push(p)})}cleanupBackAction(){console.log("\u{1F519} [Announcements] Cleaning up back actions"),this.backHandleService.backAction=this.backHandleService.backAction.filter(t=>!t.id.startsWith("announcements-back-action-"))}initializeForms(){this.groupForm=this.fb.group({name:["",[V.required,V.minLength(3)]],description:["",[V.required,V.minLength(10)]],categoryId:["",[V.required]],address:["",[V.required]],type:["direct_join",[V.required]],joinFee:["0.00"],color:["linear-gradient(135deg, #667eea 0%, #764ba2 100%)"],isPremium:[!1],agreeToTerms:[!1,[V.requiredTrue]]}),this.joinRequestForm=this.fb.group({fullName:[""],phone:[""],reason:[""]})}loadGroupCategories(){this.isLoading=!0,this.hasError=!1,this.errorMessage="",this.communityCategoryService.getCategories(0,100).subscribe({next:t=>{t&&t.length>0?(this.groupCategories=t.map(e=>{let n=this.categoryStylesMap[e.id]||{icon:"pi pi-users",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"};return{id:String(e.id),name:e.name,icon:n.icon,color:n.color,categoryIcon:e.category_icon||void 0,expanded:!1,groupCount:0}}),this.loadAllCommunities()):(this.groupCategories=[],this.isLoading=!1,this.errorMessage="No categories available at the moment.")},error:t=>{console.error("\u274C Error loading categories:",t),this.hasError=!0,this.errorMessage=t.error?.message||"Failed to load categories. Please try again later.",this.groupCategories=[],this.groups=[],this.isLoading=!1}})}loadAllCommunities(){this.communityService.getCommunities(0,100,void 0,!0).subscribe({next:t=>{console.log("\u2705 Approved communities loaded successfully:",t),t&&t.length>0?(this.groups=t.map(e=>this.mapCommunityToGroup(e)),this.loadMembershipStatuses()):(this.groups=[],this.updateCategoryGroupCounts(),this.isLoading=!1)},error:t=>{console.error("\u274C Error loading communities:",t),this.hasError=!0,this.errorMessage=t.error?.message||"Failed to load communities. Please try again later.",this.groups=[],this.isLoading=!1}})}loadCommunitiesAndUpdates(){this.isLoadingUpdates=!0;let t=this.authService.getUserId();if(!t){console.error("\u274C User ID not found in AuthService"),this.announcements=[],this.isLoadingUpdates=!1;return}Yt({communities:this.communityService.getCommunities(0,100,void 0,!0),updates:this.communityService.getRecentUpdates(t,0,50)}).subscribe({next:e=>{e.communities&&e.communities.length>0&&e.communities.forEach(n=>{this.communitiesMap.set(n.id,n)}),e.updates&&e.updates.length>0?(this.announcements=e.updates.map(n=>this.mapUpdateToAnnouncement(n)),console.log("\u2705 MAPPED announcements with community names:",this.announcements)):this.announcements=[],this.isLoadingUpdates=!1},error:e=>{console.error("\u274C Error loading communities and updates:",e),this.announcements=[],this.isLoadingUpdates=!1}})}loadMembershipStatuses(){if(!this.currentUserId){this.updateCategoryGroupCounts(),this.isLoading=!1;return}let t=0,e=this.groups.length;if(e===0){this.updateCategoryGroupCounts(),this.isLoading=!1;return}this.groups.forEach(n=>{this.communityService.getCommunityMembers(n.id,0,100).subscribe({next:a=>{let p=a.filter(x=>x.status==="approved");n.membersCount=p.length;let O=a.find(x=>x.user_id===this.currentUserId);O?(n.userMembershipStatus=O.status,n.isCreatedByUser=O.is_admin):(n.userMembershipStatus="not_member",n.isCreatedByUser=!1),t++,t===e&&(this.updateCategoryGroupCounts(),this.isLoading=!1,console.log("\u2705 All membership statuses loaded with updated counts:",this.groups))},error:a=>{console.error(`\u274C Error loading members for group ${n.id}:`,a),n.userMembershipStatus="not_member",n.isCreatedByUser=!1,t++,t===e&&(this.updateCategoryGroupCounts(),this.isLoading=!1)}})})}mapCommunityToGroup(t){let e=String(t.category_id),n=this.groupCategories.find(p=>p.id===e),a=t.color||n?.color||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)";return{id:t.id,name:t.name,description:t.description,color:a,isPremium:t.is_premium||!1,membersCount:t.members_count||0,lastActivity:t.updated_at?new Date(t.updated_at):new Date,categoryId:e,type:t.type,joinFee:t.join_fee||"0.00",isApproved:t.is_approved||!1,groupIcon:t.group_icon,userMembershipStatus:"not_member",isCreatedByUser:t.created_by===this.currentUserId}}mapUpdateToAnnouncement(t){console.log("\u{1F504} Mapping update to announcement:",t),console.log("\u{1F50D} Looking for community ID:",t.community_id),console.log("\u{1F5FA}\uFE0F Available communities in map:",Array.from(this.communitiesMap.keys()));let e=this.communitiesMap.get(t.community_id),n=e?e.name:`Community ${t.community_id}`;return{id:t.id,description:t.message,date:new Date(t.created_at),likes:t.likes_count||0,comments:t.comments_count||0,isLiked:t.is_liked||!1,communityId:t.community_id,communityName:n,imageUrls:t.image_urls||[],isAnnouncement:t.is_announcement||!1}}updateCategoryGroupCounts(){this.groupCategories.forEach(t=>{t.groupCount=this.groups.filter(e=>e.categoryId===t.id).length})}getGroupsByCategory(t){return this.groups.filter(e=>e.categoryId===t)}toggleCategory(t){let e=this.groupCategories.find(n=>n.id===t);e&&(e.expanded=!e.expanded)}shouldShowJoinButton(t){return t.isCreatedByUser||t.userMembershipStatus==="approved"||t.userMembershipStatus==="pending"?!1:t.userMembershipStatus==="not_member"||t.userMembershipStatus==="rejected"}getJoinButtonText(t){return t.userMembershipStatus==="pending"?"Pending":t.userMembershipStatus==="rejected"?"Re-Request":t.type==="direct_join"?"Join":(t.type==="request_form_join","Request")}joinGroup(t){let e=this.authService.getUserId();if(!e){console.error("\u274C User ID not found in AuthService"),this.isError=!0,this.successTitle="Error",this.successMessage="Unable to identify user. Please try again.",this.showSuccessModal=!0;return}if(t.type==="request_form_join"){this.openJoinFormModal(t);return}console.log("\u{1F680} Joining group:",t.name,"ID:",t.id,"Type:",t.type),console.log("\u{1F464} User ID:",e),this.communityService.joinCommunity(e,t.id).subscribe({next:n=>{t.type==="direct_join"?(t.userMembershipStatus="approved",t.membersCount++,this.isError=!1,this.successTitle="Successfully Joined!",this.successMessage=n.message||`You have successfully joined "${t.name}".`,this.showSuccessModal=!0,setTimeout(()=>{this.closeSuccessModal(),this.openGroup(t)},1500)):(t.userMembershipStatus="pending",this.isError=!1,this.successTitle="Request Sent!",this.successMessage=`Your request to join "${t.name}" has been sent to the admin for approval.`,this.showSuccessModal=!0)},error:n=>{console.error("\u274C Error joining community:",n),this.isError=!0,this.successTitle="Join Failed";let a=`Unable to join "${t.name}". Please try again.`;n.error?.detail?typeof n.error.detail=="string"?a=n.error.detail:Array.isArray(n.error.detail)&&(a=n.error.detail.map(p=>p.msg).join(", ")):n.error?.message&&(a=n.error.message),this.successMessage=a,this.showSuccessModal=!0}})}openJoinFormModal(t){this.selectedGroupForJoin=t,this.showJoinFormModal=!0,this.joinRequestForm.reset()}closeJoinFormModal(){this.showJoinFormModal=!1,this.selectedGroupForJoin=null,this.joinRequestForm.reset()}submitJoinRequest(){if(!this.selectedGroupForJoin)return;let t=this.authService.getUserId();if(!t){console.error("\u274C User ID not found in AuthService"),this.closeJoinFormModal(),this.isError=!0,this.successTitle="Error",this.successMessage="Unable to identify user. Please try again.",this.showSuccessModal=!0;return}let e=this.selectedGroupForJoin,n=e.name,a=this.joinRequestForm.value,p={full_name:a.fullName||"",phone:a.phone||"",reason:a.reason||""};console.log("\u{1F4DD} Submitting join request with form data..."),console.log("\u{1F464} User ID:",t),console.log("\u{1F3D8}\uFE0F Community ID:",e.id),console.log("\u{1F4CB} Form Data:",p),this.communityService.joinCommunityWithForm(t,e.id,p).subscribe({next:O=>{console.log("\u2705 Join request submitted successfully:",O);let x=this.groups.find(E=>E.id===e.id);x&&(x.userMembershipStatus="pending"),this.closeJoinFormModal(),this.isError=!1,this.successTitle="Request Submitted!",this.successMessage=`Your request to join "${n}" has been submitted. The admin will review your request and get back to you soon.`,this.showSuccessModal=!0},error:O=>{console.error("\u274C Error submitting join request:",O),this.closeJoinFormModal(),this.isError=!0,this.successTitle="Submission Failed";let x="Unable to submit your request. Please try again.";O.error?.detail?typeof O.error.detail=="string"?x=O.error.detail:Array.isArray(O.error.detail)&&(x=O.error.detail.map(E=>E.msg).join(", ")):O.error?.message&&(x=O.error.message),this.successMessage=x,this.showSuccessModal=!0}})}getTimeAgo(t){let e=Math.floor((new Date().getTime()-t.getTime())/1e3);if(e<60)return"Just now";let n=Math.floor(e/60);if(n<60)return`${n}m ago`;let a=Math.floor(n/60);if(a<24)return`${a}h ago`;let p=Math.floor(a/24);if(p===1)return"Yesterday";if(p<7)return`${p}d ago`;let O=Math.floor(p/7);return O<4?`${O}w ago`:`${Math.floor(p/30)}mo ago`}parseFloat(t){return parseFloat(t)}toggleLike(t){t.isLiked=!t.isLiked,t.likes+=t.isLiked?1:-1}openComments(t){}openGroup(t){this.router.navigate(["customers","group-details",t.id])}goBack(){let t=this.router.url;this.backHandleService.backActionTrigger(t)}retryLoading(){this.loadGroupCategories()}refreshUpdates(){this.loadCommunitiesAndUpdates()}openAddGroupModal(){this.showAddGroupModal=!0,this.selectedLocationData={},this.groupForm.reset({name:"",description:"",categoryId:"",address:"",type:"direct_join",joinFee:"0.00",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",isPremium:!1,agreeToTerms:!1})}closeAddGroupModal(){this.showAddGroupModal=!1,this.selectedLocationData={},this.groupForm.reset(),this.removeGroupIcon()}onGroupIconSelected(t){let e=t.target,n=e.files&&e.files[0];if(!n)return;this.selectedGroupIconFile=n;let a=new FileReader;a.onload=p=>{this.groupIconPreviewUrl=p.target.result},a.readAsDataURL(n)}uploadGroupIcon(){return ne(this,null,function*(){if(!this.selectedGroupIconFile)return;if(!this.currentUserId){console.error("\u274C User ID not found");return}let t=new FormData;t.append("files",this.selectedGroupIconFile);let e=new R().set("user_id",String(this.currentUserId));this.isUploadingGroupIcon=!0,this.groupIconUrl="";try{let a=(yield this.http.post("upload-images",t,{params:e}).toPromise())?.urls||[];a.length>0&&(this.groupIconUrl=a[0])}catch(n){console.error("\u274C Error uploading group icon:",n),this.groupIconUrl=""}finally{this.isUploadingGroupIcon=!1}})}removeGroupIcon(){this.selectedGroupIconFile=null,this.groupIconPreviewUrl=null,this.groupIconUrl=""}selectGroupLocation(){return ne(this,null,function*(){try{let t=yield this.locationBridge.requestAddressSelection("select");if(t){if(t.latlong){let[e,n]=t.latlong.split(",").map(Number);!isNaN(e)&&!isNaN(n)&&(this.selectedLocationData.latitude=e.toString(),this.selectedLocationData.longitude=n.toString(),console.log("\u{1F4CD} Location coordinates stored:",this.selectedLocationData))}t.line1?this.groupForm.get("address")?.setValue(t.line1):t.line2&&this.groupForm.get("address")?.setValue(t.line2),this.platform.isNativeWebView&&this.webviewService.passActionToRN({action:fe.ACTIONS.mapView,value:fe.MapViewAction.AddressMap,mapPage:fe.MapPage.KYC})}}catch(t){console.error("[AnnouncementsComponent] Failed to select location:",t),this.platform.isNativeWebView&&this.webviewService.passActionToRN({action:fe.ACTIONS.mapView,value:fe.MapViewAction.AddressMap,mapPage:fe.MapPage.KYC})}})}submitGroup(){return ne(this,null,function*(){if(this.groupForm.valid){let t=this.groupForm.value,e=this.authService.getUserId();if(!e){console.error("\u274C User ID not found in AuthService"),this.closeAddGroupModal(),this.isError=!0,this.successTitle="Error",this.successMessage="Unable to identify user. Please try again.",this.showSuccessModal=!0;return}this.selectedGroupIconFile&&!this.groupIconUrl&&(yield this.uploadGroupIcon());let n={name:t.name,description:t.description,category_id:parseInt(t.categoryId),address:t.address,type:t.type,join_fee:t.joinFee||"0.00",color:t.color,is_premium:t.isPremium};this.selectedLocationData.latitude&&this.selectedLocationData.latitude.trim()!==""&&(n.latitude=this.selectedLocationData.latitude),this.selectedLocationData.longitude&&this.selectedLocationData.longitude.trim()!==""&&(n.longitude=this.selectedLocationData.longitude),this.groupIconUrl&&(n.group_icon=this.groupIconUrl),console.log("\u{1F680} Creating community with data:",n),console.log("\u{1F464} Created by user ID:",e),console.log("\u{1F4CD} Location data:",this.selectedLocationData),console.log("\u{1F5BC}\uFE0F Group icon URL:",this.groupIconUrl),this.communityService.createCommunity(n,e).subscribe({next:a=>{if(console.log("\u2705 Community created successfully:",a),a.is_approved){let p=this.mapCommunityToGroup(a);p.isCreatedByUser=!0,p.userMembershipStatus="approved",this.groups.push(p),this.updateCategoryGroupCounts()}this.closeAddGroupModal(),this.isError=!1,this.successTitle="Group Created!",a.is_approved?this.successMessage=`"${a.name}" has been created and is now live.`:this.successMessage=`"${a.name}" has been created and is pending approval.`,this.showSuccessModal=!0},error:a=>{console.error("\u274C Error creating community:",a),console.error("Error details:",a.error),this.closeAddGroupModal(),this.isError=!0,this.successTitle="Creation Failed";let p="Unable to create group. Please try again.";a.error?.detail&&(Array.isArray(a.error.detail)?p=a.error.detail.map(O=>`${O.loc.join(".")}: ${O.msg}`).join(", "):p=a.error.detail),this.successMessage=p,this.showSuccessModal=!0}})}else Object.keys(this.groupForm.controls).forEach(t=>{this.groupForm.get(t)?.markAsTouched()})})}closeSuccessModal(){this.showSuccessModal=!1,this.successTitle="",this.successMessage="",this.isError=!1}static \u0275fac=function(e){return new(e||o)(P(T),P(ye),P(qe),P(Ee),P(I),P(Ne),P(pt),P(ke),P(rt),P(Se))};static \u0275cmp=w({type:o,selectors:[["app-announcements"]],decls:20,vars:9,consts:[["groupIconInput",""],[1,"announcements-page"],[1,"header"],[1,"back-btn",3,"click"],[1,"pi","pi-arrow-left"],[1,"create-group-btn",3,"click"],[1,"pi","pi-plus"],[1,"tabs"],[1,"tab",3,"click"],["class","groups-list",4,"ngIf"],["class","announcements-list",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","toast-overlay",3,"click",4,"ngIf"],[1,"groups-list"],["class","loading",4,"ngIf"],["class","empty",4,"ngIf"],[4,"ngIf"],[1,"loading"],[1,"spinner"],[1,"empty"],[1,"pi","pi-exclamation-triangle"],[1,"retry-btn",3,"click"],[1,"pi","pi-refresh"],[1,"pi","pi-inbox"],["class","category-section",4,"ngFor","ngForOf"],[1,"category-section"],[1,"category-header",3,"click"],[1,"category-info"],[1,"category-icon"],["alt","Category icon","class","category-icon-img",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"category-content"],[1,"pi","chevron-icon",3,"ngClass"],["class","groups-container",4,"ngIf"],["alt","Category icon",1,"category-icon-img",3,"src"],[1,"groups-container"],["class","empty-category",4,"ngIf"],["class","group-card",3,"click",4,"ngFor","ngForOf"],[1,"empty-category"],[1,"pi","pi-info-circle"],[1,"group-card",3,"click"],[1,"group-icon"],["alt","Group icon","class","group-icon-img",3,"src",4,"ngIf"],["class","pi pi-users",4,"ngIf"],[1,"group-content"],[1,"group-header"],["class","group-badge premium",4,"ngIf"],[1,"group-description"],[1,"group-footer"],[1,"members-count"],[1,"pi","pi-users"],[1,"last-message"],[3,"click"],["class","status-badge member",4,"ngIf"],["class","status-badge pending",4,"ngIf"],["class","join-btn",3,"click",4,"ngIf"],["alt","Group icon",1,"group-icon-img",3,"src"],[1,"group-badge","premium"],[1,"pi","pi-money-bill"],[1,"status-badge","member"],[1,"pi","pi-check-circle"],[1,"status-badge","pending"],[1,"pi","pi-clock"],[1,"join-btn",3,"click"],[1,"announcements-list"],["class","refresh-section",4,"ngIf"],[2,"font-size","12px","color","#bbb","margin-top","8px"],[1,"refresh-section"],[1,"refresh-btn",3,"click"],["class","announcement-card",4,"ngFor","ngForOf"],[1,"announcement-card"],[1,"announcement-header"],[1,"announcement-info"],[1,"announcement-meta"],[1,"community-badge"],[1,"time"],["class","announcement-images",4,"ngIf"],[1,"announcement-message"],[1,"card-footer"],[1,"actions"],[1,"action",3,"click"],[1,"pi"],[1,"pi","pi-comment"],[1,"action"],[1,"pi","pi-share-alt"],[1,"announcement-images"],["alt","Update image","class","announcement-image",3,"src",4,"ngFor","ngForOf"],["alt","Update image",1,"announcement-image",3,"src"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"pi","pi-times"],[1,"info-banner"],[3,"formGroup"],[1,"form-group"],[2,"color","#e74c3c"],["type","text","formControlName","name","placeholder","Enter group name"],["class","error-message",4,"ngIf"],["formControlName","description","placeholder","Describe your group","rows","4"],[1,"image-upload-section"],["type","file","accept","image/*",2,"display","none",3,"change"],["type","button","class","upload-btn",3,"click",4,"ngIf"],["class","image-preview-container",4,"ngIf"],["class","upload-progress",4,"ngIf"],["placeholder","Select a category",3,"selectedValueChange","options","selectedValue"],["type","text","formControlName","address","placeholder","Select location below","readonly",""],[1,"location-detected",3,"click"],[1,"map-pin-icon"],["placeholder","Select Group Type",3,"selectedValueChange","options","selectedValue"],["class","form-group",4,"ngIf"],[1,"form-group","checkbox-group"],["type","checkbox","formControlName","isPremium"],["type","checkbox","formControlName","agreeToTerms"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","button",1,"btn-primary",3,"click","disabled"],[1,"pi","pi-check"],[1,"error-message"],["type","button",1,"upload-btn",3,"click"],[1,"pi","pi-upload"],[1,"image-preview-container"],["alt","Group icon preview",1,"image-preview",3,"src"],["type","button","title","Remove image",1,"remove-image-btn",3,"click"],[1,"upload-progress"],[1,"spinner-small"],["type","number","formControlName","joinFee","placeholder","0.00","step","0.01","min","0"],["type","text","formControlName","fullName","placeholder","Enter your full name"],["type","tel","formControlName","phone","placeholder","Enter your phone number"],["formControlName","reason","placeholder","Write a brief message for the admin","rows","4"],["type","button",1,"btn-primary",3,"click"],[1,"pi","pi-send"],[1,"toast-overlay",3,"click"],[1,"toast-modal",3,"click"],[1,"toast-close",3,"click"],[1,"toast-icon"]],template:function(e,n){e&1&&(i(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return n.goBack()}),m(3,"i",4),r(),i(4,"h1"),s(5,"Communities"),r(),i(6,"button",5),u("click",function(){return n.openAddGroupModal()}),m(7,"i",6),i(8,"span"),s(9,"Create Group"),r()()(),i(10,"div",7)(11,"button",8),u("click",function(){return n.activeTab="groups"}),s(12," Groups "),r(),i(13,"button",8),u("click",function(){return n.activeTab="updates"}),s(14," Updates "),r()(),_(15,Ga,5,4,"div",9)(16,Qa,5,4,"div",10),r(),_(17,cc,79,23,"div",11)(18,sc,30,2,"div",11)(19,dc,10,8,"div",12)),e&2&&(c(11),F("active",n.activeTab==="groups"),c(2),F("active",n.activeTab==="updates"),c(2),d("ngIf",n.activeTab==="groups"),c(),d("ngIf",n.activeTab==="updates"),c(),d("ngIf",n.showAddGroupModal),c(),d("ngIf",n.showJoinFormModal),c(),d("ngIf",n.showSuccessModal))},dependencies:[Y,D,k,je,Oe,Ue,dn,le,ze,at,Re,Ve,jn],styles:['@charset "UTF-8";.announcements-page[_ngcontent-%COMP%]{min-height:100vh;background:#f5f7fa;padding-bottom:80px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px;background:#fff;box-shadow:0 2px 8px #0000001a;position:sticky;top:0;z-index:100}.header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:#f0f0f0;border:none;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s}.header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#333;font-size:18px}.header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0;transform:scale(1.05)}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:0;color:#333;flex:1;text-align:center}.header[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#5d157c;border:none;padding:10px 16px;border-radius:20px;color:#fff;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .3s;font-size:14px}.header[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.header[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #5d157c66;background:#4a1163}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;padding:0 20px;margin-top:10px;background:#fff;border-bottom:2px solid #f0f0f0}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;padding:15px 20px;color:#999;font-weight:600;cursor:pointer;position:relative;transition:all .3s}.tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#5d157c}.tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:#5d157c}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{color:#5d157c}.groups-list[_ngcontent-%COMP%], .announcements-list[_ngcontent-%COMP%]{padding:20px}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;gap:16px}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #f0f0f0;border-top-color:#5d157c;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;gap:12px}.empty[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#ddd}.empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:16px;text-align:center;margin:0}.empty[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{margin-top:16px;background:#5d157c;border:none;padding:12px 24px;border-radius:24px;color:#fff;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .3s}.empty[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #5d157c66;background:#4a1163}.category-section[_ngcontent-%COMP%]{margin-bottom:20px}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:12px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;transition:all .3s;box-shadow:0 2px 8px #00000014}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001f;transform:translateY(-2px)}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#fff}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]   .category-icon-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:12px}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:12px;color:#999}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .chevron-icon[_ngcontent-%COMP%]{font-size:20px;color:#999;transition:transform .3s,color .3s}.category-header[_ngcontent-%COMP%]:hover   .category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .chevron-icon[_ngcontent-%COMP%]{color:#5d157c}.category-section[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]{margin-top:12px;display:flex;flex-direction:column;gap:12px}.category-section[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .empty-category[_ngcontent-%COMP%]{padding:30px;text-align:center;background:#fff;border-radius:12px;border:1px dashed #e0e0e0}.category-section[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .empty-category[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#ddd;margin-bottom:12px}.category-section[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .empty-category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999;font-size:14px;margin:0}.group-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;display:flex;gap:12px;align-items:flex-start;cursor:pointer;transition:all .3s;box-shadow:0 2px 8px #00000014}.group-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001f;transform:translateY(-2px)}.group-card[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.group-card[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;color:#fff}.group-card[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]{flex:1;min-width:0}.group-card[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.group-card[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.group-card[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-badge.premium[_ngcontent-%COMP%]{background:#f6d365;color:#fff;padding:2px 8px;border-radius:8px;font-size:10px;font-weight:700;text-transform:uppercase}.group-card[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]   .group-description[_ngcontent-%COMP%]{margin:0 0 12px;font-size:13px;color:#666;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.group-card[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]   .group-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap;font-size:12px;color:#999}.group-card[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]   .group-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.group-card[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]   .group-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.group-card[_ngcontent-%COMP%]   .group-content[_ngcontent-%COMP%]   .group-footer[_ngcontent-%COMP%]   .members-count[_ngcontent-%COMP%]{color:#5d157c;font-weight:600}.group-card[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-size:12px;font-weight:600;white-space:nowrap;display:inline-flex;align-items:center;gap:6px}.group-card[_ngcontent-%COMP%]   .status-badge.member[_ngcontent-%COMP%]{background:#2ed5731a;color:#2ed573;border:1px solid rgba(46,213,115,.3)}.group-card[_ngcontent-%COMP%]   .status-badge.pending[_ngcontent-%COMP%]{background:#ffb8001a;color:#ffb800;border:1px solid rgba(255,184,0,.3)}.group-card[_ngcontent-%COMP%]   .join-btn[_ngcontent-%COMP%]{background:#5d157c;border:none;padding:8px 20px;border-radius:20px;color:#fff;font-weight:600;font-size:13px;cursor:pointer;transition:all .3s;white-space:nowrap}.group-card[_ngcontent-%COMP%]   .join-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 12px #5d157c66;background:#4a1163}.group-card[_ngcontent-%COMP%]   .join-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.refresh-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:16px}.refresh-section[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;padding:10px 16px;border-radius:20px;color:#5d157c;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .3s;font-size:14px}.refresh-section[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.refresh-section[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{background:#f5f7fa;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.announcement-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;margin-bottom:16px;box-shadow:0 2px 8px #00000014;transition:all .3s}.announcement-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001f;transform:translateY(-2px)}.announcement-card[_ngcontent-%COMP%]   .announcement-header[_ngcontent-%COMP%]{margin-bottom:16px}.announcement-card[_ngcontent-%COMP%]   .announcement-header[_ngcontent-%COMP%]   .announcement-info[_ngcontent-%COMP%]   .announcement-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:12px;font-size:12px}.announcement-card[_ngcontent-%COMP%]   .announcement-header[_ngcontent-%COMP%]   .announcement-info[_ngcontent-%COMP%]   .announcement-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.announcement-card[_ngcontent-%COMP%]   .announcement-header[_ngcontent-%COMP%]   .announcement-info[_ngcontent-%COMP%]   .announcement-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.announcement-card[_ngcontent-%COMP%]   .announcement-header[_ngcontent-%COMP%]   .announcement-info[_ngcontent-%COMP%]   .announcement-meta[_ngcontent-%COMP%]   .community-badge[_ngcontent-%COMP%]{background:#5d157c1a;padding:8px 14px;border-radius:16px;color:#5d157c;font-weight:700;font-size:14px;border:1px solid rgba(93,21,124,.2)}.announcement-card[_ngcontent-%COMP%]   .announcement-header[_ngcontent-%COMP%]   .announcement-info[_ngcontent-%COMP%]   .announcement-meta[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#999;font-weight:500}.announcement-card[_ngcontent-%COMP%]   .announcement-images[_ngcontent-%COMP%]{margin:16px 0;display:grid;gap:12px}.announcement-card[_ngcontent-%COMP%]   .announcement-images[_ngcontent-%COMP%]:has(.announcement-image:only-child){grid-template-columns:1fr}.announcement-card[_ngcontent-%COMP%]   .announcement-images[_ngcontent-%COMP%]:has(.announcement-image:only-child)   .announcement-image[_ngcontent-%COMP%]{height:300px;max-height:400px}.announcement-card[_ngcontent-%COMP%]   .announcement-images[_ngcontent-%COMP%]:has(.announcement-image:nth-child(2):last-child){grid-template-columns:repeat(2,1fr)}.announcement-card[_ngcontent-%COMP%]   .announcement-images[_ngcontent-%COMP%]:has(.announcement-image:nth-child(2):last-child)   .announcement-image[_ngcontent-%COMP%]{height:200px}.announcement-card[_ngcontent-%COMP%]   .announcement-images[_ngcontent-%COMP%]:has(.announcement-image:nth-child(3)){grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}.announcement-card[_ngcontent-%COMP%]   .announcement-images[_ngcontent-%COMP%]:has(.announcement-image:nth-child(3))   .announcement-image[_ngcontent-%COMP%]{height:150px}.announcement-card[_ngcontent-%COMP%]   .announcement-images[_ngcontent-%COMP%]   .announcement-image[_ngcontent-%COMP%]{width:100%;object-fit:cover;border-radius:12px;cursor:pointer;transition:all .3s}.announcement-card[_ngcontent-%COMP%]   .announcement-images[_ngcontent-%COMP%]   .announcement-image[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 20px #00000026}.announcement-card[_ngcontent-%COMP%]   .announcement-message[_ngcontent-%COMP%]{margin:16px 0;font-size:15px;color:#333;line-height:1.6;word-wrap:break-word}.announcement-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:20px}.announcement-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{background:transparent;border:none;display:flex;align-items:center;gap:8px;color:#999;cursor:pointer;transition:all .3s;padding:8px 12px;border-radius:20px;font-size:13px}.announcement-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.announcement-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover{background:#f5f7fa;color:#5d157c}.announcement-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action.active[_ngcontent-%COMP%]{color:#e74c3c}.announcement-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartbeat .3s}@keyframes _ngcontent-%COMP%_heartbeat{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;animation:_ngcontent-%COMP%_fadeIn .3s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:20px;max-width:500px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f5f7fa}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ddd;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ccc}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px;border-bottom:1px solid #f0f0f0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:700;color:#333}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#f5f7fa;border:none;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#666;font-size:18px}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0;transform:rotate(90deg)}.info-banner[_ngcontent-%COMP%]{background:#5d157c14;border:1px solid rgba(93,21,124,.2);border-radius:12px;padding:12px 16px;margin:20px 24px;display:flex;gap:12px;align-items:flex-start}.info-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#5d157c;font-size:18px;margin-top:2px}.info-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#666;line-height:1.5}form[_ngcontent-%COMP%]{padding:0 24px 24px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-size:14px;font-weight:600;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;background:#f5f7fa;border:1px solid #e0e0e0;border-radius:10px;padding:12px 16px;color:#333;font-size:14px;transition:all .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#999}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#5d157c;background:#fff;box-shadow:0 0 0 3px #5d157c1a}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]{border-color:#e74c3c}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px;font-family:inherit}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;margin-top:6px;font-size:12px;color:#e74c3c}.form-group.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer}.form-group.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;cursor:pointer;accent-color:#5d157c}.form-group.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox].error[_ngcontent-%COMP%]{outline:2px solid #e74c3c}.form-group.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#666}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.location-detected[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 16px;background-color:#f9f2fd;border:1px solid rgba(93,21,124,.2);border-radius:12px;margin-bottom:20px;font-weight:600;color:#5d157c;cursor:pointer;transition:all .3s ease}.location-detected[_ngcontent-%COMP%]   .map-pin-icon[_ngcontent-%COMP%]{font-size:18px;color:#5d157c}.location-detected[_ngcontent-%COMP%]   .map-pin-icon[_ngcontent-%COMP%]:before{content:"\\1f4cd";font-size:20px}.location-detected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:14px}.location-detected[_ngcontent-%COMP%]:hover{background-color:#5d157c1f;border-color:#5d157c;transform:translateY(-1px);box-shadow:0 4px 12px #5d157c33}.location-detected[_ngcontent-%COMP%]:active{transform:translateY(0)}.image-upload-section[_ngcontent-%COMP%]   .upload-btn[_ngcontent-%COMP%]{width:100%;background:#f5f7fa;border:2px dashed #5d157c;border-radius:12px;padding:20px;color:#5d157c;font-weight:600;display:flex;align-items:center;justify-content:center;gap:10px;cursor:pointer;transition:all .3s}.image-upload-section[_ngcontent-%COMP%]   .upload-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.image-upload-section[_ngcontent-%COMP%]   .upload-btn[_ngcontent-%COMP%]:hover{background:#5d157c14;border-color:#4a1163;transform:translateY(-2px)}.image-upload-section[_ngcontent-%COMP%]   .image-preview-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:200px;margin:0 auto}.image-upload-section[_ngcontent-%COMP%]   .image-preview-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:12px;border:2px solid #e0e0e0}.image-upload-section[_ngcontent-%COMP%]   .image-preview-container[_ngcontent-%COMP%]   .remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#e74c3ce6;border:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s}.image-upload-section[_ngcontent-%COMP%]   .image-preview-container[_ngcontent-%COMP%]   .remove-image-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:16px}.image-upload-section[_ngcontent-%COMP%]   .image-preview-container[_ngcontent-%COMP%]   .remove-image-btn[_ngcontent-%COMP%]:hover{background:#e74c3c;transform:scale(1.1)}.image-upload-section[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;padding:16px;background:#f5f7fa;border-radius:12px;color:#5d157c;font-weight:600}.image-upload-section[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .spinner-small[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid #f0f0f0;border-top-color:#5d157c;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.group-icon-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:12px}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:24px;padding-top:20px;border-top:1px solid #f0f0f0}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:14px 24px;border-radius:12px;font-weight:600;font-size:14px;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:8px;border:none}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#f5f7fa;color:#666;border:1px solid #e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#5d157c;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 16px #5d157c66;background:#4a1163}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.toast-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:2000;animation:_ngcontent-%COMP%_fadeIn .3s}.toast-modal[_ngcontent-%COMP%]{background:#2ed573;border-radius:20px;padding:32px;max-width:400px;width:90%;text-align:center;position:relative;animation:_ngcontent-%COMP%_slideUp .3s;box-shadow:0 20px 60px #0000004d}.toast-modal.error[_ngcontent-%COMP%]{background:#e74c3c}.toast-modal[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:#fff3;border:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s}.toast-modal[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:16px}.toast-modal[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.toast-modal[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{margin-bottom:16px}.toast-modal[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:64px;color:#fff;animation:_ngcontent-%COMP%_scaleIn .5s}.toast-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:22px;font-weight:700;color:#fff}.toast-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#fffffff2;line-height:1.6}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0)}to{transform:scale(1)}}@media (max-width: 768px){.header[_ngcontent-%COMP%]{padding:16px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}.header[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px}.header[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.announcement-images[_ngcontent-%COMP%]:has(.announcement-image:nth-child(3)){grid-template-columns:repeat(2,1fr)!important}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-content[_ngcontent-%COMP%]{max-width:100%;margin:10px}}']})};function lc(o,t){if(o&1&&m(0,"img",15),o&2){let e=l();d("src",e.group==null?null:e.group.group_icon,U)}}function pc(o,t){o&1&&m(0,"i",16)}function mc(o,t){o&1&&(i(0,"div",17),m(1,"div",18),r())}function gc(o,t){if(o&1){let e=h();i(0,"div",19)(1,"div",20)(2,"div",21),m(3,"i",22),r(),i(4,"h3"),s(5),r(),i(6,"p"),s(7),r(),i(8,"button",23),u("click",function(){f(e);let a=l();return C(a.requestToJoin())}),m(9,"i",24),s(10," Request to Join "),r()()()}if(o&2){let e=l();c(5),v("Join ",e.group==null?null:e.group.name,""),c(2),g(e.group==null?null:e.group.description)}}function uc(o,t){o&1&&(i(0,"div",25)(1,"div",26)(2,"div",27),m(3,"i",28),r(),i(4,"h3"),s(5,"Request Pending"),r(),i(6,"p"),s(7,"Your request to join this group is pending admin approval."),r(),i(8,"div",29),m(9,"i",30),i(10,"span"),s(11,"Waiting for Approval"),r()()()())}function _c(o,t){if(o&1){let e=h();i(0,"div",35)(1,"button",36),u("click",function(){f(e);let a=l(2);return C(a.openMessageModal())}),m(2,"i",37),i(3,"span"),s(4,"Send Announcement to Group"),r()()()}}function fc(o,t){o&1&&(i(0,"div",17),m(1,"div",18),r())}function Cc(o,t){o&1&&(i(0,"div",56),m(1,"i",57),i(2,"span"),s(3,"Pinned"),r()())}function bc(o,t){if(o&1){let e=h();i(0,"button",58),u("click",function(){f(e);let a=l().$implicit,p=l(2);return C(p.togglePinMessage(a))}),m(1,"i",57),r()}if(o&2){let e=l().$implicit;F("active",e.isPinned),d("title",e.isPinned?"Unpin message":"Pin message")}}function Mc(o,t){if(o&1){let e=h();i(0,"button",59),u("click",function(){f(e);let a=l().$implicit,p=l(2);return C(p.deleteMessage(a))}),m(1,"i",60),r()}}function Oc(o,t){if(o&1&&(i(0,"p",61),s(1),r()),o&2){let e=l().$implicit;c(),v(" ",e.description," ")}}function Pc(o,t){o&1&&(i(0,"p",62)(1,"i"),s(2,"No message content"),r()())}function vc(o,t){if(o&1&&(i(0,"div",63),m(1,"img",64),r()),o&2){let e=l().$implicit;c(),d("src",e.image,U)}}function hc(o,t){if(o&1){let e=h();i(0,"div",38),_(1,Cc,4,0,"div",39),i(2,"div",40)(3,"div",41),m(4,"i",42),i(5,"span"),s(6,"Admin"),r()(),i(7,"div",43),_(8,bc,2,3,"button",44)(9,Mc,2,0,"button",45),r()(),_(10,Oc,2,1,"p",46)(11,Pc,3,0,"p",47)(12,vc,2,1,"div",48),i(13,"div",49)(14,"span",50),s(15),r(),i(16,"div",51)(17,"button",52),u("click",function(){let a=f(e).$implicit,p=l(2);return C(p.toggleLike(a))}),m(18,"i",53),i(19,"span"),s(20),r()(),i(21,"button",54),m(22,"i",55),i(23,"span"),s(24),r()()()()()}if(o&2){let e=t.$implicit,n=l(2);F("pinned",e.isPinned),c(),d("ngIf",e.isPinned),c(7),d("ngIf",n.isAdmin),c(),d("ngIf",n.isAdmin),c(),d("ngIf",e.description),c(),d("ngIf",!e.description),c(),d("ngIf",e.image),c(3),g(n.getTimeAgo(e.date)),c(2),F("active",e.isLiked),c(),d("ngClass",e.isLiked?"pi-heart-fill":"pi-heart"),c(2),g(e.likes),c(4),g(e.views)}}function xc(o,t){if(o&1&&(i(0,"div",65),m(1,"i",66),i(2,"p"),s(3,"No announcements yet"),r(),i(4,"span"),s(5),r()()),o&2){let e=l(2);c(5),v(" ",e.isAdmin?"Send your first announcement to the group":"Check back later for updates"," ")}}function yc(o,t){if(o&1&&(i(0,"div",31),_(1,_c,5,0,"div",32)(2,fc,2,0,"div",10)(3,hc,25,14,"div",33)(4,xc,6,1,"div",34),r()),o&2){let e=l();c(),d("ngIf",e.isAdmin),c(),d("ngIf",e.isLoadingMessages),c(),d("ngForOf",e.announcements),c(),d("ngIf",!e.isLoadingMessages&&e.announcements.length===0)}}function wc(o,t){if(o&1&&m(0,"img",80),o&2){let e=l(2);d("src",e.group==null?null:e.group.group_icon,U)}}function Sc(o,t){o&1&&m(0,"i",16)}function kc(o,t){o&1&&(i(0,"div",81),m(1,"div",18),r())}function Ic(o,t){if(o&1){let e=h();i(0,"div",88)(1,"div",89)(2,"div",90),m(3,"i",91),r(),i(4,"div",92)(5,"h4"),s(6),r(),i(7,"p"),s(8),r(),i(9,"span",93),s(10),r()()(),i(11,"div",94)(12,"button",95),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.openMemberDetails(a))}),m(13,"i",96),r(),i(14,"button",97),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.approveMember(a))}),m(15,"i",98),s(16," Approve "),r(),i(17,"button",99),u("click",function(){let a=f(e).$implicit,p=l(3);return C(p.rejectMember(a))}),m(18,"i",71),s(19," Reject "),r()()()}if(o&2){let e=t.$implicit,n=l(3);c(6),g(e.username||e.name),c(2),g(e.email),c(2),g(n.getTimeAgo(e.joinedDate))}}function Ec(o,t){if(o&1){let e=h();i(0,"div",82)(1,"h3"),m(2,"i",83),s(3),r(),i(4,"div",84),m(5,"i",85),i(6,"input",86),B("ngModelChange",function(a){f(e);let p=l(2);return N(p.searchPendingMember,a)||(p.searchPendingMember=a),C(a)}),r()(),_(7,Ic,20,3,"div",87),r()}if(o&2){let e=l(2);c(3),v(" Pending Requests (",e.pendingMembers.length,") "),c(3),L("ngModel",e.searchPendingMember),c(),d("ngForOf",e.filteredPendingMembers())}}function Tc(o,t){o&1&&(i(0,"span",110),m(1,"i",111),s(2," Admin "),r())}function Fc(o,t){o&1&&(i(0,"span",112),s(1," Member "),r())}function Dc(o,t){if(o&1&&(i(0,"div",103)(1,"div",104),m(2,"i",91),r(),i(3,"div",105)(4,"h4"),s(5),r(),i(6,"p"),s(7),r(),i(8,"span",106),s(9),r()(),i(10,"div",107),_(11,Tc,3,0,"span",108)(12,Fc,2,0,"span",109),r()()),o&2){let e=t.$implicit,n=l(3);c(5),g(e.username||e.name),c(2),g(e.email),c(2),v("Joined ",n.getTimeAgo(e.joinedDate),""),c(2),d("ngIf",e.role==="admin"),c(),d("ngIf",e.role==="member")}}function Ac(o,t){o&1&&(i(0,"div",65),m(1,"i",16),i(2,"p"),s(3,"No members found"),r()())}function zc(o,t){if(o&1){let e=h();i(0,"div",100)(1,"h3"),s(2),r(),i(3,"div",84),m(4,"i",85),i(5,"input",101),B("ngModelChange",function(a){f(e);let p=l(2);return N(p.searchMember,a)||(p.searchMember=a),C(a)}),r()(),_(6,Dc,13,5,"div",102)(7,Ac,4,0,"div",34),r()}if(o&2){let e=l(2);c(2),v("Members (",e.approvedMembers.length,")"),c(3),L("ngModel",e.searchMember),c(),d("ngForOf",e.filteredMembers()),c(),d("ngIf",e.filteredMembers().length===0)}}function jc(o,t){if(o&1){let e=h();i(0,"div",67),u("click",function(){f(e);let a=l();return C(a.closeMembersModal())}),i(1,"div",68),u("click",function(a){return f(e),C(a.stopPropagation())}),i(2,"div",69)(3,"h2"),s(4),r(),i(5,"button",70),u("click",function(){f(e);let a=l();return C(a.closeMembersModal())}),m(6,"i",71),r()(),i(7,"div",72)(8,"div",73)(9,"div",74),_(10,wc,1,1,"img",75)(11,Sc,1,0,"i",8),r(),i(12,"p",76),s(13),r()(),_(14,kc,2,0,"div",77)(15,Ec,8,3,"div",78)(16,zc,8,4,"div",79),r()()()}if(o&2){let e=l();c(4),g(e.group==null?null:e.group.name),c(5),Z("background",(e.group==null?null:e.group.color)||"#7b1fa2"),c(),d("ngIf",e.group==null?null:e.group.group_icon),c(),d("ngIf",!(e.group!=null&&e.group.group_icon)),c(2),g(e.group==null?null:e.group.description),c(),d("ngIf",e.isLoadingMembers),c(),d("ngIf",!e.isLoadingMembers&&e.isAdmin&&e.pendingMembers.length>0),c(),d("ngIf",!e.isLoadingMembers)}}function Uc(o,t){if(o&1){let e=h();i(0,"button",124),u("click",function(){f(e),l();let a=j(21);return C(a.click())}),m(1,"i",126),s(2," Choose Image "),r()}}function Rc(o,t){if(o&1){let e=h();i(0,"div",127),m(1,"img",128),i(2,"div",129)(3,"button",130),u("click",function(){f(e);let a=l(2);return C(a.uploadImage())}),s(4),r(),i(5,"button",124),u("click",function(){f(e);let a=l(2);return C(a.removeImage())}),m(6,"i",71),s(7," Remove "),r()()()}if(o&2){let e=l(2);c(),d("src",e.imagePreviewUrl,U),c(2),d("disabled",e.isUploadingImage||e.announcementImageUrls.length>0),c(),v(" ",e.isUploadingImage?"Uploading...":e.announcementImageUrls.length?"Uploaded":"Upload"," ")}}function Vc(o,t){if(o&1){let e=h();i(0,"div",67),u("click",function(){f(e);let a=l();return C(a.closeMessageModal())}),i(1,"div",113),u("click",function(a){return f(e),C(a.stopPropagation())}),i(2,"div",69)(3,"h2"),s(4,"Send Announcement"),r(),i(5,"button",70),u("click",function(){f(e);let a=l();return C(a.closeMessageModal())}),m(6,"i",71),r()(),i(7,"div",114),m(8,"i",96),i(9,"p"),s(10),r()(),i(11,"form",115),u("ngSubmit",function(){f(e);let a=l();return C(a.sendAnnouncement())}),i(12,"div",116)(13,"label",117),s(14,"Message"),r(),m(15,"textarea",118),r(),i(16,"div",116)(17,"label"),s(18,"Attach Image (Optional)"),r(),i(19,"div",119)(20,"input",120,0),u("change",function(a){f(e);let p=l();return C(p.onImageSelected(a))}),r(),_(22,Uc,3,0,"button",121)(23,Rc,8,3,"div",122),r()(),i(24,"div",123)(25,"button",124),u("click",function(){f(e);let a=l();return C(a.closeMessageModal())}),s(26," Cancel "),r(),i(27,"button",125),m(28,"i",37),s(29," Send Announcement "),r()()()()()}if(o&2){let e=l();c(10),v(" This announcement will be visible to all ",e.approvedMembers.length," members of this group. "),c(),d("formGroup",e.messageForm),c(11),d("ngIf",!e.imagePreviewUrl),c(),d("ngIf",e.imagePreviewUrl)}}function Lc(o,t){if(o&1){let e=h();i(0,"div",67),u("click",function(){f(e);let a=l();return C(a.closeSuccessModal())}),i(1,"div",131),u("click",function(a){return f(e),C(a.stopPropagation())}),i(2,"div",132),m(3,"i",133),r(),i(4,"h2"),s(5),r(),i(6,"button",134),u("click",function(){f(e);let a=l();return C(a.closeSuccessModal())}),s(7,"Got it!"),r()()()}if(o&2){let e=l();c(5),g(e.successMessage)}}function Nc(o,t){if(o&1){let e=h();i(0,"div",149)(1,"button",150),u("click",function(){f(e);let a=l(3);return a.approveMember(a.selectedMember),C(a.closeMemberDetails())}),m(2,"i",151),s(3," Approve "),r(),i(4,"button",152),u("click",function(){f(e);let a=l(3);return a.rejectMember(a.selectedMember),C(a.closeMemberDetails())}),m(5,"i",153),s(6," Reject "),r()()}}function Bc(o,t){if(o&1&&(i(0,"div",136)(1,"div",137)(2,"div",138),m(3,"i",139),r(),i(4,"h3",140),s(5),r(),i(6,"p",141),s(7),r()(),i(8,"div",142)(9,"span",143),s(10,"Status"),r(),i(11,"span",144),s(12),r()(),i(13,"div",142)(14,"span",143),s(15,"Role"),r(),i(16,"span",145),s(17),r()(),i(18,"div",142)(19,"span",143),s(20,"Joined Date"),r(),i(21,"span",146),s(22),b(23,"date"),r()(),i(24,"div",147)(25,"span",143),s(26,"User ID"),r(),i(27,"span",146),s(28),r()(),_(29,Nc,7,0,"div",148),r()),o&2){let e=l(2);c(5),v(" ",e.selectedMember.username||e.selectedMember.name," "),c(2),g(e.selectedMember.email),c(4),Z("background",e.selectedMember.status==="approved"?"#e8f5e9":e.selectedMember.status==="pending"?"#fff3cd":"#ffebee")("color",e.selectedMember.status==="approved"?"#2e7d32":e.selectedMember.status==="pending"?"#f57c00":"#c62828"),d("ngClass",e.selectedMember.status),c(),v(" ",e.selectedMember.status," "),c(5),g(e.selectedMember.role),c(5),g(J(23,12,e.selectedMember.joinedDate,"mediumDate")),c(6),v("#",e.selectedMember.userId,""),c(),d("ngIf",e.selectedMember.status==="pending")}}function Gc(o,t){if(o&1){let e=h();i(0,"div",67),u("click",function(){f(e);let a=l();return C(a.closeMemberDetails())}),i(1,"div",113),u("click",function(a){return f(e),C(a.stopPropagation())}),i(2,"div",69)(3,"h2"),s(4,"Member Details"),r(),i(5,"button",70),u("click",function(){f(e);let a=l();return C(a.closeMemberDetails())}),m(6,"i",71),r()(),_(7,Bc,30,15,"div",135),r()()}if(o&2){let e=l();c(7),d("ngIf",e.selectedMember)}}var jt=class o{constructor(t,e,n,a,p,O,x){this.router=t;this.route=e;this.fb=n;this.communityService=a;this.authService=p;this.http=O;this.backHandleService=x;this.messageForm=this.fb.group({message:[""]})}group=null;announcements=[];members=[];approvedMembers=[];pendingMembers=[];approvedMembersCount=0;isLoading=!1;isLoadingMessages=!1;isLoadingMembers=!1;groupId=null;isMember=!1;isAdmin=!1;joinRequested=!1;currentUserId=null;showMembersModal=!1;showMessageModal=!1;showSuccessModal=!1;showMemberDetailsModal=!1;successMessage="";searchMember="";searchPendingMember="";selectedMember=null;messageForm;selectedImageFile=null;imagePreviewUrl=null;announcementImageUrls=[];isUploadingImage=!1;uploadImagesUrl="upload-images";ngOnInit(){this.currentUserId=this.authService.getUserId(),this.route.params.subscribe(t=>{this.groupId=+t.id,this.groupId&&(this.loadGroupData(this.groupId),this.loadMembers(this.groupId),this.loadAnnouncements(this.groupId))}),this.registerBackAction()}ngOnDestroy(){this.cleanupBackAction()}registerBackAction(){let t=this.router.url;console.log("\u{1F519} [GroupDetails] Registering back action for URL:",t),[t,t.split("?")[0],"/customers/group-details"].forEach((n,a)=>{let p={id:`group-details-back-action-${a}-${Date.now()}`,actionType:"navigate",backNavigationUrl:"/customers/announcements",callback:()=>{},value:"",forPageUrl:n};this.backHandleService.backAction=this.backHandleService.backAction.filter(O=>!O.id.startsWith("group-details-back-action-")||O.forPageUrl!==n),this.backHandleService.backAction.push(p)})}cleanupBackAction(){console.log("\u{1F519} [GroupDetails] Cleaning up back actions"),this.backHandleService.backAction=this.backHandleService.backAction.filter(t=>!t.id.startsWith("group-details-back-action-"))}loadGroupData(t){this.isLoading=!0,this.communityService.getCommunityById(t).subscribe({next:e=>{this.group=e,this.isLoading=!1},error:()=>{this.isLoading=!1,this.router.navigate(["customers","announcements"])}})}loadMembers(t){this.isLoadingMembers=!0,this.communityService.getCommunityMembers(t,0,100).subscribe({next:e=>{this.members=e.map(n=>this.mapCommunityMemberToMember(n)),this.approvedMembers=this.members.filter(n=>n.status==="approved"),this.pendingMembers=this.members.filter(n=>n.status==="pending"),this.approvedMembersCount=this.approvedMembers.length,this.checkMembershipStatus(),this.isLoadingMembers=!1},error:()=>{this.members=[],this.approvedMembers=[],this.pendingMembers=[],this.approvedMembersCount=0,this.isLoadingMembers=!1}})}loadAnnouncements(t){this.isLoadingMessages=!0,this.communityService.getCommunityMessages(t,0,50).subscribe({next:e=>{this.announcements=e.map(n=>this.mapCommunityMessageToAnnouncement(n)).sort((n,a)=>n.isPinned&&!a.isPinned?-1:!n.isPinned&&a.isPinned?1:a.date.getTime()-n.date.getTime()),this.isLoadingMessages=!1},error:()=>{this.announcements=[],this.isLoadingMessages=!1}})}mapCommunityMemberToMember(t){let n=(t.role||(t.is_admin?"admin":"member"))==="admin"||t.is_admin;return{id:t.id,userId:t.user_id,name:t.user_name,username:t.username||t.username,email:t.user_email,role:n?"admin":"member",isAdmin:n,joinedDate:t.joined_at?new Date(t.joined_at):new Date(t.created_at),status:t.status}}mapCommunityMessageToAnnouncement(t){let e=t.content||t.message||"",n=t.image_url||(Array.isArray(t.image_urls)?t.image_urls[0]:void 0);return{id:t.id,title:t.title||"",description:e,date:new Date(t.created_at),likes:t.likes_count||0,views:t.views_count||0,isLiked:t.is_liked||!1,image:n,authorId:t.created_by,isPinned:t.is_pinned||!1,isExpanded:!1}}checkMembershipStatus(){if(!this.currentUserId){this.isMember=!1,this.isAdmin=!1,this.joinRequested=!1;return}let t=this.members.find(e=>e.userId===this.currentUserId);t?(this.isMember=t.status==="approved",this.isAdmin=t.isAdmin&&t.status==="approved",this.joinRequested=t.status==="pending"):(this.isMember=!1,this.isAdmin=!1,this.joinRequested=!1)}toggleReadMore(t){t.isExpanded=!t.isExpanded}requestToJoin(){if(!this.currentUserId||!this.groupId){this.successMessage="Unable to identify user or group. Please try again.",this.showSuccessModal=!0;return}this.communityService.joinCommunity(this.currentUserId,this.groupId).subscribe({next:t=>{this.joinRequested=!0,this.successMessage=t.message||"Your request to join this group has been sent successfully!",this.showSuccessModal=!0,this.groupId&&this.loadMembers(this.groupId)},error:t=>{let e="Unable to send join request. Please try again.";t.error?.detail&&(typeof t.error.detail=="string"?e=t.error.detail:Array.isArray(t.error.detail)&&(e=t.error.detail.map(n=>n.msg).join(", "))),this.successMessage=e,this.showSuccessModal=!0}})}approveMember(t){if(!this.currentUserId){this.successMessage="Unable to identify admin user. Please try again.",this.showSuccessModal=!0;return}this.communityService.approveMember(t.id,this.currentUserId).subscribe({next:e=>{this.groupId&&this.loadMembers(this.groupId),this.successMessage=e.message||`${t.name} has been approved!`,this.showSuccessModal=!0},error:()=>{this.successMessage="Unable to approve member. Please try again.",this.showSuccessModal=!0}})}rejectMember(t){if(!this.currentUserId){this.successMessage="Unable to identify admin user. Please try again.",this.showSuccessModal=!0;return}this.communityService.rejectMember(t.id,this.currentUserId).subscribe({next:e=>{this.groupId&&this.loadMembers(this.groupId),this.successMessage=e.message||`${t.name}'s request has been rejected.`,this.showSuccessModal=!0},error:()=>{this.successMessage="Unable to reject member. Please try again.",this.showSuccessModal=!0}})}togglePinMessage(t){if(!this.isAdmin){this.successMessage="Only admins can pin messages.",this.showSuccessModal=!0;return}let e=!t.isPinned;t.isPinned=e,this.announcements.sort((n,a)=>n.isPinned&&!a.isPinned?-1:!n.isPinned&&a.isPinned?1:a.date.getTime()-n.date.getTime()),this.successMessage=e?"Message pinned successfully!":"Message unpinned successfully!",this.showSuccessModal=!0}deleteMessage(t){if(!this.isAdmin){this.successMessage="Only admins can delete messages.",this.showSuccessModal=!0;return}confirm("Are you sure you want to delete this announcement?")&&this.communityService.deleteMessage(t.id).subscribe({next:()=>{this.groupId&&this.loadAnnouncements(this.groupId),this.successMessage="Announcement deleted successfully!",this.showSuccessModal=!0},error:()=>{this.successMessage="Unable to delete announcement. Please try again.",this.showSuccessModal=!0}})}onImageSelected(t){let e=t.target,n=e.files&&e.files[0];if(!n)return;this.selectedImageFile=n;let a=new FileReader;a.onload=p=>{this.imagePreviewUrl=p.target.result},a.readAsDataURL(n)}uploadImage(){return ne(this,null,function*(){if(!this.selectedImageFile)return;if(!this.currentUserId){this.successMessage="Unable to identify user. Please try again.",this.showSuccessModal=!0;return}let t=new FormData;t.append("files",this.selectedImageFile);let e=new R().set("user_id",String(this.currentUserId));this.isUploadingImage=!0,this.announcementImageUrls=[];try{let a=(yield this.http.post(this.uploadImagesUrl,t,{params:e}).toPromise())?.urls||[];this.announcementImageUrls=a}catch(n){console.error("Error uploading image:",n),this.successMessage="Unable to upload image. Please try again.",this.showSuccessModal=!0,this.announcementImageUrls=[]}finally{this.isUploadingImage=!1}})}removeImage(){this.selectedImageFile=null,this.imagePreviewUrl=null,this.announcementImageUrls=[]}openMembersModal(){this.showMembersModal=!0}closeMembersModal(){this.showMembersModal=!1,this.searchMember=""}openMessageModal(){this.showMessageModal=!0,this.messageForm.reset(),this.removeImage()}closeMessageModal(){this.showMessageModal=!1,this.messageForm.reset(),this.removeImage()}sendAnnouncement(){return ne(this,null,function*(){if(!this.currentUserId||!this.groupId){this.successMessage="Unable to send message. Please try again.",this.showSuccessModal=!0;return}this.selectedImageFile&&this.announcementImageUrls.length===0&&(yield this.uploadImage());let t={message:this.messageForm.value.message||"",community_id:this.groupId,title:"",image_urls:this.announcementImageUrls,is_announcement:!0,is_pinned:!1};this.communityService.sendCommunityMessage(this.currentUserId,this.groupId,t).subscribe({next:()=>{this.groupId&&this.loadAnnouncements(this.groupId),this.closeMessageModal(),this.successMessage="Announcement sent successfully!",this.showSuccessModal=!0},error:e=>{let n="Unable to send announcement. Please try again.";e.error?.detail&&(typeof e.error.detail=="string"?n=e.error.detail:Array.isArray(e.error.detail)&&(n=e.error.detail.map(a=>a.msg).join(", "))),this.closeMessageModal(),this.successMessage=n,this.showSuccessModal=!0}})})}filteredMembers(){if(!this.searchMember)return this.approvedMembers;let t=this.searchMember.toLowerCase();return this.approvedMembers.filter(e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.username&&e.username.toLowerCase().includes(t))}filteredPendingMembers(){if(!this.searchPendingMember)return this.pendingMembers;let t=this.searchPendingMember.toLowerCase();return this.pendingMembers.filter(e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.username&&e.username.toLowerCase().includes(t))}openMemberDetails(t){this.selectedMember=t,this.showMemberDetailsModal=!0}closeMemberDetails(){this.selectedMember=null,this.showMemberDetailsModal=!1}toggleLike(t){if(!this.currentUserId)return;let e=t.isLiked;t.isLiked=!t.isLiked,t.likes+=t.isLiked?1:-1,t.isLiked?this.communityService.likeMessage(t.id,this.currentUserId).subscribe({error:()=>{t.isLiked=e,t.likes+=e?1:-1}}):this.communityService.unlikeMessage(t.id,this.currentUserId).subscribe({error:()=>{t.isLiked=e,t.likes+=e?1:-1}})}closeSuccessModal(){this.showSuccessModal=!1,this.successMessage=""}getTimeAgo(t){let e=Math.floor((new Date().getTime()-t.getTime())/1e3);if(e<60)return"Just now";let n=Math.floor(e/60);if(n<60)return`${n}m ago`;let a=Math.floor(n/60);if(a<24)return`${a}h ago`;let p=Math.floor(a/24);return p<30?`${p}d ago`:`${Math.floor(p/30)}mo ago`}goBack(){let t=this.router.url;this.backHandleService.backActionTrigger(t)}static \u0275fac=function(e){return new(e||o)(P(T),P(ct),P(ye),P(Ee),P(I),P(rt),P(Se))};static \u0275cmp=w({type:o,selectors:[["app-group-details"]],decls:21,vars:14,consts:[["fileInput",""],[1,"group-details-page"],[1,"header"],[1,"back-btn",3,"click"],[1,"pi","pi-arrow-left"],[1,"group-info",3,"click"],[1,"group-avatar"],["alt","Group icon","class","group-avatar-img",3,"src",4,"ngIf"],["class","pi pi-users",4,"ngIf"],[1,"group-details"],["class","loading",4,"ngIf"],["class","join-section",4,"ngIf"],["class","pending-section",4,"ngIf"],["class","announcements-feed",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["alt","Group icon",1,"group-avatar-img",3,"src"],[1,"pi","pi-users"],[1,"loading"],[1,"spinner"],[1,"join-section"],[1,"join-card"],[1,"join-icon"],[1,"pi","pi-user-plus"],[1,"btn-join",3,"click"],[1,"pi","pi-plus"],[1,"pending-section"],[1,"pending-card"],[1,"pending-icon"],[1,"pi","pi-clock"],[1,"status-badge","pending"],[1,"pi","pi-hourglass"],[1,"announcements-feed"],["class","admin-message-section",4,"ngIf"],["class","announcement-card",3,"pinned",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"admin-message-section"],[1,"send-announcement-btn",3,"click"],[1,"pi","pi-send"],[1,"announcement-card"],["class","pinned-badge",4,"ngIf"],[1,"card-header-row"],[1,"admin-badge"],[1,"pi","pi-megaphone"],[1,"action-buttons"],["class","pin-btn",3,"active","title","click",4,"ngIf"],["class","delete-btn","title","Delete announcement",3,"click",4,"ngIf"],["class","announcement-message",4,"ngIf"],["class","announcement-message no-content",4,"ngIf"],["class","announcement-image",4,"ngIf"],[1,"announcement-footer"],[1,"time"],[1,"reactions"],[1,"reaction-btn",3,"click"],[1,"pi",3,"ngClass"],[1,"reaction-btn"],[1,"pi","pi-eye"],[1,"pinned-badge"],[1,"pi","pi-thumbtack"],[1,"pin-btn",3,"click","title"],["title","Delete announcement",1,"delete-btn",3,"click"],[1,"pi","pi-trash"],[1,"announcement-message"],[1,"announcement-message","no-content"],[1,"announcement-image"],["alt","Announcement image",3,"src"],[1,"empty-state"],[1,"pi","pi-inbox"],[1,"modal-overlay",3,"click"],[1,"modal-content","members-modal",3,"click"],[1,"modal-header"],["type","button",1,"close-btn",3,"click"],[1,"pi","pi-times"],[1,"members-modal-body"],[1,"group-info-section"],[1,"group-icon-large"],["alt","Group icon","class","group-icon-large-img",3,"src",4,"ngIf"],[1,"group-desc"],["class","loading","style","padding: 40px 20px",4,"ngIf"],["class","pending-requests-section",4,"ngIf"],["class","members-list-section",4,"ngIf"],["alt","Group icon",1,"group-icon-large-img",3,"src"],[1,"loading",2,"padding","40px 20px"],[1,"pending-requests-section"],[1,"pi","pi-exclamation-circle"],[1,"search-box"],[1,"pi","pi-search"],["type","text","placeholder","Search pending requests...",3,"ngModelChange","ngModel"],["class","request-card",4,"ngFor","ngForOf"],[1,"request-card"],[1,"request-user"],[1,"user-avatar"],[1,"pi","pi-user"],[1,"user-info"],[1,"request-time"],[1,"request-actions"],["title","View Details",1,"btn-info",3,"click"],[1,"pi","pi-info-circle"],[1,"btn-approve",3,"click"],[1,"pi","pi-check"],[1,"btn-reject",3,"click"],[1,"members-list-section"],["type","text","placeholder","Search members...",3,"ngModelChange","ngModel"],["class","member-card",4,"ngFor","ngForOf"],[1,"member-card"],[1,"member-avatar"],[1,"member-info"],[1,"joined-date"],[1,"member-badges"],["class","badge admin",4,"ngIf"],["class","badge member",4,"ngIf"],[1,"badge","admin"],[1,"pi","pi-shield"],[1,"badge","member"],[1,"modal-content",3,"click"],[1,"info-banner"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","announcementMessage"],["id","announcementMessage","formControlName","message","rows","6","placeholder","Type your announcement here..."],[1,"image-upload-section"],["type","file","id","imageUpload","accept","image/*",2,"display","none",3,"change"],["type","button","class","btn-secondary",3,"click",4,"ngIf"],["class","image-preview",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary"],[1,"pi","pi-image"],[1,"image-preview"],["alt","Preview",3,"src"],[1,"image-preview-actions"],["type","button",1,"btn-secondary",3,"click","disabled"],[1,"modal-content","success-modal",3,"click"],[1,"success-icon"],[1,"pi","pi-check-circle"],[1,"btn-primary",3,"click"],["class","member-details-body","style","padding: 20px",4,"ngIf"],[1,"member-details-body",2,"padding","20px"],[1,"member-profile-header",2,"text-align","center","margin-bottom","24px"],[1,"avatar-large",2,"width","80px","height","80px","background","linear-gradient(135deg, #667eea 0%, #764ba2 100%)","border-radius","50%","display","flex","align-items","center","justify-content","center","margin","0 auto 16px"],[1,"pi","pi-user",2,"font-size","36px","color","white"],[2,"margin","0 0 4px 0","font-size","20px","color","#222"],[2,"margin","0","color","#666"],[1,"detail-row",2,"display","flex","justify-content","space-between","padding","12px 0","border-bottom","1px solid #eee"],[2,"color","#666","font-size","14px"],[1,"status-badge",2,"padding","4px 12px","border-radius","6px","font-size","12px","font-weight","500","text-transform","capitalize",3,"ngClass"],[2,"font-weight","500","color","#333","text-transform","capitalize"],[2,"font-weight","500","color","#333"],[1,"detail-row",2,"display","flex","justify-content","space-between","padding","12px 0"],["class","action-buttons","style","margin-top: 24px; display: flex; gap: 12px",4,"ngIf"],[1,"action-buttons",2,"margin-top","24px","display","flex","gap","12px"],[1,"btn-approve",2,"flex","1","padding","12px","border","none","border-radius","8px","background","#4caf50","color","white","font-weight","500","cursor","pointer",3,"click"],[1,"pi","pi-check",2,"margin-right","6px"],[1,"btn-reject",2,"flex","1","padding","12px","border","none","border-radius","8px","background","#f44336","color","white","font-weight","500","cursor","pointer",3,"click"],[1,"pi","pi-times",2,"margin-right","6px"]],template:function(e,n){e&1&&(i(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return n.goBack()}),m(3,"i",4),r(),i(4,"div",5),u("click",function(){return n.openMembersModal()}),i(5,"div",6),_(6,lc,1,1,"img",7)(7,pc,1,0,"i",8),r(),i(8,"div",9)(9,"h2"),s(10),r(),i(11,"p"),s(12),r()()()(),_(13,mc,2,0,"div",10)(14,gc,11,2,"div",11)(15,uc,12,0,"div",12)(16,yc,5,4,"div",13),r(),_(17,jc,17,9,"div",14)(18,Vc,30,4,"div",14)(19,Lc,8,1,"div",14)(20,Gc,8,1,"div",14)),e&2&&(c(5),Z("background",(n.group==null?null:n.group.color)||"#7b1fa2"),c(),d("ngIf",n.group==null?null:n.group.group_icon),c(),d("ngIf",!(n.group!=null&&n.group.group_icon)),c(3),g((n.group==null?null:n.group.name)||"Loading..."),c(2),v("",n.approvedMembersCount," members"),c(),d("ngIf",n.isLoading),c(),d("ngIf",!n.isLoading&&!n.isMember&&!n.joinRequested),c(),d("ngIf",!n.isLoading&&n.joinRequested&&!n.isMember),c(),d("ngIf",!n.isLoading&&(n.isMember||n.isAdmin)),c(),d("ngIf",n.showMembersModal),c(),d("ngIf",n.showMessageModal),c(),d("ngIf",n.showSuccessModal),c(),d("ngIf",n.showMemberDetailsModal))},dependencies:[Y,D,k,je,Oe,le,ze,Re,Ve,xe,Me],styles:[".group-details-page[_ngcontent-%COMP%]{min-height:100vh;background:#f5f5f5;padding-bottom:20px}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#fff;border-bottom:1px solid #eee;position:sticky;top:0;z-index:100}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:none;border:none;border-radius:50%;cursor:pointer;color:#666;transition:all .2s}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:12px;cursor:pointer;padding:4px 8px;border-radius:8px;transition:all .2s}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]:hover{background:#f9f9f9}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-avatar[_ngcontent-%COMP%]   .group-avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:12px}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin:0 0 2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#666;margin:0}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#7b1fa2,#9c27b0);border:none;border-radius:50%;cursor:pointer;color:#fff;transition:all .2s;box-shadow:0 2px 6px #7b1fa24d}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #7b1fa266;transform:translateY(-1px)}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.group-details-page[_ngcontent-%COMP%]   .group-description[_ngcontent-%COMP%]{background:#fff;padding:16px;margin-bottom:12px;border-bottom:1px solid #eee}.group-details-page[_ngcontent-%COMP%]   .group-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.5;margin:0}.group-details-page[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.group-details-page[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid #eee;border-top-color:#7b1fa2;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%], .group-details-page[_ngcontent-%COMP%]   .pending-section[_ngcontent-%COMP%]{padding:16px}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%]   .join-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:40px;text-align:center;border:1px solid #eee;box-shadow:0 2px 8px #0000000f}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%]   .join-card[_ngcontent-%COMP%]   .join-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;background:linear-gradient(135deg,#7b1fa2,#9c27b0);border-radius:50%;display:flex;align-items:center;justify-content:center}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%]   .join-card[_ngcontent-%COMP%]   .join-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:36px;color:#fff}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%]   .join-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#222;margin:0 0 12px}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%]   .join-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#666;margin:0 0 24px;line-height:1.6}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%]   .join-card[_ngcontent-%COMP%]   .btn-join[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:14px 32px;background:linear-gradient(135deg,#7b1fa2,#9c27b0);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px #7b1fa24d}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%]   .join-card[_ngcontent-%COMP%]   .btn-join[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #7b1fa266;transform:translateY(-2px)}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%]   .join-card[_ngcontent-%COMP%]   .btn-join[_ngcontent-%COMP%]:active{transform:translateY(0)}.group-details-page[_ngcontent-%COMP%]   .join-section[_ngcontent-%COMP%]   .join-card[_ngcontent-%COMP%]   .btn-join[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.group-details-page[_ngcontent-%COMP%]   .pending-section[_ngcontent-%COMP%]   .pending-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:40px;text-align:center;border:1px solid #eee;box-shadow:0 2px 8px #0000000f}.group-details-page[_ngcontent-%COMP%]   .pending-section[_ngcontent-%COMP%]   .pending-card[_ngcontent-%COMP%]   .pending-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;background:linear-gradient(135deg,#ff9800,#ff5722);border-radius:50%;display:flex;align-items:center;justify-content:center}.group-details-page[_ngcontent-%COMP%]   .pending-section[_ngcontent-%COMP%]   .pending-card[_ngcontent-%COMP%]   .pending-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:36px;color:#fff}.group-details-page[_ngcontent-%COMP%]   .pending-section[_ngcontent-%COMP%]   .pending-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#222;margin:0 0 12px}.group-details-page[_ngcontent-%COMP%]   .pending-section[_ngcontent-%COMP%]   .pending-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#666;margin:0 0 24px}.group-details-page[_ngcontent-%COMP%]   .pending-section[_ngcontent-%COMP%]   .pending-card[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;background:#fff3cd;color:#856404;border-radius:8px;font-size:14px;font-weight:500}.group-details-page[_ngcontent-%COMP%]   .pending-section[_ngcontent-%COMP%]   .pending-card[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.group-details-page[_ngcontent-%COMP%]   .announcements-feed[_ngcontent-%COMP%]{padding:0 16px;margin-top:12px}.group-details-page[_ngcontent-%COMP%]   .announcements-feed[_ngcontent-%COMP%]   .admin-message-section[_ngcontent-%COMP%]{margin-bottom:20px}.group-details-page[_ngcontent-%COMP%]   .announcements-feed[_ngcontent-%COMP%]   .admin-message-section[_ngcontent-%COMP%]   .send-announcement-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:10px;padding:14px 20px;background:linear-gradient(135deg,#7b1fa2,#9c27b0);color:#fff;border:none;border-radius:8px;font-size:15px;font-weight:500;cursor:pointer;transition:all .3s;box-shadow:0 2px 8px #7b1fa24d}.group-details-page[_ngcontent-%COMP%]   .announcements-feed[_ngcontent-%COMP%]   .admin-message-section[_ngcontent-%COMP%]   .send-announcement-btn[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #7b1fa266;transform:translateY(-1px)}.group-details-page[_ngcontent-%COMP%]   .announcements-feed[_ngcontent-%COMP%]   .admin-message-section[_ngcontent-%COMP%]   .send-announcement-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.group-details-page[_ngcontent-%COMP%]   .announcements-feed[_ngcontent-%COMP%]   .admin-message-section[_ngcontent-%COMP%]   .send-announcement-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 1px 3px #00000014;transition:all .2s;position:relative}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}.group-details-page[_ngcontent-%COMP%]   .announcement-card.pinned[_ngcontent-%COMP%]{border:2px solid #ffc107;background:linear-gradient(to bottom,#fffbea,#fff)}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .pinned-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;background:#ffc107;color:#000;border-radius:6px;font-size:11px;font-weight:600;margin-bottom:10px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .pinned-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .admin-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;background:#e3f2fd;color:#1976d2;border-radius:12px;font-size:11px;font-weight:600}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .admin-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .pin-btn[_ngcontent-%COMP%], .group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:none;border:none;border-radius:50%;cursor:pointer;transition:all .2s}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .pin-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .pin-btn[_ngcontent-%COMP%]:active, .group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .pin-btn[_ngcontent-%COMP%]{color:#666}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .pin-btn[_ngcontent-%COMP%]:hover, .group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .pin-btn.active[_ngcontent-%COMP%]{background:#fff3cd;color:#ffc107}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{color:#f44336}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#ffebee}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-message[_ngcontent-%COMP%]{font-size:15px;color:#333;line-height:1.6;margin:0 0 12px;white-space:pre-wrap;word-wrap:break-word}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-image[_ngcontent-%COMP%]{margin:12px 0;border-radius:8px;overflow:hidden;max-height:400px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:cover}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:12px;border-top:1px solid #f5f5f5}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-footer[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:12px;color:#999}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-footer[_ngcontent-%COMP%]   .reactions[_ngcontent-%COMP%]{display:flex;gap:16px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-footer[_ngcontent-%COMP%]   .reactions[_ngcontent-%COMP%]   .reaction-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 8px;background:none;border:none;border-radius:4px;cursor:pointer;font-size:13px;color:#666;transition:all .2s}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-footer[_ngcontent-%COMP%]   .reactions[_ngcontent-%COMP%]   .reaction-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-footer[_ngcontent-%COMP%]   .reactions[_ngcontent-%COMP%]   .reaction-btn.active[_ngcontent-%COMP%], .group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-footer[_ngcontent-%COMP%]   .reactions[_ngcontent-%COMP%]   .reaction-btn.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e74c3c}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-footer[_ngcontent-%COMP%]   .reactions[_ngcontent-%COMP%]   .reaction-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-footer[_ngcontent-%COMP%]   .reactions[_ngcontent-%COMP%]   .reaction-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.group-details-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#fff;border-radius:12px}.group-details-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#ddd;margin-bottom:12px}.group-details-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#666;margin:0 0 4px}.group-details-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#999}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-in-out;padding:20px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:100%;max-width:550px;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px;border-bottom:1px solid #eee;position:sticky;top:0;background:#fff;z-index:10}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#222;margin:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:none;border:none;border-radius:50%;cursor:pointer;color:#666;transition:all .2s}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px 20px;background:#e3f2fd;border-left:4px solid #2196f3;margin:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#2196f3;margin-top:2px;flex-shrink:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .info-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#1565c0;line-height:1.5}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:20px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#333;margin-bottom:8px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;color:#333;transition:all .2s;font-family:inherit;box-sizing:border-box}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#7b1fa2;box-shadow:0 0 0 3px #7b1fa21a}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]{border-color:#e74c3c}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.error[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #e74c3c1a}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder, .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#999}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;font-size:12px;color:#e74c3c;margin-top:6px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .upload-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:12px;background:#f5f5f5;border:2px dashed #ddd;border-radius:8px;cursor:pointer;transition:all .2s;color:#666;font-size:14px;font-weight:500}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .upload-btn[_ngcontent-%COMP%]:hover{background:#ebebeb;border-color:#7b1fa2;color:#7b1fa2}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .upload-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;border-radius:8px;overflow:hidden;border:1px solid #ddd}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover;display:block}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .remove-image-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#0009;border:none;border-radius:50%;cursor:pointer;color:#fff;transition:all .2s}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .remove-image-btn[_ngcontent-%COMP%]:hover{background:#f44336e6}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .remove-image-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-preview-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding:8px;background:#fafafa;border-top:1px solid #eee}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-preview-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex:1;justify-content:center;padding:8px 10px;font-size:13px;border-radius:6px;border:1px solid #ddd;background:#fff;color:#555;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-preview-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#ccc}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-preview-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(1px)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-preview-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #eee;margin-top:20px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;border:none;display:flex;align-items:center;gap:6px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7b1fa2,#9c27b0);color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 4px 12px #7b1fa24d;transform:translateY(-1px)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]{max-width:600px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]{max-height:calc(90vh - 70px);overflow-y:auto}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .group-info-section[_ngcontent-%COMP%]{text-align:center;padding:30px 20px;background:#fafafa;border-bottom:1px solid #eee}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .group-info-section[_ngcontent-%COMP%]   .group-icon-large[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 16px;border-radius:50%;display:flex;align-items:center;justify-content:center;overflow:hidden}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .group-info-section[_ngcontent-%COMP%]   .group-icon-large[_ngcontent-%COMP%]   .group-icon-large-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .group-info-section[_ngcontent-%COMP%]   .group-icon-large[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:36px;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .group-info-section[_ngcontent-%COMP%]   .group-desc[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0;line-height:1.5}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:#f5f5f5;border-radius:8px;padding:10px 14px;margin-bottom:16px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#999;flex-shrink:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;outline:none;font-size:14px;color:#333;min-width:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#999}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]{background:#fff8e1;border-bottom:2px solid #ffe082;padding:16px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#f57c00;margin:0 0 12px;display:flex;align-items:center;gap:8px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#fff;border:1px solid #ffe082;border-radius:8px;padding:12px;margin-bottom:8px;gap:12px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex:1;min-width:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-user[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:44px;height:44px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-user[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-user[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1;min-width:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-user[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#222;margin:0 0 2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-user[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:#666;margin:0 0 2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-user[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .request-time[_ngcontent-%COMP%]{font-size:11px;color:#999}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]{display:flex;gap:6px;flex-shrink:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 14px;border:none;border-radius:6px;font-size:12px;font-weight:500;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:4px;white-space:nowrap}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]:hover{background:#1976d2;box-shadow:0 2px 6px #2196f34d}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   .btn-info[_ngcontent-%COMP%]:active{transform:scale(.98)}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   .btn-approve[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   .btn-approve[_ngcontent-%COMP%]:hover{background:#45a049;box-shadow:0 2px 6px #4caf504d}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   .btn-approve[_ngcontent-%COMP%]:active{transform:scale(.98)}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   .btn-reject[_ngcontent-%COMP%]{background:#f44336;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   .btn-reject[_ngcontent-%COMP%]:hover{background:#da190b;box-shadow:0 2px 6px #f443364d}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .pending-requests-section[_ngcontent-%COMP%]   .request-card[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%]   .btn-reject[_ngcontent-%COMP%]:active{transform:scale(.98)}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]{padding:16px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#222;margin:0 0 12px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#fff;border:1px solid #eee;border-radius:8px;padding:12px;margin-bottom:8px;transition:all .2s}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]:hover{background:#f9f9f9;box-shadow:0 2px 4px #0000000d}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:44px;height:44px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{flex:1;min-width:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#222;margin:0 0 2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#666;margin:0 0 2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .joined-date[_ngcontent-%COMP%]{font-size:11px;color:#999}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-badges[_ngcontent-%COMP%]{flex-shrink:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:5px 12px;border-radius:6px;font-size:11px;font-weight:600}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-badges[_ngcontent-%COMP%]   .badge.admin[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .member-card[_ngcontent-%COMP%]   .member-badges[_ngcontent-%COMP%]   .badge.member[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:40px 20px;background:#f9f9f9;border-radius:8px;text-align:center}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:36px;color:#ddd;margin-bottom:8px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.members-modal[_ngcontent-%COMP%]   .members-modal-body[_ngcontent-%COMP%]   .members-list-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#999;margin:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content.success-modal[_ngcontent-%COMP%]{max-width:400px;text-align:center;padding:40px 30px}.modal-overlay[_ngcontent-%COMP%]   .modal-content.success-modal[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{width:70px;height:70px;margin:0 auto 20px;background:linear-gradient(135deg,#4caf50,#66bb6a);border-radius:50%;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_scaleIn .4s ease-out}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0)}to{transform:scale(1)}}.modal-overlay[_ngcontent-%COMP%]   .modal-content.success-modal[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:35px;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content.success-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#222;margin:0 0 20px;line-height:1.4}.modal-overlay[_ngcontent-%COMP%]   .modal-content.success-modal[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:12px 32px;border-radius:8px;font-size:15px;font-weight:500;cursor:pointer;transition:all .2s;border:none;background:linear-gradient(135deg,#7b1fa2,#9c27b0);color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content.success-modal[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #7b1fa24d;transform:translateY(-2px)}.modal-overlay[_ngcontent-%COMP%]   .modal-content.success-modal[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 768px){.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:12px 16px}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-avatar[_ngcontent-%COMP%]{width:42px;height:42px}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px}.group-details-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .announcement-message[_ngcontent-%COMP%]{font-size:14px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{gap:4px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .pin-btn[_ngcontent-%COMP%], .group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:28px;height:28px}.group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .pin-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .group-details-page[_ngcontent-%COMP%]   .announcement-card[_ngcontent-%COMP%]   .card-header-row[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px}.modal-overlay[_ngcontent-%COMP%]{padding:10px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-width:100%;border-radius:12px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:16px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}}"]})};var $c=[{path:"",component:xt},{path:"search-providers",component:St},{path:"join",component:kt},{path:"kyc",component:yt},{path:"favouritesListed",component:An},{path:"recentsListed",component:zn},{path:"user-profile",component:It},{path:"grievance",component:Et},{path:"support",component:Ft},{path:"confirmation",component:Dt},{path:"member-details",component:At},{path:"announcements",component:zt},{path:"group-details/:id",component:jt},{path:"info",loadChildren:()=>import("./chunk-D7OFPFO3.js").then(o=>o.ProviderInfoModule)}],Ut=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=tt({type:o});static \u0275inj=et({imports:[Lt.forChild($c),Lt]})};var Kn=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=tt({type:o});static \u0275inj=et({providers:[$e,te,_t,Ee,qe],imports:[sn,mn,pn,Dn,wn,Sn,Un,Mn,Ut]})};export{bt as a,Be as b,Tt as c,qe as d,Ee as e,wt as f,Kn as g};
